var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kS={},hO={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=Symbol.for("react.element"),I9=Symbol.for("react.portal"),S9=Symbol.for("react.fragment"),A9=Symbol.for("react.strict_mode"),R9=Symbol.for("react.profiler"),b9=Symbol.for("react.provider"),P9=Symbol.for("react.context"),C9=Symbol.for("react.forward_ref"),k9=Symbol.for("react.suspense"),x9=Symbol.for("react.memo"),N9=Symbol.for("react.lazy"),xP=Symbol.iterator;function O9(t){return t===null||typeof t!="object"?null:(t=xP&&t[xP]||t["@@iterator"],typeof t=="function"?t:null)}var pO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mO=Object.assign,gO={};function Hd(t,e,n){this.props=t,this.context=e,this.refs=gO,this.updater=n||pO}Hd.prototype.isReactComponent={};Hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _O(){}_O.prototype=Hd.prototype;function xS(t,e,n){this.props=t,this.context=e,this.refs=gO,this.updater=n||pO}var NS=xS.prototype=new _O;NS.constructor=xS;mO(NS,Hd.prototype);NS.isPureReactComponent=!0;var NP=Array.isArray,vO=Object.prototype.hasOwnProperty,OS={current:null},yO={key:!0,ref:!0,__self:!0,__source:!0};function wO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vO.call(e,r)&&!yO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:nm,type:t,key:s,ref:o,props:i,_owner:OS.current}}function D9(t,e){return{$$typeof:nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DS(t){return typeof t=="object"&&t!==null&&t.$$typeof===nm}function L9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OP=/\/+/g;function Y0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L9(""+t.key):e.toString(36)}function R_(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nm:case I9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Y0(o,0):r,NP(i)?(n="",t!=null&&(n=t.replace(OP,"$&/")+"/"),R_(i,e,n,"",function(d){return d})):i!=null&&(DS(i)&&(i=D9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",NP(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Y0(s,l);o+=R_(s,e,n,u,i)}else if(u=O9(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Y0(s,l++),o+=R_(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qg(t,e,n){if(t==null)return t;var r=[],i=0;return R_(t,r,"","",function(s){return e.call(n,s,i++)}),r}function M9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Br={current:null},b_={transition:null},V9={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:b_,ReactCurrentOwner:OS};function EO(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:qg,forEach:function(t,e,n){qg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qg(t,function(){e++}),e},toArray:function(t){return qg(t,function(e){return e})||[]},only:function(t){if(!DS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=Hd;ut.Fragment=S9;ut.Profiler=R9;ut.PureComponent=xS;ut.StrictMode=A9;ut.Suspense=k9;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V9;ut.act=EO;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=OS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)vO.call(e,u)&&!yO.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:nm,type:t.type,key:i,ref:s,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:P9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b9,_context:t},t.Consumer=t};ut.createElement=wO;ut.createFactory=function(t){var e=wO.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:C9,render:t}};ut.isValidElement=DS;ut.lazy=function(t){return{$$typeof:N9,_payload:{_status:-1,_result:t},_init:M9}};ut.memo=function(t,e){return{$$typeof:x9,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=b_.transition;b_.transition={};try{t()}finally{b_.transition=e}};ut.unstable_act=EO;ut.useCallback=function(t,e){return Br.current.useCallback(t,e)};ut.useContext=function(t){return Br.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return Br.current.useDeferredValue(t)};ut.useEffect=function(t,e){return Br.current.useEffect(t,e)};ut.useId=function(){return Br.current.useId()};ut.useImperativeHandle=function(t,e,n){return Br.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return Br.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return Br.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return Br.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return Br.current.useReducer(t,e,n)};ut.useRef=function(t){return Br.current.useRef(t)};ut.useState=function(t){return Br.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return Br.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return Br.current.useTransition()};ut.version="18.3.1";hO.exports=ut;var jt=hO.exports;const qe=CS(jt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F9=jt,U9=Symbol.for("react.element"),$9=Symbol.for("react.fragment"),B9=Object.prototype.hasOwnProperty,z9=F9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j9={key:!0,ref:!0,__self:!0,__source:!0};function TO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B9.call(e,r)&&!j9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U9,type:t,key:s,ref:o,props:i,_owner:z9.current}}kS.Fragment=$9;kS.jsx=TO;kS.jsxs=TO;var IO={exports:{}},W9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G9=W9,q9=G9;function SO(){}function AO(){}AO.resetWarningCache=SO;var H9=function(){function t(r,i,s,o,l,u){if(u!==q9){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AO,resetWarningCache:SO};return n.PropTypes=n,n};IO.exports=H9();var K9=IO.exports;const at=CS(K9);var RO={exports:{}},Ii={},bO={exports:{}},PO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ce,we){var ue=ce.length;ce.push(we);e:for(;0<ue;){var Ie=ue-1>>>1,q=ce[Ie];if(0<i(q,we))ce[Ie]=we,ce[ue]=q,ue=Ie;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var we=ce[0],ue=ce.pop();if(ue!==we){ce[0]=ue;e:for(var Ie=0,q=ce.length,ne=q>>>1;Ie<ne;){var de=2*(Ie+1)-1,Pe=ce[de],ye=de+1,Be=ce[ye];if(0>i(Pe,ue))ye<q&&0>i(Be,Pe)?(ce[Ie]=Be,ce[ye]=ue,Ie=ye):(ce[Ie]=Pe,ce[de]=ue,Ie=de);else if(ye<q&&0>i(Be,ue))ce[Ie]=Be,ce[ye]=ue,Ie=ye;else break e}}return we}function i(ce,we){var ue=ce.sortIndex-we.sortIndex;return ue!==0?ue:ce.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,m=null,_=3,y=!1,S=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ce){for(var we=n(d);we!==null;){if(we.callback===null)r(d);else if(we.startTime<=ce)r(d),we.sortIndex=we.expirationTime,e(u,we);else break;we=n(d)}}function F(ce){if(R=!1,b(ce),!S)if(n(u)!==null)S=!0,qt(B);else{var we=n(d);we!==null&&wt(F,we.startTime-ce)}}function B(ce,we){S=!1,R&&(R=!1,T(I),I=-1),y=!0;var ue=_;try{for(b(we),m=n(u);m!==null&&(!(m.expirationTime>we)||ce&&!L());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,_=m.priorityLevel;var q=Ie(m.expirationTime<=we);we=t.unstable_now(),typeof q=="function"?m.callback=q:m===n(u)&&r(u),b(we)}else r(u);m=n(u)}if(m!==null)var ne=!0;else{var de=n(d);de!==null&&wt(F,de.startTime-we),ne=!1}return ne}finally{m=null,_=ue,y=!1}}var z=!1,x=null,I=-1,O=5,M=-1;function L(){return!(t.unstable_now()-M<O)}function U(){if(x!==null){var ce=t.unstable_now();M=ce;var we=!0;try{we=x(!0,ce)}finally{we?N():(z=!1,x=null)}}else z=!1}var N;if(typeof A=="function")N=function(){A(U)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,en=We.port2;We.port1.onmessage=U,N=function(){en.postMessage(null)}}else N=function(){D(U,0)};function qt(ce){x=ce,z||(z=!0,N())}function wt(ce,we){I=D(function(){ce(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,qt(B))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ce){switch(_){case 1:case 2:case 3:var we=3;break;default:we=_}var ue=_;_=we;try{return ce()}finally{_=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,we){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var ue=_;_=ce;try{return we()}finally{_=ue}},t.unstable_scheduleCallback=function(ce,we,ue){var Ie=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ie+ue:Ie):ue=Ie,ce){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ce={id:p++,callback:we,priorityLevel:ce,startTime:ue,expirationTime:q,sortIndex:-1},ue>Ie?(ce.sortIndex=ue,e(d,ce),n(u)===null&&ce===n(d)&&(R?(T(I),I=-1):R=!0,wt(F,ue-Ie))):(ce.sortIndex=q,e(u,ce),S||y||(S=!0,qt(B))),ce},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ce){var we=_;return function(){var ue=_;_=we;try{return ce.apply(this,arguments)}finally{_=ue}}}})(PO);bO.exports=PO;var Q9=bO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y9=jt,Ei=Q9;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CO=new Set,ep={};function Bu(t,e){dd(t,e),dd(t+"Capture",e)}function dd(t,e){for(ep[t]=e,t=0;t<e.length;t++)CO.add(e[t])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lT=Object.prototype.hasOwnProperty,Z9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DP={},LP={};function J9(t){return lT.call(LP,t)?!0:lT.call(DP,t)?!1:Z9.test(t)?LP[t]=!0:(DP[t]=!0,!1)}function X9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ej(t,e,n,r){if(e===null||typeof e>"u"||X9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var LS=/[\-:]([a-z])/g;function MS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LS,MS);pr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LS,MS);pr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LS,MS);pr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function VS(t,e,n,r){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ej(e,n,i,r)&&(n=null),r||i===null?J9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Uo=Y9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hg=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),uT=Symbol.for("react.profiler"),kO=Symbol.for("react.provider"),xO=Symbol.for("react.context"),US=Symbol.for("react.forward_ref"),cT=Symbol.for("react.suspense"),dT=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),NO=Symbol.for("react.offscreen"),MP=Symbol.iterator;function qf(t){return t===null||typeof t!="object"?null:(t=MP&&t[MP]||t["@@iterator"],typeof t=="function"?t:null)}var yn=Object.assign,Z0;function ph(t){if(Z0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z0=e&&e[1]||""}return`
`+Z0+t}var J0=!1;function X0(t,e){if(!t||J0)return"";J0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{J0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ph(t):""}function tj(t){switch(t.tag){case 5:return ph(t.type);case 16:return ph("Lazy");case 13:return ph("Suspense");case 19:return ph("SuspenseList");case 0:case 2:case 15:return t=X0(t.type,!1),t;case 11:return t=X0(t.type.render,!1),t;case 1:return t=X0(t.type,!0),t;default:return""}}function fT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mc:return"Fragment";case Lc:return"Portal";case uT:return"Profiler";case FS:return"StrictMode";case cT:return"Suspense";case dT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xO:return(t.displayName||"Context")+".Consumer";case kO:return(t._context.displayName||"Context")+".Provider";case US:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:fT(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return fT(t(e))}catch{}}return null}function nj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fT(e);case 8:return e===FS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rj(t){var e=OO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kg(t){t._valueTracker||(t._valueTracker=rj(t))}function DO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hT(t,e){var n=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LO(t,e){e=e.checked,e!=null&&VS(t,"checked",e,!1)}function pT(t,e){LO(t,e);var n=Wa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mT(t,e.type,n):e.hasOwnProperty("defaultValue")&&mT(t,e.type,Wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mT(t,e,n){(e!=="number"||iv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mh=Array.isArray;function Yc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(mh(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wa(n)}}function MO(t,e){var n=Wa(e.value),r=Wa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $P(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _T(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qg,FO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qg=Qg||document.createElement("div"),Qg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ij=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(t){ij.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ch[e]=Ch[t]})});function UO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ch.hasOwnProperty(t)&&Ch[t]?(""+e).trim():e+"px"}function $O(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sj=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vT(t,e){if(e){if(sj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function yT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wT=null;function BS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ET=null,Zc=null,Jc=null;function BP(t){if(t=sm(t)){if(typeof ET!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Ty(e),ET(t.stateNode,t.type,e))}}function BO(t){Zc?Jc?Jc.push(t):Jc=[t]:Zc=t}function zO(){if(Zc){var t=Zc,e=Jc;if(Jc=Zc=null,BP(t),e)for(t=0;t<e.length;t++)BP(e[t])}}function jO(t,e){return t(e)}function WO(){}var eE=!1;function GO(t,e,n){if(eE)return t(e,n);eE=!0;try{return jO(t,e,n)}finally{eE=!1,(Zc!==null||Jc!==null)&&(WO(),zO())}}function np(t,e){var n=t.stateNode;if(n===null)return null;var r=Ty(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var TT=!1;if(Co)try{var Hf={};Object.defineProperty(Hf,"passive",{get:function(){TT=!0}}),window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{TT=!1}function oj(t,e,n,r,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var kh=!1,sv=null,ov=!1,IT=null,aj={onError:function(t){kh=!0,sv=t}};function lj(t,e,n,r,i,s,o,l,u){kh=!1,sv=null,oj.apply(aj,arguments)}function uj(t,e,n,r,i,s,o,l,u){if(lj.apply(this,arguments),kh){if(kh){var d=sv;kh=!1,sv=null}else throw Error(ae(198));ov||(ov=!0,IT=d)}}function zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zP(t){if(zu(t)!==t)throw Error(ae(188))}function cj(t){var e=t.alternate;if(!e){if(e=zu(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zP(i),t;if(s===r)return zP(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function HO(t){return t=cj(t),t!==null?KO(t):null}function KO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KO(t);if(e!==null)return e;t=t.sibling}return null}var QO=Ei.unstable_scheduleCallback,jP=Ei.unstable_cancelCallback,dj=Ei.unstable_shouldYield,fj=Ei.unstable_requestPaint,On=Ei.unstable_now,hj=Ei.unstable_getCurrentPriorityLevel,zS=Ei.unstable_ImmediatePriority,YO=Ei.unstable_UserBlockingPriority,av=Ei.unstable_NormalPriority,pj=Ei.unstable_LowPriority,ZO=Ei.unstable_IdlePriority,vy=null,Us=null;function mj(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(vy,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:vj,gj=Math.log,_j=Math.LN2;function vj(t){return t>>>=0,t===0?32:31-(gj(t)/_j|0)|0}var Yg=64,Zg=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=gh(l):(s&=o,s!==0&&(r=gh(s)))}else o=n&~i,o!==0?r=gh(o):s!==0&&(r=gh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),i=1<<n,r|=t[n],e&=~i;return r}function yj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fs(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=yj(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function ST(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JO(){var t=Yg;return Yg<<=1,!(Yg&4194240)&&(Yg=64),t}function tE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function Ej(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function XO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eD,WS,tD,nD,rD,AT=!1,Jg=[],Da=null,La=null,Ma=null,rp=new Map,ip=new Map,Ta=[],Tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WP(t,e){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":rp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(e.pointerId)}}function Kf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sm(e),e!==null&&WS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ij(t,e,n,r,i){switch(e){case"focusin":return Da=Kf(Da,t,e,n,r,i),!0;case"dragenter":return La=Kf(La,t,e,n,r,i),!0;case"mouseover":return Ma=Kf(Ma,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rp.set(s,Kf(rp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ip.set(s,Kf(ip.get(s)||null,t,e,n,r,i)),!0}return!1}function iD(t){var e=Xl(t.target);if(e!==null){var n=zu(e);if(n!==null){if(e=n.tag,e===13){if(e=qO(n),e!==null){t.blockedOn=e,rD(t.priority,function(){tD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function P_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wT=r,n.target.dispatchEvent(r),wT=null}else return e=sm(n),e!==null&&WS(e),t.blockedOn=n,!1;e.shift()}return!0}function GP(t,e,n){P_(t)&&n.delete(e)}function Sj(){AT=!1,Da!==null&&P_(Da)&&(Da=null),La!==null&&P_(La)&&(La=null),Ma!==null&&P_(Ma)&&(Ma=null),rp.forEach(GP),ip.forEach(GP)}function Qf(t,e){t.blockedOn===e&&(t.blockedOn=null,AT||(AT=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,Sj)))}function sp(t){function e(i){return Qf(i,t)}if(0<Jg.length){Qf(Jg[0],t);for(var n=1;n<Jg.length;n++){var r=Jg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Da!==null&&Qf(Da,t),La!==null&&Qf(La,t),Ma!==null&&Qf(Ma,t),rp.forEach(e),ip.forEach(e),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)iD(n),n.blockedOn===null&&Ta.shift()}var Xc=Uo.ReactCurrentBatchConfig,uv=!0;function Aj(t,e,n,r){var i=Ot,s=Xc.transition;Xc.transition=null;try{Ot=1,GS(t,e,n,r)}finally{Ot=i,Xc.transition=s}}function Rj(t,e,n,r){var i=Ot,s=Xc.transition;Xc.transition=null;try{Ot=4,GS(t,e,n,r)}finally{Ot=i,Xc.transition=s}}function GS(t,e,n,r){if(uv){var i=RT(t,e,n,r);if(i===null)dE(t,e,r,cv,n),WP(t,r);else if(Ij(i,t,e,n,r))r.stopPropagation();else if(WP(t,r),e&4&&-1<Tj.indexOf(t)){for(;i!==null;){var s=sm(i);if(s!==null&&eD(s),s=RT(t,e,n,r),s===null&&dE(t,e,r,cv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dE(t,e,r,null,n)}}var cv=null;function RT(t,e,n,r){if(cv=null,t=BS(r),t=Xl(t),t!==null)if(e=zu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cv=t,null}function sD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hj()){case zS:return 1;case YO:return 4;case av:case pj:return 16;case ZO:return 536870912;default:return 16}default:return 16}}var ba=null,qS=null,C_=null;function oD(){if(C_)return C_;var t,e=qS,n=e.length,r,i="value"in ba?ba.value:ba.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return C_=i.slice(t,1<r?1-r:void 0)}function k_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xg(){return!0}function qP(){return!1}function Si(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xg:qP,this.isPropagationStopped=qP,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),e}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HS=Si(Kd),im=yn({},Kd,{view:0,detail:0}),bj=Si(im),nE,rE,Yf,yy=yn({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yf&&(Yf&&t.type==="mousemove"?(nE=t.screenX-Yf.screenX,rE=t.screenY-Yf.screenY):rE=nE=0,Yf=t),nE)},movementY:function(t){return"movementY"in t?t.movementY:rE}}),HP=Si(yy),Pj=yn({},yy,{dataTransfer:0}),Cj=Si(Pj),kj=yn({},im,{relatedTarget:0}),iE=Si(kj),xj=yn({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),Nj=Si(xj),Oj=yn({},Kd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dj=Si(Oj),Lj=yn({},Kd,{data:0}),KP=Si(Lj),Mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fj[t])?!!e[t]:!1}function KS(){return Uj}var $j=yn({},im,{key:function(t){if(t.key){var e=Mj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=k_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KS,charCode:function(t){return t.type==="keypress"?k_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?k_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bj=Si($j),zj=yn({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QP=Si(zj),jj=yn({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KS}),Wj=Si(jj),Gj=yn({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),qj=Si(Gj),Hj=yn({},yy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kj=Si(Hj),Qj=[9,13,27,32],QS=Co&&"CompositionEvent"in window,xh=null;Co&&"documentMode"in document&&(xh=document.documentMode);var Yj=Co&&"TextEvent"in window&&!xh,aD=Co&&(!QS||xh&&8<xh&&11>=xh),YP=" ",ZP=!1;function lD(t,e){switch(t){case"keyup":return Qj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vc=!1;function Zj(t,e){switch(t){case"compositionend":return uD(e);case"keypress":return e.which!==32?null:(ZP=!0,YP);case"textInput":return t=e.data,t===YP&&ZP?null:t;default:return null}}function Jj(t,e){if(Vc)return t==="compositionend"||!QS&&lD(t,e)?(t=oD(),C_=qS=ba=null,Vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aD&&e.locale!=="ko"?null:e.data;default:return null}}var Xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xj[t.type]:e==="textarea"}function cD(t,e,n,r){BO(r),e=dv(e,"onChange"),0<e.length&&(n=new HS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nh=null,op=null;function eW(t){ED(t,0)}function wy(t){var e=$c(t);if(DO(e))return t}function tW(t,e){if(t==="change")return e}var dD=!1;if(Co){var sE;if(Co){var oE="oninput"in document;if(!oE){var XP=document.createElement("div");XP.setAttribute("oninput","return;"),oE=typeof XP.oninput=="function"}sE=oE}else sE=!1;dD=sE&&(!document.documentMode||9<document.documentMode)}function eC(){Nh&&(Nh.detachEvent("onpropertychange",fD),op=Nh=null)}function fD(t){if(t.propertyName==="value"&&wy(op)){var e=[];cD(e,op,t,BS(t)),GO(eW,e)}}function nW(t,e,n){t==="focusin"?(eC(),Nh=e,op=n,Nh.attachEvent("onpropertychange",fD)):t==="focusout"&&eC()}function rW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wy(op)}function iW(t,e){if(t==="click")return wy(e)}function sW(t,e){if(t==="input"||t==="change")return wy(e)}function oW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:oW;function ap(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lT.call(e,i)||!ps(t[i],e[i]))return!1}return!0}function tC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nC(t,e){var n=tC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tC(n)}}function hD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pD(){for(var t=window,e=iv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iv(t.document)}return e}function YS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aW(t){var e=pD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hD(n.ownerDocument.documentElement,n)){if(r!==null&&YS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nC(n,s);var o=nC(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lW=Co&&"documentMode"in document&&11>=document.documentMode,Fc=null,bT=null,Oh=null,PT=!1;function rC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;PT||Fc==null||Fc!==iv(r)||(r=Fc,"selectionStart"in r&&YS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oh&&ap(Oh,r)||(Oh=r,r=dv(bT,"onSelect"),0<r.length&&(e=new HS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function e_(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uc={animationend:e_("Animation","AnimationEnd"),animationiteration:e_("Animation","AnimationIteration"),animationstart:e_("Animation","AnimationStart"),transitionend:e_("Transition","TransitionEnd")},aE={},mD={};Co&&(mD=document.createElement("div").style,"AnimationEvent"in window||(delete Uc.animationend.animation,delete Uc.animationiteration.animation,delete Uc.animationstart.animation),"TransitionEvent"in window||delete Uc.transitionend.transition);function Ey(t){if(aE[t])return aE[t];if(!Uc[t])return t;var e=Uc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mD)return aE[t]=e[n];return t}var gD=Ey("animationend"),_D=Ey("animationiteration"),vD=Ey("animationstart"),yD=Ey("transitionend"),wD=new Map,iC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ll(t,e){wD.set(t,e),Bu(e,[t])}for(var lE=0;lE<iC.length;lE++){var uE=iC[lE],uW=uE.toLowerCase(),cW=uE[0].toUpperCase()+uE.slice(1);ll(uW,"on"+cW)}ll(gD,"onAnimationEnd");ll(_D,"onAnimationIteration");ll(vD,"onAnimationStart");ll("dblclick","onDoubleClick");ll("focusin","onFocus");ll("focusout","onBlur");ll(yD,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);Bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dW=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function sC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uj(r,e,void 0,t),t.currentTarget=null}function ED(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;sC(i,l,d),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;sC(i,l,d),s=u}}}if(ov)throw t=IT,ov=!1,IT=null,t}function Kt(t,e){var n=e[OT];n===void 0&&(n=e[OT]=new Set);var r=t+"__bubble";n.has(r)||(TD(e,t,2,!1),n.add(r))}function cE(t,e,n){var r=0;e&&(r|=4),TD(n,t,r,e)}var t_="_reactListening"+Math.random().toString(36).slice(2);function lp(t){if(!t[t_]){t[t_]=!0,CO.forEach(function(n){n!=="selectionchange"&&(dW.has(n)||cE(n,!1,t),cE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[t_]||(e[t_]=!0,cE("selectionchange",!1,e))}}function TD(t,e,n,r){switch(sD(e)){case 1:var i=Aj;break;case 4:i=Rj;break;default:i=GS}n=i.bind(null,e,n,t),i=void 0,!TT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xl(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}GO(function(){var d=s,p=BS(n),m=[];e:{var _=wD.get(t);if(_!==void 0){var y=HS,S=t;switch(t){case"keypress":if(k_(n)===0)break e;case"keydown":case"keyup":y=Bj;break;case"focusin":S="focus",y=iE;break;case"focusout":S="blur",y=iE;break;case"beforeblur":case"afterblur":y=iE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=HP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Wj;break;case gD:case _D:case vD:y=Nj;break;case yD:y=qj;break;case"scroll":y=bj;break;case"wheel":y=Kj;break;case"copy":case"cut":case"paste":y=Dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=QP}var R=(e&4)!==0,D=!R&&t==="scroll",T=R?_!==null?_+"Capture":null:_;R=[];for(var A=d,b;A!==null;){b=A;var F=b.stateNode;if(b.tag===5&&F!==null&&(b=F,T!==null&&(F=np(A,T),F!=null&&R.push(up(A,F,b)))),D)break;A=A.return}0<R.length&&(_=new y(_,S,null,n,p),m.push({event:_,listeners:R}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",_&&n!==wT&&(S=n.relatedTarget||n.fromElement)&&(Xl(S)||S[ko]))break e;if((y||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=d,S=S?Xl(S):null,S!==null&&(D=zu(S),S!==D||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=d),y!==S)){if(R=HP,F="onMouseLeave",T="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(R=QP,F="onPointerLeave",T="onPointerEnter",A="pointer"),D=y==null?_:$c(y),b=S==null?_:$c(S),_=new R(F,A+"leave",y,n,p),_.target=D,_.relatedTarget=b,F=null,Xl(p)===d&&(R=new R(T,A+"enter",S,n,p),R.target=b,R.relatedTarget=D,F=R),D=F,y&&S)t:{for(R=y,T=S,A=0,b=R;b;b=Ec(b))A++;for(b=0,F=T;F;F=Ec(F))b++;for(;0<A-b;)R=Ec(R),A--;for(;0<b-A;)T=Ec(T),b--;for(;A--;){if(R===T||T!==null&&R===T.alternate)break t;R=Ec(R),T=Ec(T)}R=null}else R=null;y!==null&&oC(m,_,y,R,!1),S!==null&&D!==null&&oC(m,D,S,R,!0)}}e:{if(_=d?$c(d):window,y=_.nodeName&&_.nodeName.toLowerCase(),y==="select"||y==="input"&&_.type==="file")var B=tW;else if(JP(_))if(dD)B=sW;else{B=rW;var z=nW}else(y=_.nodeName)&&y.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(B=iW);if(B&&(B=B(t,d))){cD(m,B,n,p);break e}z&&z(t,_,d),t==="focusout"&&(z=_._wrapperState)&&z.controlled&&_.type==="number"&&mT(_,"number",_.value)}switch(z=d?$c(d):window,t){case"focusin":(JP(z)||z.contentEditable==="true")&&(Fc=z,bT=d,Oh=null);break;case"focusout":Oh=bT=Fc=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,rC(m,n,p);break;case"selectionchange":if(lW)break;case"keydown":case"keyup":rC(m,n,p)}var x;if(QS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Vc?lD(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aD&&n.locale!=="ko"&&(Vc||I!=="onCompositionStart"?I==="onCompositionEnd"&&Vc&&(x=oD()):(ba=p,qS="value"in ba?ba.value:ba.textContent,Vc=!0)),z=dv(d,I),0<z.length&&(I=new KP(I,t,null,n,p),m.push({event:I,listeners:z}),x?I.data=x:(x=uD(n),x!==null&&(I.data=x)))),(x=Yj?Zj(t,n):Jj(t,n))&&(d=dv(d,"onBeforeInput"),0<d.length&&(p=new KP("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=x))}ED(m,e)})}function up(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=np(t,n),s!=null&&r.unshift(up(t,s,i)),s=np(t,e),s!=null&&r.push(up(t,s,i))),t=t.return}return r}function Ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oC(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=np(n,s),u!=null&&o.unshift(up(n,u,l))):i||(u=np(n,s),u!=null&&o.push(up(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fW=/\r\n?/g,hW=/\u0000|\uFFFD/g;function aC(t){return(typeof t=="string"?t:""+t).replace(fW,`
`).replace(hW,"")}function n_(t,e,n){if(e=aC(e),aC(t)!==e&&n)throw Error(ae(425))}function fv(){}var CT=null,kT=null;function xT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NT=typeof setTimeout=="function"?setTimeout:void 0,pW=typeof clearTimeout=="function"?clearTimeout:void 0,lC=typeof Promise=="function"?Promise:void 0,mW=typeof queueMicrotask=="function"?queueMicrotask:typeof lC<"u"?function(t){return lC.resolve(null).then(t).catch(gW)}:NT;function gW(t){setTimeout(function(){throw t})}function fE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sp(e)}function Va(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qd=Math.random().toString(36).slice(2),Cs="__reactFiber$"+Qd,cp="__reactProps$"+Qd,ko="__reactContainer$"+Qd,OT="__reactEvents$"+Qd,_W="__reactListeners$"+Qd,vW="__reactHandles$"+Qd;function Xl(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ko]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uC(t);t!==null;){if(n=t[Cs])return n;t=uC(t)}return e}t=n,n=t.parentNode}return null}function sm(t){return t=t[Cs]||t[ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Ty(t){return t[cp]||null}var DT=[],Bc=-1;function ul(t){return{current:t}}function Jt(t){0>Bc||(t.current=DT[Bc],DT[Bc]=null,Bc--)}function Wt(t,e){Bc++,DT[Bc]=t.current,t.current=e}var Ga={},Ar=ul(Ga),ti=ul(!1),pu=Ga;function fd(t,e){var n=t.type.contextTypes;if(!n)return Ga;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ni(t){return t=t.childContextTypes,t!=null}function hv(){Jt(ti),Jt(Ar)}function cC(t,e,n){if(Ar.current!==Ga)throw Error(ae(168));Wt(Ar,e),Wt(ti,n)}function ID(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,nj(t)||"Unknown",i));return yn({},n,r)}function pv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,pu=Ar.current,Wt(Ar,t),Wt(ti,ti.current),!0}function dC(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=ID(t,e,pu),r.__reactInternalMemoizedMergedChildContext=t,Jt(ti),Jt(Ar),Wt(Ar,t)):Jt(ti),Wt(ti,n)}var _o=null,Iy=!1,hE=!1;function SD(t){_o===null?_o=[t]:_o.push(t)}function yW(t){Iy=!0,SD(t)}function cl(){if(!hE&&_o!==null){hE=!0;var t=0,e=Ot;try{var n=_o;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_o=null,Iy=!1}catch(i){throw _o!==null&&(_o=_o.slice(t+1)),QO(zS,cl),i}finally{Ot=e,hE=!1}}return null}var zc=[],jc=0,mv=null,gv=0,$i=[],Bi=0,mu=null,vo=1,yo="";function zl(t,e){zc[jc++]=gv,zc[jc++]=mv,mv=t,gv=e}function AD(t,e,n){$i[Bi++]=vo,$i[Bi++]=yo,$i[Bi++]=mu,mu=t;var r=vo;t=yo;var i=32-fs(r)-1;r&=~(1<<i),n+=1;var s=32-fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vo=1<<32-fs(e)+i|n<<i|r,yo=s+t}else vo=1<<s|n<<i|r,yo=t}function ZS(t){t.return!==null&&(zl(t,1),AD(t,1,0))}function JS(t){for(;t===mv;)mv=zc[--jc],zc[jc]=null,gv=zc[--jc],zc[jc]=null;for(;t===mu;)mu=$i[--Bi],$i[Bi]=null,yo=$i[--Bi],$i[Bi]=null,vo=$i[--Bi],$i[Bi]=null}var vi=null,gi=null,an=!1,cs=null;function RD(t,e){var n=ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vi=t,gi=Va(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vi=t,gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mu!==null?{id:vo,overflow:yo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vi=t,gi=null,!0):!1;default:return!1}}function LT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MT(t){if(an){var e=gi;if(e){var n=e;if(!fC(t,e)){if(LT(t))throw Error(ae(418));e=Va(n.nextSibling);var r=vi;e&&fC(t,e)?RD(r,n):(t.flags=t.flags&-4097|2,an=!1,vi=t)}}else{if(LT(t))throw Error(ae(418));t.flags=t.flags&-4097|2,an=!1,vi=t}}}function hC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vi=t}function r_(t){if(t!==vi)return!1;if(!an)return hC(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xT(t.type,t.memoizedProps)),e&&(e=gi)){if(LT(t))throw bD(),Error(ae(418));for(;e;)RD(t,e),e=Va(e.nextSibling)}if(hC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gi=Va(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gi=null}}else gi=vi?Va(t.stateNode.nextSibling):null;return!0}function bD(){for(var t=gi;t;)t=Va(t.nextSibling)}function hd(){gi=vi=null,an=!1}function XS(t){cs===null?cs=[t]:cs.push(t)}var wW=Uo.ReactCurrentBatchConfig;function Zf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function i_(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pC(t){var e=t._init;return e(t._payload)}function PD(t){function e(T,A){if(t){var b=T.deletions;b===null?(T.deletions=[A],T.flags|=16):b.push(A)}}function n(T,A){if(!t)return null;for(;A!==null;)e(T,A),A=A.sibling;return null}function r(T,A){for(T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function i(T,A){return T=Ba(T,A),T.index=0,T.sibling=null,T}function s(T,A,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<A?(T.flags|=2,A):b):(T.flags|=2,A)):(T.flags|=1048576,A)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,A,b,F){return A===null||A.tag!==6?(A=wE(b,T.mode,F),A.return=T,A):(A=i(A,b),A.return=T,A)}function u(T,A,b,F){var B=b.type;return B===Mc?p(T,A,b.props.children,F,b.key):A!==null&&(A.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===va&&pC(B)===A.type)?(F=i(A,b.props),F.ref=Zf(T,A,b),F.return=T,F):(F=V_(b.type,b.key,b.props,null,T.mode,F),F.ref=Zf(T,A,b),F.return=T,F)}function d(T,A,b,F){return A===null||A.tag!==4||A.stateNode.containerInfo!==b.containerInfo||A.stateNode.implementation!==b.implementation?(A=EE(b,T.mode,F),A.return=T,A):(A=i(A,b.children||[]),A.return=T,A)}function p(T,A,b,F,B){return A===null||A.tag!==7?(A=au(b,T.mode,F,B),A.return=T,A):(A=i(A,b),A.return=T,A)}function m(T,A,b){if(typeof A=="string"&&A!==""||typeof A=="number")return A=wE(""+A,T.mode,b),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hg:return b=V_(A.type,A.key,A.props,null,T.mode,b),b.ref=Zf(T,null,A),b.return=T,b;case Lc:return A=EE(A,T.mode,b),A.return=T,A;case va:var F=A._init;return m(T,F(A._payload),b)}if(mh(A)||qf(A))return A=au(A,T.mode,b,null),A.return=T,A;i_(T,A)}return null}function _(T,A,b,F){var B=A!==null?A.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return B!==null?null:l(T,A,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hg:return b.key===B?u(T,A,b,F):null;case Lc:return b.key===B?d(T,A,b,F):null;case va:return B=b._init,_(T,A,B(b._payload),F)}if(mh(b)||qf(b))return B!==null?null:p(T,A,b,F,null);i_(T,b)}return null}function y(T,A,b,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return T=T.get(b)||null,l(A,T,""+F,B);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Hg:return T=T.get(F.key===null?b:F.key)||null,u(A,T,F,B);case Lc:return T=T.get(F.key===null?b:F.key)||null,d(A,T,F,B);case va:var z=F._init;return y(T,A,b,z(F._payload),B)}if(mh(F)||qf(F))return T=T.get(b)||null,p(A,T,F,B,null);i_(A,F)}return null}function S(T,A,b,F){for(var B=null,z=null,x=A,I=A=0,O=null;x!==null&&I<b.length;I++){x.index>I?(O=x,x=null):O=x.sibling;var M=_(T,x,b[I],F);if(M===null){x===null&&(x=O);break}t&&x&&M.alternate===null&&e(T,x),A=s(M,A,I),z===null?B=M:z.sibling=M,z=M,x=O}if(I===b.length)return n(T,x),an&&zl(T,I),B;if(x===null){for(;I<b.length;I++)x=m(T,b[I],F),x!==null&&(A=s(x,A,I),z===null?B=x:z.sibling=x,z=x);return an&&zl(T,I),B}for(x=r(T,x);I<b.length;I++)O=y(x,T,I,b[I],F),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?I:O.key),A=s(O,A,I),z===null?B=O:z.sibling=O,z=O);return t&&x.forEach(function(L){return e(T,L)}),an&&zl(T,I),B}function R(T,A,b,F){var B=qf(b);if(typeof B!="function")throw Error(ae(150));if(b=B.call(b),b==null)throw Error(ae(151));for(var z=B=null,x=A,I=A=0,O=null,M=b.next();x!==null&&!M.done;I++,M=b.next()){x.index>I?(O=x,x=null):O=x.sibling;var L=_(T,x,M.value,F);if(L===null){x===null&&(x=O);break}t&&x&&L.alternate===null&&e(T,x),A=s(L,A,I),z===null?B=L:z.sibling=L,z=L,x=O}if(M.done)return n(T,x),an&&zl(T,I),B;if(x===null){for(;!M.done;I++,M=b.next())M=m(T,M.value,F),M!==null&&(A=s(M,A,I),z===null?B=M:z.sibling=M,z=M);return an&&zl(T,I),B}for(x=r(T,x);!M.done;I++,M=b.next())M=y(x,T,I,M.value,F),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?I:M.key),A=s(M,A,I),z===null?B=M:z.sibling=M,z=M);return t&&x.forEach(function(U){return e(T,U)}),an&&zl(T,I),B}function D(T,A,b,F){if(typeof b=="object"&&b!==null&&b.type===Mc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hg:e:{for(var B=b.key,z=A;z!==null;){if(z.key===B){if(B=b.type,B===Mc){if(z.tag===7){n(T,z.sibling),A=i(z,b.props.children),A.return=T,T=A;break e}}else if(z.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===va&&pC(B)===z.type){n(T,z.sibling),A=i(z,b.props),A.ref=Zf(T,z,b),A.return=T,T=A;break e}n(T,z);break}else e(T,z);z=z.sibling}b.type===Mc?(A=au(b.props.children,T.mode,F,b.key),A.return=T,T=A):(F=V_(b.type,b.key,b.props,null,T.mode,F),F.ref=Zf(T,A,b),F.return=T,T=F)}return o(T);case Lc:e:{for(z=b.key;A!==null;){if(A.key===z)if(A.tag===4&&A.stateNode.containerInfo===b.containerInfo&&A.stateNode.implementation===b.implementation){n(T,A.sibling),A=i(A,b.children||[]),A.return=T,T=A;break e}else{n(T,A);break}else e(T,A);A=A.sibling}A=EE(b,T.mode,F),A.return=T,T=A}return o(T);case va:return z=b._init,D(T,A,z(b._payload),F)}if(mh(b))return S(T,A,b,F);if(qf(b))return R(T,A,b,F);i_(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,A!==null&&A.tag===6?(n(T,A.sibling),A=i(A,b),A.return=T,T=A):(n(T,A),A=wE(b,T.mode,F),A.return=T,T=A),o(T)):n(T,A)}return D}var pd=PD(!0),CD=PD(!1),_v=ul(null),vv=null,Wc=null,e1=null;function t1(){e1=Wc=vv=null}function n1(t){var e=_v.current;Jt(_v),t._currentValue=e}function VT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ed(t,e){vv=t,e1=Wc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function Ki(t){var e=t._currentValue;if(e1!==t)if(t={context:t,memoizedValue:e,next:null},Wc===null){if(vv===null)throw Error(ae(308));Wc=t,vv.dependencies={lanes:0,firstContext:t}}else Wc=Wc.next=t;return e}var eu=null;function r1(t){eu===null?eu=[t]:eu.push(t)}function kD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,r1(e)):(n.next=i.next,i.next=n),e.interleaved=n,xo(t,r)}function xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ya=!1;function i1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function So(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xo(t,n)}return i=r.interleaved,i===null?(e.next=e,r1(r)):(e.next=i.next,i.next=e),r.interleaved=e,xo(t,n)}function x_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jS(t,n)}}function mC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yv(t,e,n,r){var i=t.updateQueue;ya=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,p=d=u=null,l=s;do{var _=l.lane,y=l.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,R=l;switch(_=e,y=n,R.tag){case 1:if(S=R.payload,typeof S=="function"){m=S.call(y,m,_);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,_=typeof S=="function"?S.call(y,m,_):S,_==null)break e;m=yn({},m,_);break e;case 2:ya=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[l]:_.push(l))}else y={eventTime:y,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=y,u=m):p=p.next=y,o|=_;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;_=l,l=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_u|=o,t.lanes=o,t.memoizedState=m}}function gC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var om={},$s=ul(om),dp=ul(om),fp=ul(om);function tu(t){if(t===om)throw Error(ae(174));return t}function s1(t,e){switch(Wt(fp,e),Wt(dp,t),Wt($s,om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_T(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_T(e,t)}Jt($s),Wt($s,e)}function md(){Jt($s),Jt(dp),Jt(fp)}function ND(t){tu(fp.current);var e=tu($s.current),n=_T(e,t.type);e!==n&&(Wt(dp,t),Wt($s,n))}function o1(t){dp.current===t&&(Jt($s),Jt(dp))}var mn=ul(0);function wv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pE=[];function a1(){for(var t=0;t<pE.length;t++)pE[t]._workInProgressVersionPrimary=null;pE.length=0}var N_=Uo.ReactCurrentDispatcher,mE=Uo.ReactCurrentBatchConfig,gu=0,_n=null,Gn=null,Jn=null,Ev=!1,Dh=!1,hp=0,EW=0;function Er(){throw Error(ae(321))}function l1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function u1(t,e,n,r,i,s){if(gu=s,_n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N_.current=t===null||t.memoizedState===null?AW:RW,t=n(r,i),Dh){s=0;do{if(Dh=!1,hp=0,25<=s)throw Error(ae(301));s+=1,Jn=Gn=null,e.updateQueue=null,N_.current=bW,t=n(r,i)}while(Dh)}if(N_.current=Tv,e=Gn!==null&&Gn.next!==null,gu=0,Jn=Gn=_n=null,Ev=!1,e)throw Error(ae(300));return t}function c1(){var t=hp!==0;return hp=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?_n.memoizedState=Jn=t:Jn=Jn.next=t,Jn}function Qi(){if(Gn===null){var t=_n.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=Jn===null?_n.memoizedState:Jn.next;if(e!==null)Jn=e,Gn=t;else{if(t===null)throw Error(ae(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Jn===null?_n.memoizedState=Jn=t:Jn=Jn.next=t}return Jn}function pp(t,e){return typeof e=="function"?e(t):e}function gE(t){var e=Qi(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,d=s;do{var p=d.lane;if((gu&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,_n.lanes|=p,_u|=p}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=l,ps(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_n.lanes|=s,_u|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _E(t){var e=Qi(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ps(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OD(){}function DD(t,e){var n=_n,r=Qi(),i=e(),s=!ps(r.memoizedState,i);if(s&&(r.memoizedState=i,Zr=!0),r=r.queue,d1(VD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Jn!==null&&Jn.memoizedState.tag&1){if(n.flags|=2048,mp(9,MD.bind(null,n,r,i,e),void 0,null),tr===null)throw Error(ae(349));gu&30||LD(n,e,i)}return i}function LD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MD(t,e,n,r){e.value=n,e.getSnapshot=r,FD(e)&&UD(t)}function VD(t,e,n){return n(function(){FD(e)&&UD(t)})}function FD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function UD(t){var e=xo(t,1);e!==null&&hs(e,t,1,-1)}function _C(t){var e=Rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:t},e.queue=t,t=t.dispatch=SW.bind(null,_n,t),[e.memoizedState,t]}function mp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $D(){return Qi().memoizedState}function O_(t,e,n,r){var i=Rs();_n.flags|=t,i.memoizedState=mp(1|e,n,void 0,r===void 0?null:r)}function Sy(t,e,n,r){var i=Qi();r=r===void 0?null:r;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,r!==null&&l1(r,o.deps)){i.memoizedState=mp(e,n,s,r);return}}_n.flags|=t,i.memoizedState=mp(1|e,n,s,r)}function vC(t,e){return O_(8390656,8,t,e)}function d1(t,e){return Sy(2048,8,t,e)}function BD(t,e){return Sy(4,2,t,e)}function zD(t,e){return Sy(4,4,t,e)}function jD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WD(t,e,n){return n=n!=null?n.concat([t]):null,Sy(4,4,jD.bind(null,e,t),n)}function f1(){}function GD(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qD(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HD(t,e,n){return gu&21?(ps(n,e)||(n=JO(),_n.lanes|=n,_u|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=n)}function TW(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=mE.transition;mE.transition={};try{t(!1),e()}finally{Ot=n,mE.transition=r}}function KD(){return Qi().memoizedState}function IW(t,e,n){var r=$a(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QD(t))YD(e,n);else if(n=kD(t,e,n,r),n!==null){var i=Lr();hs(n,t,r,i),ZD(n,e,r)}}function SW(t,e,n){var r=$a(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QD(t))YD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ps(l,o)){var u=e.interleaved;u===null?(i.next=i,r1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=kD(t,e,i,r),n!==null&&(i=Lr(),hs(n,t,r,i),ZD(n,e,r))}}function QD(t){var e=t.alternate;return t===_n||e!==null&&e===_n}function YD(t,e){Dh=Ev=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jS(t,n)}}var Tv={readContext:Ki,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},AW={readContext:Ki,useCallback:function(t,e){return Rs().memoizedState=[t,e===void 0?null:e],t},useContext:Ki,useEffect:vC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,O_(4194308,4,jD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return O_(4194308,4,t,e)},useInsertionEffect:function(t,e){return O_(4,2,t,e)},useMemo:function(t,e){var n=Rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IW.bind(null,_n,t),[r.memoizedState,t]},useRef:function(t){var e=Rs();return t={current:t},e.memoizedState=t},useState:_C,useDebugValue:f1,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=_C(!1),e=t[0];return t=TW.bind(null,t[1]),Rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_n,i=Rs();if(an){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),tr===null)throw Error(ae(349));gu&30||LD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vC(VD.bind(null,r,s,t),[t]),r.flags|=2048,mp(9,MD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rs(),e=tr.identifierPrefix;if(an){var n=yo,r=vo;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RW={readContext:Ki,useCallback:GD,useContext:Ki,useEffect:d1,useImperativeHandle:WD,useInsertionEffect:BD,useLayoutEffect:zD,useMemo:qD,useReducer:gE,useRef:$D,useState:function(){return gE(pp)},useDebugValue:f1,useDeferredValue:function(t){var e=Qi();return HD(e,Gn.memoizedState,t)},useTransition:function(){var t=gE(pp)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:DD,useId:KD,unstable_isNewReconciler:!1},bW={readContext:Ki,useCallback:GD,useContext:Ki,useEffect:d1,useImperativeHandle:WD,useInsertionEffect:BD,useLayoutEffect:zD,useMemo:qD,useReducer:_E,useRef:$D,useState:function(){return _E(pp)},useDebugValue:f1,useDeferredValue:function(t){var e=Qi();return Gn===null?e.memoizedState=t:HD(e,Gn.memoizedState,t)},useTransition:function(){var t=_E(pp)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:DD,useId:KD,unstable_isNewReconciler:!1};function ls(t,e){if(t&&t.defaultProps){e=yn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function FT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ay={isMounted:function(t){return(t=t._reactInternals)?zu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=$a(t),s=So(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fa(t,s,i),e!==null&&(hs(e,t,i,r),x_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=$a(t),s=So(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fa(t,s,i),e!==null&&(hs(e,t,i,r),x_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=$a(t),i=So(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fa(t,i,r),e!==null&&(hs(e,t,r,n),x_(e,t,r))}};function yC(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ap(n,r)||!ap(i,s):!0}function JD(t,e,n){var r=!1,i=Ga,s=e.contextType;return typeof s=="object"&&s!==null?s=Ki(s):(i=ni(e)?pu:Ar.current,r=e.contextTypes,s=(r=r!=null)?fd(t,i):Ga),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ay.enqueueReplaceState(e,e.state,null)}function UT(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},i1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ki(s):(s=ni(e)?pu:Ar.current,i.context=fd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(FT(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ay.enqueueReplaceState(i,i.state,null),yv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gd(t,e){try{var n="",r=e;do n+=tj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $T(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PW=typeof WeakMap=="function"?WeakMap:Map;function XD(t,e,n){n=So(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sv||(Sv=!0,YT=r),$T(t,e)},n}function eL(t,e,n){n=So(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$T(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$T(t,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function EC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zW.bind(null,t,e,n),e.then(t,t))}function TC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=So(-1,1),e.tag=2,Fa(n,e,1))),n.lanes|=1),t)}var CW=Uo.ReactCurrentOwner,Zr=!1;function Nr(t,e,n,r){e.child=t===null?CD(e,null,n,r):pd(e,t.child,n,r)}function SC(t,e,n,r,i){n=n.render;var s=e.ref;return ed(e,i),r=u1(t,e,n,r,s,i),n=c1(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(an&&n&&ZS(e),e.flags|=1,Nr(t,e,r,i),e.child)}function AC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!w1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tL(t,e,s,r,i)):(t=V_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ap,n(o,r)&&t.ref===e.ref)return No(t,e,i)}return e.flags|=1,t=Ba(s,r),t.ref=e.ref,t.return=e,e.child=t}function tL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ap(s,r)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,No(t,e,i)}return BT(t,e,n,r,i)}function nL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(qc,hi),hi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(qc,hi),hi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wt(qc,hi),hi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Wt(qc,hi),hi|=r;return Nr(t,e,i,n),e.child}function rL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function BT(t,e,n,r,i){var s=ni(n)?pu:Ar.current;return s=fd(e,s),ed(e,i),n=u1(t,e,n,r,s,i),r=c1(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(an&&r&&ZS(e),e.flags|=1,Nr(t,e,n,i),e.child)}function RC(t,e,n,r,i){if(ni(n)){var s=!0;pv(e)}else s=!1;if(ed(e,i),e.stateNode===null)D_(t,e),JD(e,n,r),UT(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ki(d):(d=ni(n)?pu:Ar.current,d=fd(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&wC(e,o,r,d),ya=!1;var _=e.memoizedState;o.state=_,yv(e,r,o,i),u=e.memoizedState,l!==r||_!==u||ti.current||ya?(typeof p=="function"&&(FT(e,n,p,r),u=e.memoizedState),(l=ya||yC(e,n,l,r,_,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xD(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ls(e.type,l),o.props=d,m=e.pendingProps,_=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ki(u):(u=ni(n)?pu:Ar.current,u=fd(e,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||_!==u)&&wC(e,o,r,u),ya=!1,_=e.memoizedState,o.state=_,yv(e,r,o,i);var S=e.memoizedState;l!==m||_!==S||ti.current||ya?(typeof y=="function"&&(FT(e,n,y,r),S=e.memoizedState),(d=ya||yC(e,n,d,r,_,S,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return zT(t,e,n,r,s,i)}function zT(t,e,n,r,i,s){rL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dC(e,n,!1),No(t,e,s);r=e.stateNode,CW.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pd(e,t.child,null,s),e.child=pd(e,null,l,s)):Nr(t,e,l,s),e.memoizedState=r.state,i&&dC(e,n,!0),e.child}function iL(t){var e=t.stateNode;e.pendingContext?cC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cC(t,e.context,!1),s1(t,e.containerInfo)}function bC(t,e,n,r,i){return hd(),XS(i),e.flags|=256,Nr(t,e,n,r),e.child}var jT={dehydrated:null,treeContext:null,retryLane:0};function WT(t){return{baseLanes:t,cachePool:null,transitions:null}}function sL(t,e,n){var r=e.pendingProps,i=mn.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(mn,i&1),t===null)return MT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Py(o,r,0,null),t=au(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=WT(n),e.memoizedState=jT,t):h1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kW(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ba(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ba(l,s):(s=au(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?WT(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jT,r}return s=t.child,t=s.sibling,r=Ba(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function h1(t,e){return e=Py({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function s_(t,e,n,r){return r!==null&&XS(r),pd(e,t.child,null,n),t=h1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vE(Error(ae(422))),s_(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Py({mode:"visible",children:r.children},i,0,null),s=au(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pd(e,t.child,null,o),e.child.memoizedState=WT(o),e.memoizedState=jT,s);if(!(e.mode&1))return s_(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ae(419)),r=vE(s,r,void 0),s_(t,e,o,r)}if(l=(o&t.childLanes)!==0,Zr||l){if(r=tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xo(t,i),hs(r,t,i,-1))}return y1(),r=vE(Error(ae(421))),s_(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gi=Va(i.nextSibling),vi=e,an=!0,cs=null,t!==null&&($i[Bi++]=vo,$i[Bi++]=yo,$i[Bi++]=mu,vo=t.id,yo=t.overflow,mu=e),e=h1(e,r.children),e.flags|=4096,e)}function PC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VT(t.return,e,n)}function yE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nr(t,e,r.children,n),r=mn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PC(t,n,e);else if(t.tag===19)PC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yE(e,!0,n,null,s);break;case"together":yE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function D_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function No(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_u|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ba(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ba(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xW(t,e,n){switch(e.tag){case 3:iL(e),hd();break;case 5:ND(e);break;case 1:ni(e.type)&&pv(e);break;case 4:s1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(_v,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(mn,mn.current&1),e.flags|=128,null):n&e.child.childLanes?sL(t,e,n):(Wt(mn,mn.current&1),t=No(t,e,n),t!==null?t.sibling:null);Wt(mn,mn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(mn,mn.current),r)break;return null;case 22:case 23:return e.lanes=0,nL(t,e,n)}return No(t,e,n)}var aL,GT,lL,uL;aL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};GT=function(){};lL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tu($s.current);var s=null;switch(n){case"input":i=hT(t,i),r=hT(t,r),s=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),s=[];break;case"textarea":i=gT(t,i),r=gT(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fv)}vT(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ep.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i?.[d],r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ep.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Kt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};uL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jf(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NW(t,e,n){var r=e.pendingProps;switch(JS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return ni(e.type)&&hv(),Tr(e),null;case 3:return r=e.stateNode,md(),Jt(ti),Jt(Ar),a1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(r_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(XT(cs),cs=null))),GT(t,e),Tr(e),null;case 5:o1(e);var i=tu(fp.current);if(n=e.type,t!==null&&e.stateNode!=null)lL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Tr(e),null}if(t=tu($s.current),r_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cs]=e,r[cp]=s,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<_h.length;i++)Kt(_h[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":VP(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":UP(r,s),Kt("invalid",r)}vT(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&n_(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&n_(r.textContent,l,t),i=["children",""+l]):ep.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Kg(r),FP(r,s,!0);break;case"textarea":Kg(r),$P(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cs]=e,t[cp]=r,aL(t,e,!1,!1),e.stateNode=t;e:{switch(o=yT(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),i=r;break;case"iframe":case"object":case"embed":Kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<_h.length;i++)Kt(_h[i],t);i=r;break;case"source":Kt("error",t),i=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=r;break;case"details":Kt("toggle",t),i=r;break;case"input":VP(t,r),i=hT(t,r),Kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":UP(t,r),i=gT(t,r),Kt("invalid",t);break;default:i=r}vT(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?$O(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&FO(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&tp(t,u):typeof u=="number"&&tp(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ep.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Kt("scroll",t):u!=null&&VS(t,s,u,o))}switch(n){case"input":Kg(t),FP(t,r,!1);break;case"textarea":Kg(t),$P(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)uL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=tu(fp.current),tu($s.current),r_(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(s=r.nodeValue!==n)&&(t=vi,t!==null))switch(t.tag){case 3:n_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&n_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return Tr(e),null;case 13:if(Jt(mn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&gi!==null&&e.mode&1&&!(e.flags&128))bD(),hd(),e.flags|=98560,s=!1;else if(s=r_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Cs]=e}else hd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else cs!==null&&(XT(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mn.current&1?qn===0&&(qn=3):y1())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return md(),GT(t,e),t===null&&lp(e.stateNode.containerInfo),Tr(e),null;case 10:return n1(e.type._context),Tr(e),null;case 17:return ni(e.type)&&hv(),Tr(e),null;case 19:if(Jt(mn),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jf(s,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wv(t),o!==null){for(e.flags|=128,Jf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(mn,mn.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>_d&&(e.flags|=128,r=!0,Jf(s,!1),e.lanes=4194304)}else{if(!r)if(t=wv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return Tr(e),null}else 2*On()-s.renderingStartTime>_d&&n!==1073741824&&(e.flags|=128,r=!0,Jf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,n=mn.current,Wt(mn,r?n&1|2:n&1),e):(Tr(e),null);case 22:case 23:return v1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hi&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function OW(t,e){switch(JS(e),e.tag){case 1:return ni(e.type)&&hv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return md(),Jt(ti),Jt(Ar),a1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o1(e),null;case 13:if(Jt(mn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));hd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(mn),null;case 4:return md(),null;case 10:return n1(e.type._context),null;case 22:case 23:return v1(),null;case 24:return null;default:return null}}var o_=!1,Sr=!1,DW=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Gc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function qT(t,e,n){try{n()}catch(r){In(t,e,r)}}var CC=!1;function LW(t,e){if(CT=uv,t=pD(),YS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,p=0,m=t,_=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)_=m,m=y;for(;;){if(m===t)break t;if(_===n&&++d===i&&(l=o),_===s&&++p===r&&(u=o),(y=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kT={focusedElem:t,selectionRange:n},uv=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,D=S.memoizedState,T=e.stateNode,A=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:ls(e.type,R),D);T.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(F){In(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return S=CC,CC=!1,S}function Lh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qT(e,n,s)}i=i.next}while(i!==r)}}function Ry(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function HT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cL(t){var e=t.alternate;e!==null&&(t.alternate=null,cL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[cp],delete e[OT],delete e[_W],delete e[vW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dL(t){return t.tag===5||t.tag===3||t.tag===4}function kC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function KT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fv));else if(r!==4&&(t=t.child,t!==null))for(KT(t,e,n),t=t.sibling;t!==null;)KT(t,e,n),t=t.sibling}function QT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(QT(t,e,n),t=t.sibling;t!==null;)QT(t,e,n),t=t.sibling}var cr=null,us=!1;function da(t,e,n){for(n=n.child;n!==null;)fL(t,e,n),n=n.sibling}function fL(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(vy,n)}catch{}switch(n.tag){case 5:Sr||Gc(n,e);case 6:var r=cr,i=us;cr=null,da(t,e,n),cr=r,us=i,cr!==null&&(us?(t=cr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(us?(t=cr,n=n.stateNode,t.nodeType===8?fE(t.parentNode,n):t.nodeType===1&&fE(t,n),sp(t)):fE(cr,n.stateNode));break;case 4:r=cr,i=us,cr=n.stateNode.containerInfo,us=!0,da(t,e,n),cr=r,us=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qT(n,e,o),i=i.next}while(i!==r)}da(t,e,n);break;case 1:if(!Sr&&(Gc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){In(n,e,l)}da(t,e,n);break;case 21:da(t,e,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,da(t,e,n),Sr=r):da(t,e,n);break;default:da(t,e,n)}}function xC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DW),e.forEach(function(r){var i=WW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:cr=l.stateNode,us=!1;break e;case 3:cr=l.stateNode.containerInfo,us=!0;break e;case 4:cr=l.stateNode.containerInfo,us=!0;break e}l=l.return}if(cr===null)throw Error(ae(160));fL(s,o,i),cr=null,us=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){In(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hL(e,t),e=e.sibling}function hL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),As(t),r&4){try{Lh(3,t,t.return),Ry(3,t)}catch(R){In(t,t.return,R)}try{Lh(5,t,t.return)}catch(R){In(t,t.return,R)}}break;case 1:ss(e,t),As(t),r&512&&n!==null&&Gc(n,n.return);break;case 5:if(ss(e,t),As(t),r&512&&n!==null&&Gc(n,n.return),t.flags&32){var i=t.stateNode;try{tp(i,"")}catch(R){In(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&LO(i,s),yT(l,o);var d=yT(l,s);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?$O(i,m):p==="dangerouslySetInnerHTML"?FO(i,m):p==="children"?tp(i,m):VS(i,p,m,d)}switch(l){case"input":pT(i,s);break;case"textarea":MO(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Yc(i,!!s.multiple,y,!1):_!==!!s.multiple&&(s.defaultValue!=null?Yc(i,!!s.multiple,s.defaultValue,!0):Yc(i,!!s.multiple,s.multiple?[]:"",!1))}i[cp]=s}catch(R){In(t,t.return,R)}}break;case 6:if(ss(e,t),As(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){In(t,t.return,R)}}break;case 3:if(ss(e,t),As(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sp(e.containerInfo)}catch(R){In(t,t.return,R)}break;case 4:ss(e,t),As(t);break;case 13:ss(e,t),As(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(g1=On())),r&4&&xC(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Sr=(d=Sr)||p,ss(e,t),Sr=d):ss(e,t),As(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Re=t,p=t.child;p!==null;){for(m=Re=p;Re!==null;){switch(_=Re,y=_.child,_.tag){case 0:case 11:case 14:case 15:Lh(4,_,_.return);break;case 1:Gc(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(R){In(r,n,R)}}break;case 5:Gc(_,_.return);break;case 22:if(_.memoizedState!==null){OC(m);continue}}y!==null?(y.return=_,Re=y):OC(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=UO("display",o))}catch(R){In(t,t.return,R)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(R){In(t,t.return,R)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ss(e,t),As(t),r&4&&xC(t);break;case 21:break;default:ss(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dL(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tp(i,""),r.flags&=-33);var s=kC(t);QT(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=kC(t);KT(t,l,o);break;default:throw Error(ae(161))}}catch(u){In(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MW(t,e,n){Re=t,pL(t)}function pL(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||o_;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Sr;l=o_;var d=Sr;if(o_=o,(Sr=u)&&!d)for(Re=i;Re!==null;)o=Re,u=o.child,o.tag===22&&o.memoizedState!==null?DC(i):u!==null?(u.return=o,Re=u):DC(i);for(;s!==null;)Re=s,pL(s),s=s.sibling;Re=i,o_=l,Sr=d}NC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):NC(t)}}function NC(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||Ry(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ls(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gC(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&sp(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Sr||e.flags&512&&HT(e)}catch(_){In(e,e.return,_)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function OC(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function DC(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ry(4,e)}catch(u){In(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){In(e,i,u)}}var s=e.return;try{HT(e)}catch(u){In(e,s,u)}break;case 5:var o=e.return;try{HT(e)}catch(u){In(e,o,u)}}}catch(u){In(e,e.return,u)}if(e===t){Re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Re=l;break}Re=e.return}}var VW=Math.ceil,Iv=Uo.ReactCurrentDispatcher,p1=Uo.ReactCurrentOwner,Gi=Uo.ReactCurrentBatchConfig,_t=0,tr=null,Bn=null,hr=0,hi=0,qc=ul(0),qn=0,gp=null,_u=0,by=0,m1=0,Mh=null,Yr=null,g1=0,_d=1/0,go=null,Sv=!1,YT=null,Ua=null,a_=!1,Pa=null,Av=0,Vh=0,ZT=null,L_=-1,M_=0;function Lr(){return _t&6?On():L_!==-1?L_:L_=On()}function $a(t){return t.mode&1?_t&2&&hr!==0?hr&-hr:wW.transition!==null?(M_===0&&(M_=JO()),M_):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:sD(t.type)),t):1}function hs(t,e,n,r){if(50<Vh)throw Vh=0,ZT=null,Error(ae(185));rm(t,n,r),(!(_t&2)||t!==tr)&&(t===tr&&(!(_t&2)&&(by|=n),qn===4&&Ia(t,hr)),ri(t,r),n===1&&_t===0&&!(e.mode&1)&&(_d=On()+500,Iy&&cl()))}function ri(t,e){var n=t.callbackNode;wj(t,e);var r=lv(t,t===tr?hr:0);if(r===0)n!==null&&jP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jP(n),e===1)t.tag===0?yW(LC.bind(null,t)):SD(LC.bind(null,t)),mW(function(){!(_t&6)&&cl()}),n=null;else{switch(XO(r)){case 1:n=zS;break;case 4:n=YO;break;case 16:n=av;break;case 536870912:n=ZO;break;default:n=av}n=TL(n,mL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mL(t,e){if(L_=-1,M_=0,_t&6)throw Error(ae(327));var n=t.callbackNode;if(td()&&t.callbackNode!==n)return null;var r=lv(t,t===tr?hr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rv(t,r);else{e=r;var i=_t;_t|=2;var s=_L();(tr!==t||hr!==e)&&(go=null,_d=On()+500,ou(t,e));do try{$W();break}catch(l){gL(t,l)}while(!0);t1(),Iv.current=s,_t=i,Bn!==null?e=0:(tr=null,hr=0,e=qn)}if(e!==0){if(e===2&&(i=ST(t),i!==0&&(r=i,e=JT(t,i))),e===1)throw n=gp,ou(t,0),Ia(t,r),ri(t,On()),n;if(e===6)Ia(t,r);else{if(i=t.current.alternate,!(r&30)&&!FW(i)&&(e=Rv(t,r),e===2&&(s=ST(t),s!==0&&(r=s,e=JT(t,s))),e===1))throw n=gp,ou(t,0),Ia(t,r),ri(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:jl(t,Yr,go);break;case 3:if(Ia(t,r),(r&130023424)===r&&(e=g1+500-On(),10<e)){if(lv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NT(jl.bind(null,t,Yr,go),e);break}jl(t,Yr,go);break;case 4:if(Ia(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VW(r/1960))-r,10<r){t.timeoutHandle=NT(jl.bind(null,t,Yr,go),r);break}jl(t,Yr,go);break;case 5:jl(t,Yr,go);break;default:throw Error(ae(329))}}}return ri(t,On()),t.callbackNode===n?mL.bind(null,t):null}function JT(t,e){var n=Mh;return t.current.memoizedState.isDehydrated&&(ou(t,e).flags|=256),t=Rv(t,e),t!==2&&(e=Yr,Yr=n,e!==null&&XT(e)),t}function XT(t){Yr===null?Yr=t:Yr.push.apply(Yr,t)}function FW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ps(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ia(t,e){for(e&=~m1,e&=~by,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function LC(t){if(_t&6)throw Error(ae(327));td();var e=lv(t,0);if(!(e&1))return ri(t,On()),null;var n=Rv(t,e);if(t.tag!==0&&n===2){var r=ST(t);r!==0&&(e=r,n=JT(t,r))}if(n===1)throw n=gp,ou(t,0),Ia(t,e),ri(t,On()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,Yr,go),ri(t,On()),null}function _1(t,e){var n=_t;_t|=1;try{return t(e)}finally{_t=n,_t===0&&(_d=On()+500,Iy&&cl())}}function vu(t){Pa!==null&&Pa.tag===0&&!(_t&6)&&td();var e=_t;_t|=1;var n=Gi.transition,r=Ot;try{if(Gi.transition=null,Ot=1,t)return t()}finally{Ot=r,Gi.transition=n,_t=e,!(_t&6)&&cl()}}function v1(){hi=qc.current,Jt(qc)}function ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pW(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(JS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hv();break;case 3:md(),Jt(ti),Jt(Ar),a1();break;case 5:o1(r);break;case 4:md();break;case 13:Jt(mn);break;case 19:Jt(mn);break;case 10:n1(r.type._context);break;case 22:case 23:v1()}n=n.return}if(tr=t,Bn=t=Ba(t.current,null),hr=hi=e,qn=0,gp=null,m1=by=_u=0,Yr=Mh=null,eu!==null){for(e=0;e<eu.length;e++)if(n=eu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}eu=null}return t}function gL(t,e){do{var n=Bn;try{if(t1(),N_.current=Tv,Ev){for(var r=_n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ev=!1}if(gu=0,Jn=Gn=_n=null,Dh=!1,hp=0,p1.current=null,n===null||n.return===null){qn=1,gp=e,Bn=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=hr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=TC(o);if(y!==null){y.flags&=-257,IC(y,o,l,s,e),y.mode&1&&EC(s,d,e),e=y,u=d;var S=e.updateQueue;if(S===null){var R=new Set;R.add(u),e.updateQueue=R}else S.add(u);break e}else{if(!(e&1)){EC(s,d,e),y1();break e}u=Error(ae(426))}}else if(an&&l.mode&1){var D=TC(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),IC(D,o,l,s,e),XS(gd(u,l));break e}}s=u=gd(u,l),qn!==4&&(qn=2),Mh===null?Mh=[s]:Mh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=XD(s,u,e);mC(s,T);break e;case 1:l=u;var A=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ua===null||!Ua.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=eL(s,l,e);mC(s,F);break e}}s=s.return}while(s!==null)}yL(n)}catch(B){e=B,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function _L(){var t=Iv.current;return Iv.current=Tv,t===null?Tv:t}function y1(){(qn===0||qn===3||qn===2)&&(qn=4),tr===null||!(_u&268435455)&&!(by&268435455)||Ia(tr,hr)}function Rv(t,e){var n=_t;_t|=2;var r=_L();(tr!==t||hr!==e)&&(go=null,ou(t,e));do try{UW();break}catch(i){gL(t,i)}while(!0);if(t1(),_t=n,Iv.current=r,Bn!==null)throw Error(ae(261));return tr=null,hr=0,qn}function UW(){for(;Bn!==null;)vL(Bn)}function $W(){for(;Bn!==null&&!dj();)vL(Bn)}function vL(t){var e=EL(t.alternate,t,hi);t.memoizedProps=t.pendingProps,e===null?yL(t):Bn=e,p1.current=null}function yL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OW(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,Bn=null;return}}else if(n=NW(n,e,hi),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);qn===0&&(qn=5)}function jl(t,e,n){var r=Ot,i=Gi.transition;try{Gi.transition=null,Ot=1,BW(t,e,n,r)}finally{Gi.transition=i,Ot=r}return null}function BW(t,e,n,r){do td();while(Pa!==null);if(_t&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ej(t,s),t===tr&&(Bn=tr=null,hr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||a_||(a_=!0,TL(av,function(){return td(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gi.transition,Gi.transition=null;var o=Ot;Ot=1;var l=_t;_t|=4,p1.current=null,LW(t,n),hL(n,t),aW(kT),uv=!!CT,kT=CT=null,t.current=n,MW(n),fj(),_t=l,Ot=o,Gi.transition=s}else t.current=n;if(a_&&(a_=!1,Pa=t,Av=i),s=t.pendingLanes,s===0&&(Ua=null),mj(n.stateNode),ri(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sv)throw Sv=!1,t=YT,YT=null,t;return Av&1&&t.tag!==0&&td(),s=t.pendingLanes,s&1?t===ZT?Vh++:(Vh=0,ZT=t):Vh=0,cl(),null}function td(){if(Pa!==null){var t=XO(Av),e=Gi.transition,n=Ot;try{if(Gi.transition=null,Ot=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,Av=0,_t&6)throw Error(ae(331));var i=_t;for(_t|=4,Re=t.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Re=d;Re!==null;){var p=Re;switch(p.tag){case 0:case 11:case 15:Lh(8,p,s)}var m=p.child;if(m!==null)m.return=p,Re=m;else for(;Re!==null;){p=Re;var _=p.sibling,y=p.return;if(cL(p),p===d){Re=null;break}if(_!==null){_.return=y,Re=_;break}Re=y}}}var S=s.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var D=R.sibling;R.sibling=null,R=D}while(R!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Re=T;break e}Re=s.return}}var A=t.current;for(Re=A;Re!==null;){o=Re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Re=b;else e:for(o=A;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ry(9,l)}}catch(B){In(l,l.return,B)}if(l===o){Re=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,Re=F;break e}Re=l.return}}if(_t=i,cl(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(vy,t)}catch{}r=!0}return r}finally{Ot=n,Gi.transition=e}}return!1}function MC(t,e,n){e=gd(n,e),e=XD(t,e,1),t=Fa(t,e,1),e=Lr(),t!==null&&(rm(t,1,e),ri(t,e))}function In(t,e,n){if(t.tag===3)MC(t,t,n);else for(;e!==null;){if(e.tag===3){MC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){t=gd(n,t),t=eL(e,t,1),e=Fa(e,t,1),t=Lr(),e!==null&&(rm(e,1,t),ri(e,t));break}}e=e.return}}function zW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(hr&n)===n&&(qn===4||qn===3&&(hr&130023424)===hr&&500>On()-g1?ou(t,0):m1|=n),ri(t,e)}function wL(t,e){e===0&&(t.mode&1?(e=Zg,Zg<<=1,!(Zg&130023424)&&(Zg=4194304)):e=1);var n=Lr();t=xo(t,e),t!==null&&(rm(t,e,n),ri(t,n))}function jW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wL(t,n)}function WW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),wL(t,n)}var EL;EL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ti.current)Zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zr=!1,xW(t,e,n);Zr=!!(t.flags&131072)}else Zr=!1,an&&e.flags&1048576&&AD(e,gv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;D_(t,e),t=e.pendingProps;var i=fd(e,Ar.current);ed(e,n),i=u1(null,e,r,t,i,n);var s=c1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ni(r)?(s=!0,pv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i1(e),i.updater=Ay,e.stateNode=i,i._reactInternals=e,UT(e,r,t,n),e=zT(null,e,r,!0,s,n)):(e.tag=0,an&&s&&ZS(e),Nr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(D_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qW(r),t=ls(r,t),i){case 0:e=BT(null,e,r,t,n);break e;case 1:e=RC(null,e,r,t,n);break e;case 11:e=SC(null,e,r,t,n);break e;case 14:e=AC(null,e,r,ls(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),BT(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),RC(t,e,r,i,n);case 3:e:{if(iL(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xD(t,e),yv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gd(Error(ae(423)),e),e=bC(t,e,r,n,i);break e}else if(r!==i){i=gd(Error(ae(424)),e),e=bC(t,e,r,n,i);break e}else for(gi=Va(e.stateNode.containerInfo.firstChild),vi=e,an=!0,cs=null,n=CD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hd(),r===i){e=No(t,e,n);break e}Nr(t,e,r,n)}e=e.child}return e;case 5:return ND(e),t===null&&MT(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xT(r,i)?o=null:s!==null&&xT(r,s)&&(e.flags|=32),rL(t,e),Nr(t,e,o,n),e.child;case 6:return t===null&&MT(e),null;case 13:return sL(t,e,n);case 4:return s1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pd(e,null,r,n):Nr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),SC(t,e,r,i,n);case 7:return Nr(t,e,e.pendingProps,n),e.child;case 8:return Nr(t,e,e.pendingProps.children,n),e.child;case 12:return Nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Wt(_v,r._currentValue),r._currentValue=o,s!==null)if(ps(s.value,o)){if(s.children===i.children&&!ti.current){e=No(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=So(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),VT(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),VT(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ed(e,n),i=Ki(i),r=r(i),e.flags|=1,Nr(t,e,r,n),e.child;case 14:return r=e.type,i=ls(r,e.pendingProps),i=ls(r.type,i),AC(t,e,r,i,n);case 15:return tL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),D_(t,e),e.tag=1,ni(r)?(t=!0,pv(e)):t=!1,ed(e,n),JD(e,r,i),UT(e,r,i,n),zT(null,e,r,!0,t,n);case 19:return oL(t,e,n);case 22:return nL(t,e,n)}throw Error(ae(156,e.tag))};function TL(t,e){return QO(t,e)}function GW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,n,r){return new GW(t,e,n,r)}function w1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qW(t){if(typeof t=="function")return w1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===US)return 11;if(t===$S)return 14}return 2}function Ba(t,e){var n=t.alternate;return n===null?(n=ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function V_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")w1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mc:return au(n.children,i,s,e);case FS:o=8,i|=8;break;case uT:return t=ji(12,n,e,i|2),t.elementType=uT,t.lanes=s,t;case cT:return t=ji(13,n,e,i),t.elementType=cT,t.lanes=s,t;case dT:return t=ji(19,n,e,i),t.elementType=dT,t.lanes=s,t;case NO:return Py(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kO:o=10;break e;case xO:o=9;break e;case US:o=11;break e;case $S:o=14;break e;case va:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=ji(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function au(t,e,n,r){return t=ji(7,t,r,e),t.lanes=n,t}function Py(t,e,n,r){return t=ji(22,t,r,e),t.elementType=NO,t.lanes=n,t.stateNode={isHidden:!1},t}function wE(t,e,n){return t=ji(6,t,null,e),t.lanes=n,t}function EE(t,e,n){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tE(0),this.expirationTimes=tE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E1(t,e,n,r,i,s,o,l,u){return t=new HW(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ji(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i1(s),t}function KW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IL(t){if(!t)return Ga;t=t._reactInternals;e:{if(zu(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(ni(n))return ID(t,n,e)}return e}function SL(t,e,n,r,i,s,o,l,u){return t=E1(n,r,!0,t,i,s,o,l,u),t.context=IL(null),n=t.current,r=Lr(),i=$a(n),s=So(r,i),s.callback=e??null,Fa(n,s,i),t.current.lanes=i,rm(t,i,r),ri(t,r),t}function Cy(t,e,n,r){var i=e.current,s=Lr(),o=$a(i);return n=IL(n),e.context===null?e.context=n:e.pendingContext=n,e=So(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fa(i,e,o),t!==null&&(hs(t,i,o,s),x_(t,i,o)),o}function bv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function T1(t,e){VC(t,e),(t=t.alternate)&&VC(t,e)}function QW(){return null}var AL=typeof reportError=="function"?reportError:function(t){console.error(t)};function I1(t){this._internalRoot=t}ky.prototype.render=I1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Cy(t,e,null,null)};ky.prototype.unmount=I1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vu(function(){Cy(null,t,null,null)}),e[ko]=null}};function ky(t){this._internalRoot=t}ky.prototype.unstable_scheduleHydration=function(t){if(t){var e=nD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ta.length&&e!==0&&e<Ta[n].priority;n++);Ta.splice(n,0,t),n===0&&iD(t)}};function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FC(){}function YW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=bv(o);s.call(d)}}var o=SL(e,r,t,0,null,!1,!1,"",FC);return t._reactRootContainer=o,t[ko]=o.current,lp(t.nodeType===8?t.parentNode:t),vu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=bv(u);l.call(d)}}var u=E1(t,0,!1,null,null,!1,!1,"",FC);return t._reactRootContainer=u,t[ko]=u.current,lp(t.nodeType===8?t.parentNode:t),vu(function(){Cy(e,u,n,r)}),u}function Ny(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=bv(o);l.call(u)}}Cy(e,o,t,i)}else o=YW(n,e,t,i,r);return bv(o)}eD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gh(e.pendingLanes);n!==0&&(jS(e,n|1),ri(e,On()),!(_t&6)&&(_d=On()+500,cl()))}break;case 13:vu(function(){var r=xo(t,1);if(r!==null){var i=Lr();hs(r,t,1,i)}}),T1(t,1)}};WS=function(t){if(t.tag===13){var e=xo(t,134217728);if(e!==null){var n=Lr();hs(e,t,134217728,n)}T1(t,134217728)}};tD=function(t){if(t.tag===13){var e=$a(t),n=xo(t,e);if(n!==null){var r=Lr();hs(n,t,e,r)}T1(t,e)}};nD=function(){return Ot};rD=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};ET=function(t,e,n){switch(e){case"input":if(pT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ty(r);if(!i)throw Error(ae(90));DO(r),pT(r,i)}}}break;case"textarea":MO(t,n);break;case"select":e=n.value,e!=null&&Yc(t,!!n.multiple,e,!1)}};jO=_1;WO=vu;var ZW={usingClientEntryPoint:!1,Events:[sm,$c,Ty,BO,zO,_1]},Xf={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JW={bundleType:Xf.bundleType,version:Xf.version,rendererPackageName:Xf.rendererPackageName,rendererConfig:Xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HO(t),t===null?null:t.stateNode},findFiberByHostInstance:Xf.findFiberByHostInstance||QW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{vy=l_.inject(JW),Us=l_}catch{}}Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZW;Ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S1(e))throw Error(ae(200));return KW(t,e,null,n)};Ii.createRoot=function(t,e){if(!S1(t))throw Error(ae(299));var n=!1,r="",i=AL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=E1(t,1,!1,null,null,n,!1,r,i),t[ko]=e.current,lp(t.nodeType===8?t.parentNode:t),new I1(e)};Ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=HO(e),t=t===null?null:t.stateNode,t};Ii.flushSync=function(t){return vu(t)};Ii.hydrate=function(t,e,n){if(!xy(e))throw Error(ae(200));return Ny(null,t,e,!0,n)};Ii.hydrateRoot=function(t,e,n){if(!S1(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SL(e,null,t,1,n??null,i,!1,s,o),t[ko]=e.current,lp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ky(e)};Ii.render=function(t,e,n){if(!xy(e))throw Error(ae(200));return Ny(null,t,e,!1,n)};Ii.unmountComponentAtNode=function(t){if(!xy(t))throw Error(ae(40));return t._reactRootContainer?(vu(function(){Ny(null,null,t,!1,function(){t._reactRootContainer=null,t[ko]=null})}),!0):!1};Ii.unstable_batchedUpdates=_1;Ii.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xy(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Ny(t,e,n,!1,r)};Ii.version="18.3.1-next-f1338f8080-20240426";function RL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RL)}catch(t){console.error(t)}}RL(),RO.exports=Ii;var XW=RO.exports;const eG=CS(XW);var bL={};function tG(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var nG=tG,nt=nG;function rG(t){return!!t&&typeof t.then=="function"}var Zt=rG;function iG(t,e){if(t!=null)return t;throw nt(e??"Got unexpected null or undefined")}var ln=iG;function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Oy{getValue(){throw nt("BaseLoadable")}toPromise(){throw nt("BaseLoadable")}valueMaybe(){throw nt("BaseLoadable")}valueOrThrow(){throw nt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw nt("BaseLoadable")}promiseOrThrow(){throw nt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw nt("BaseLoadable")}errorOrThrow(){throw nt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw nt("BaseLoadable")}}class sG extends Oy{constructor(e){super(),Ze(this,"state","hasValue"),Ze(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Zt(n)?yu(n):vd(n)?n:am(n)}catch(n){return Zt(n)?yu(n.next(()=>this.map(e))):Dy(n)}}}class oG extends Oy{constructor(e){super(),Ze(this,"state","hasError"),Ze(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class PL extends Oy{constructor(e){super(),Ze(this,"state","loading"),Ze(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return yu(this.contents.then(n=>{const r=e(n);if(vd(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Zt(n))return n.then(()=>this.map(e).contents);throw n}))}}function am(t){return Object.freeze(new sG(t))}function Dy(t){return Object.freeze(new oG(t))}function yu(t){return Object.freeze(new PL(t))}function CL(){return Object.freeze(new PL(new Promise(()=>{})))}function aG(t){return t.every(e=>e.state==="hasValue")?am(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Dy(ln(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):yu(Promise.all(t.map(e=>e.contents)))}function kL(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>vd(i)?i:Zt(i)?yu(i):am(i)),r=aG(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,l)=>({...s,[o]:i[l]}),{}))}function vd(t){return t instanceof Oy}const lG={of:t=>Zt(t)?yu(t):vd(t)?t:am(t),error:t=>Dy(t),loading:()=>CL(),all:kL,isLoadable:vd};var ju={loadableWithValue:am,loadableWithError:Dy,loadableWithPromise:yu,loadableLoading:CL,loadableAll:kL,isLoadable:vd,RecoilLoadable:lG},uG=ju.loadableWithValue,cG=ju.loadableWithError,dG=ju.loadableWithPromise,fG=ju.loadableLoading,hG=ju.loadableAll,pG=ju.isLoadable,mG=ju.RecoilLoadable,lm=Object.freeze({__proto__:null,loadableWithValue:uG,loadableWithError:cG,loadableWithPromise:dG,loadableLoading:fG,loadableAll:hG,isLoadable:pG,RecoilLoadable:mG});const eI={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function gG(t,e){var n,r;const i=(n=bL[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw nt(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function _G(t,e){var n;const r=(n=bL[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function vG(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(gG("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{eI.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),_G("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{eI.RECOIL_GKS_ENABLED.add(n)})}))}vG();var Yd=eI;function Ly(t){return Yd.RECOIL_GKS_ENABLED.has(t)}Ly.setPass=t=>{Yd.RECOIL_GKS_ENABLED.add(t)};Ly.setFail=t=>{Yd.RECOIL_GKS_ENABLED.delete(t)};Ly.clear=()=>{Yd.RECOIL_GKS_ENABLED.clear()};var zt=Ly;function yG(t,e,{error:n}={}){return null}var wG=yG,A1=wG,TE,IE,SE;const EG=(TE=qe.createMutableSource)!==null&&TE!==void 0?TE:qe.unstable_createMutableSource,xL=(IE=qe.useMutableSource)!==null&&IE!==void 0?IE:qe.unstable_useMutableSource,NL=(SE=qe.useSyncExternalStore)!==null&&SE!==void 0?SE:qe.unstable_useSyncExternalStore;function TG(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e?.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function IG(){return zt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:zt("recoil_sync_external_store")&&NL!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:zt("recoil_mutable_source")&&xL!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?zt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:zt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function SG(){return!1}var um={createMutableSource:EG,useMutableSource:xL,useSyncExternalStore:NL,currentRendererSupportsUseSyncExternalStore:TG,reactMode:IG,isFastRefreshEnabled:SG};class R1{constructor(e){Ze(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class OL extends R1{}class DL extends R1{}function AG(t){return t instanceof OL||t instanceof DL}var My={AbstractRecoilValue:R1,RecoilState:OL,RecoilValueReadOnly:DL,isRecoilValue:AG},RG=My.AbstractRecoilValue,bG=My.RecoilState,PG=My.RecoilValueReadOnly,CG=My.isRecoilValue,yd=Object.freeze({__proto__:null,AbstractRecoilValue:RG,RecoilState:bG,RecoilValueReadOnly:PG,isRecoilValue:CG});function kG(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Vy=kG;class LL{}const xG=new LL,wu=new Map,b1=new Map;function NG(t){return Vy(t,e=>ln(b1.get(e)))}function OG(t){if(wu.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function DG(t){Yd.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&OG(t.key),wu.set(t.key,t);const e=t.set==null?new yd.RecoilValueReadOnly(t.key):new yd.RecoilState(t.key);return b1.set(t.key,e),e}class ML extends Error{}function LG(t){const e=wu.get(t);if(e==null)throw new ML(`Missing definition for RecoilValue: "${t}""`);return e}function MG(t){return wu.get(t)}const Pv=new Map;function VG(t){var e;if(!zt("recoil_memory_managament_2020"))return;const n=wu.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;wu.delete(t),(r=VL(t))===null||r===void 0||r(),Pv.delete(t)}}function FG(t,e){zt("recoil_memory_managament_2020")&&(e===void 0?Pv.delete(t):Pv.set(t,e))}function VL(t){return Pv.get(t)}var si={nodes:wu,recoilValues:b1,registerNode:DG,getNode:LG,getNodeMaybe:MG,deleteNodeConfigIfPossible:VG,setConfigDeletionHandler:FG,getConfigDeletionHandler:VL,recoilValuesForKeys:NG,NodeMissingError:ML,DefaultValue:LL,DEFAULT_VALUE:xG};function UG(t,e){e()}var $G={enqueueExecution:UG};function BG(t,e){return e={exports:{}},t(e,e.exports),e.exports}var zG=BG(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,l=i/4,u={},d=function(W){return function(){return W}},p=n.hash=function(K){var W=typeof K>"u"?"undefined":e(K);if(W==="number")return K;W!=="string"&&(K+="");for(var oe=0,pe=0,ge=K.length;pe<ge;++pe){var Ee=K.charCodeAt(pe);oe=(oe<<5)-oe+Ee|0}return oe},m=function(W){return W-=W>>1&1431655765,W=(W&858993459)+(W>>2&858993459),W=W+(W>>4)&252645135,W+=W>>8,W+=W>>16,W&127},_=function(W,oe){return oe>>>W&s},y=function(W){return 1<<W},S=function(W,oe){return m(W&oe-1)},R=function(W,oe,pe,ge){var Ee=ge;if(!W){var De=ge.length;Ee=new Array(De);for(var Le=0;Le<De;++Le)Ee[Le]=ge[Le]}return Ee[oe]=pe,Ee},D=function(W,oe,pe){var ge=pe.length-1,Ee=0,De=0,Le=pe;if(W)Ee=De=oe;else for(Le=new Array(ge);Ee<oe;)Le[De++]=pe[Ee++];for(++Ee;Ee<=ge;)Le[De++]=pe[Ee++];return W&&(Le.length=ge),Le},T=function(W,oe,pe,ge){var Ee=ge.length;if(W){for(var De=Ee;De>=oe;)ge[De--]=ge[De];return ge[oe]=pe,ge}for(var Le=0,Me=0,ze=new Array(Ee+1);Le<oe;)ze[Me++]=ge[Le++];for(ze[oe]=pe;Le<Ee;)ze[++Me]=ge[Le++];return ze},A=1,b=2,F=3,B=4,z={__hamt_isEmpty:!0},x=function(W){return W===z||W&&W.__hamt_isEmpty},I=function(W,oe,pe,ge){return{type:A,edit:W,hash:oe,key:pe,value:ge,_modify:ce}},O=function(W,oe,pe){return{type:b,edit:W,hash:oe,children:pe,_modify:we}},M=function(W,oe,pe){return{type:F,edit:W,mask:oe,children:pe,_modify:ue}},L=function(W,oe,pe){return{type:B,edit:W,size:oe,children:pe,_modify:Ie}},U=function(W){return W===z||W.type===A||W.type===b},N=function(W,oe,pe,ge,Ee){for(var De=[],Le=ge,Me=0,ze=0;Le;++ze)Le&1&&(De[ze]=Ee[Me++]),Le>>>=1;return De[oe]=pe,L(W,Me+1,De)},We=function(W,oe,pe,ge){for(var Ee=new Array(oe-1),De=0,Le=0,Me=0,ze=ge.length;Me<ze;++Me)if(Me!==pe){var kt=ge[Me];kt&&!x(kt)&&(Ee[De++]=kt,Le|=1<<Me)}return M(W,Le,Ee)},en=function K(W,oe,pe,ge,Ee,De){if(pe===Ee)return O(W,pe,[De,ge]);var Le=_(oe,pe),Me=_(oe,Ee);return M(W,y(Le)|y(Me),Le===Me?[K(W,oe+r,pe,ge,Ee,De)]:Le<Me?[ge,De]:[De,ge])},qt=function(W,oe,pe,ge,Ee,De,Le,Me){for(var ze=Ee.length,kt=0;kt<ze;++kt){var kn=Ee[kt];if(pe(Le,kn.key)){var tn=kn.value,Vn=De(tn);return Vn===tn?Ee:Vn===u?(--Me.value,D(W,kt,Ee)):R(W,kt,I(oe,ge,Le,Vn),Ee)}}var gr=De();return gr===u?Ee:(++Me.value,R(W,ze,I(oe,ge,Le,gr),Ee))},wt=function(W,oe){return W===oe.edit},ce=function(W,oe,pe,ge,Ee,De,Le){if(oe(De,this.key)){var Me=ge(this.value);return Me===this.value?this:Me===u?(--Le.value,z):wt(W,this)?(this.value=Me,this):I(W,Ee,De,Me)}var ze=ge();return ze===u?this:(++Le.value,en(W,pe,this.hash,this,Ee,I(W,Ee,De,ze)))},we=function(W,oe,pe,ge,Ee,De,Le){if(Ee===this.hash){var Me=wt(W,this),ze=qt(Me,W,oe,this.hash,this.children,ge,De,Le);return ze===this.children?this:ze.length>1?O(W,this.hash,ze):ze[0]}var kt=ge();return kt===u?this:(++Le.value,en(W,pe,this.hash,this,Ee,I(W,Ee,De,kt)))},ue=function(W,oe,pe,ge,Ee,De,Le){var Me=this.mask,ze=this.children,kt=_(pe,Ee),kn=y(kt),tn=S(Me,kn),Vn=Me&kn,gr=Vn?ze[tn]:z,nn=gr._modify(W,oe,pe+r,ge,Ee,De,Le);if(gr===nn)return this;var Ji=wt(W,this),li=Me,br=void 0;if(Vn&&x(nn)){if(li&=~kn,!li)return z;if(ze.length<=2&&U(ze[tn^1]))return ze[tn^1];br=D(Ji,tn,ze)}else if(!Vn&&!x(nn)){if(ze.length>=o)return N(W,kt,nn,Me,ze);li|=kn,br=T(Ji,tn,nn,ze)}else br=R(Ji,tn,nn,ze);return Ji?(this.mask=li,this.children=br,this):M(W,li,br)},Ie=function(W,oe,pe,ge,Ee,De,Le){var Me=this.size,ze=this.children,kt=_(pe,Ee),kn=ze[kt],tn=(kn||z)._modify(W,oe,pe+r,ge,Ee,De,Le);if(kn===tn)return this;var Vn=wt(W,this),gr=void 0;if(x(kn)&&!x(tn))++Me,gr=R(Vn,kt,tn,ze);else if(!x(kn)&&x(tn)){if(--Me,Me<=l)return We(W,Me,kt,ze);gr=R(Vn,kt,z,ze)}else gr=R(Vn,kt,tn,ze);return Vn?(this.size=Me,this.children=gr,this):L(W,Me,gr)};z._modify=function(K,W,oe,pe,ge,Ee,De){var Le=pe();return Le===u?z:(++De.value,I(K,ge,Ee,Le))};function q(K,W,oe,pe,ge){this._editable=K,this._edit=W,this._config=oe,this._root=pe,this._size=ge}q.prototype.setTree=function(K,W){return this._editable?(this._root=K,this._size=W,this):K===this._root?this:new q(this._editable,this._edit,this._config,K,W)};var ne=n.tryGetHash=function(K,W,oe,pe){for(var ge=pe._root,Ee=0,De=pe._config.keyEq;;)switch(ge.type){case A:return De(oe,ge.key)?ge.value:K;case b:{if(W===ge.hash)for(var Le=ge.children,Me=0,ze=Le.length;Me<ze;++Me){var kt=Le[Me];if(De(oe,kt.key))return kt.value}return K}case F:{var kn=_(Ee,W),tn=y(kn);if(ge.mask&tn){ge=ge.children[S(ge.mask,tn)],Ee+=r;break}return K}case B:{if(ge=ge.children[_(Ee,W)],ge){Ee+=r;break}return K}default:return K}};q.prototype.tryGetHash=function(K,W,oe){return ne(K,W,oe,this)};var de=n.tryGet=function(K,W,oe){return ne(K,oe._config.hash(W),W,oe)};q.prototype.tryGet=function(K,W){return de(K,W,this)};var Pe=n.getHash=function(K,W,oe){return ne(void 0,K,W,oe)};q.prototype.getHash=function(K,W){return Pe(K,W,this)},n.get=function(K,W){return ne(void 0,W._config.hash(K),K,W)},q.prototype.get=function(K,W){return de(W,K,this)};var ye=n.has=function(K,W,oe){return ne(u,K,W,oe)!==u};q.prototype.hasHash=function(K,W){return ye(K,W,this)};var Be=n.has=function(K,W){return ye(W._config.hash(K),K,W)};q.prototype.has=function(K){return Be(K,this)};var Ge=function(W,oe){return W===oe};n.make=function(K){return new q(0,0,{keyEq:K&&K.keyEq||Ge,hash:K&&K.hash||p},z,0)},n.empty=n.make();var Ce=n.isEmpty=function(K){return K&&!!x(K._root)};q.prototype.isEmpty=function(){return Ce(this)};var Et=n.modifyHash=function(K,W,oe,pe){var ge={value:pe._size},Ee=pe._root._modify(pe._editable?pe._edit:NaN,pe._config.keyEq,0,K,W,oe,ge);return pe.setTree(Ee,ge.value)};q.prototype.modifyHash=function(K,W,oe){return Et(oe,K,W,this)};var Ct=n.modify=function(K,W,oe){return Et(K,oe._config.hash(W),W,oe)};q.prototype.modify=function(K,W){return Ct(W,K,this)};var st=n.setHash=function(K,W,oe,pe){return Et(d(oe),K,W,pe)};q.prototype.setHash=function(K,W,oe){return st(K,W,oe,this)};var Rt=n.set=function(K,W,oe){return st(oe._config.hash(K),K,W,oe)};q.prototype.set=function(K,W){return Rt(K,W,this)};var Ft=d(u),sr=n.removeHash=function(K,W,oe){return Et(Ft,K,W,oe)};q.prototype.removeHash=q.prototype.deleteHash=function(K,W){return sr(K,W,this)};var or=n.remove=function(K,W){return sr(W._config.hash(K),K,W)};q.prototype.remove=q.prototype.delete=function(K){return or(K,this)};var Ht=n.beginMutation=function(K){return new q(K._editable+1,K._edit+1,K._config,K._root,K._size)};q.prototype.beginMutation=function(){return Ht(this)};var yl=n.endMutation=function(K){return K._editable=K._editable&&K._editable-1,K};q.prototype.endMutation=function(){return yl(this)};var Xu=n.mutate=function(K,W){var oe=Ht(W);return K(oe),yl(oe)};q.prototype.mutate=function(K){return Xu(K,this)};var oi=function(W){return W&&ar(W[0],W[1],W[2],W[3],W[4])},ar=function(W,oe,pe,ge,Ee){for(;pe<W;){var De=oe[pe++];if(De&&!x(De))return _s(De,ge,[W,oe,pe,ge,Ee])}return oi(Ee)},_s=function(W,oe,pe){switch(W.type){case A:return{value:oe(W),rest:pe};case b:case B:case F:var ge=W.children;return ar(ge.length,ge,0,oe,pe);default:return oi(pe)}},vs={done:!0};function Xs(K){this.v=K}Xs.prototype.next=function(){if(!this.v)return vs;var K=this.v;return this.v=oi(K.rest),K},Xs.prototype[Symbol.iterator]=function(){return this};var bi=function(W,oe){return new Xs(_s(W._root,oe))},Mn=function(W){return[W.key,W.value]},hn=n.entries=function(K){return bi(K,Mn)};q.prototype.entries=q.prototype[Symbol.iterator]=function(){return hn(this)};var ai=function(W){return W.key},Ho=n.keys=function(K){return bi(K,ai)};q.prototype.keys=function(){return Ho(this)};var Ko=function(W){return W.value},wl=n.values=q.prototype.values=function(K){return bi(K,Ko)};q.prototype.values=function(){return wl(this)};var Pi=n.fold=function(K,W,oe){var pe=oe._root;if(pe.type===A)return K(W,pe.value,pe.key);for(var ge=[pe.children],Ee=void 0;Ee=ge.pop();)for(var De=0,Le=Ee.length;De<Le;){var Me=Ee[De++];Me&&Me.type&&(Me.type===A?W=K(W,Me.value,Me.key):ge.push(Me.children))}return W};q.prototype.fold=function(K,W){return Pi(K,W,this)};var Qo=n.forEach=function(K,W){return Pi(function(oe,pe,ge){return K(pe,ge,W)},null,W)};q.prototype.forEach=function(K){return Qo(K,this)};var Yo=n.count=function(K){return K._size};q.prototype.count=function(){return Yo(this)},Object.defineProperty(q.prototype,"size",{get:q.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class jG{constructor(e){Ze(this,"_map",void 0),this._map=new Map(e?.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return C1(this)}toMap(){return new Map(this._map)}}class P1{constructor(e){if(Ze(this,"_hamt",zG.empty.beginMutation()),e instanceof P1){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return C1(this)}toMap(){return new Map(this._hamt)}}function C1(t){return zt("recoil_hamt_2020")?new P1(t):new jG(t)}var WG={persistentMap:C1},GG=WG.persistentMap,qG=Object.freeze({__proto__:null,persistentMap:GG});function HG(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Fh=HG;function KG(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Cv=KG;function QG(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function YG(t){return{nodeDeps:Cv(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Cv(t.nodeToNodeSubscriptions,e=>new Set(e))}}function AE(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const l=o==null?e:Fh(e,o);for(const u of l)s.has(u)||s.set(u,new Set),ln(s.get(u)).add(t);if(o){const u=Fh(o,e);for(const d of u){if(!s.has(d))return;const p=ln(s.get(d));p.delete(t),p.size===0&&s.delete(d)}}}function ZG(t,e,n,r){var i,s,o,l;const u=n.getState();r===u.currentTree.version||r===((i=u.nextTree)===null||i===void 0?void 0:i.version)||((s=u.previousTree)===null||s===void 0||s.version);const d=n.getGraph(r);if(AE(t,e,d),r===((o=u.previousTree)===null||o===void 0?void 0:o.version)){const m=n.getGraph(u.currentTree.version);AE(t,e,m,d)}if(r===((l=u.previousTree)===null||l===void 0?void 0:l.version)||r===u.currentTree.version){var p;const m=(p=u.nextTree)===null||p===void 0?void 0:p.version;if(m!==void 0){const _=n.getGraph(m);AE(t,e,_,d)}}}var cm={cloneGraph:YG,graph:QG,saveDepsToStore:ZG};let JG=0;const XG=()=>JG++;let eq=0;const tq=()=>eq++;let nq=0;const rq=()=>nq++;var Fy={getNextTreeStateVersion:XG,getNextStoreID:tq,getNextComponentID:rq};const{persistentMap:UC}=qG,{graph:iq}=cm,{getNextTreeStateVersion:FL}=Fy;function UL(){const t=FL();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:UC(),nonvalidatedAtoms:UC()}}function sq(){const t=UL();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,iq()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var $L={makeEmptyTreeState:UL,makeEmptyStoreState:sq,getNextTreeStateVersion:FL};class BL{}function oq(){return new BL}var Uy={RetentionZone:BL,retentionZone:oq};function aq(t,e){const n=new Set(t);return n.add(e),n}function lq(t,e){const n=new Set(t);return n.delete(e),n}function uq(t,e,n){const r=new Map(t);return r.set(e,n),r}function cq(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function dq(t,e){const n=new Map(t);return n.delete(e),n}function fq(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var zL={setByAddingToSet:aq,setByDeletingFromSet:lq,mapBySettingInMap:uq,mapByUpdatingInMap:cq,mapByDeletingFromMap:dq,mapByDeletingMultipleFromMap:fq};function*hq(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var k1=hq;function pq(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var jL=pq;const{getNode:dm,getNodeMaybe:mq,recoilValuesForKeys:$C}=si,{RetentionZone:BC}=Uy,{setByAddingToSet:gq}=zL,_q=Object.freeze(new Set);class vq extends Error{}function yq(t,e,n){if(!zt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof BC)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!zt("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(l){const u=s.nodesRetainedByZone.get(l);u?.delete(e),u&&u.size===0&&s.nodesRetainedByZone.delete(l)}if(n instanceof BC)o(n);else if(Array.isArray(n))for(const l of n)o(l)}}function x1(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=dm(n),o=yq(t,n,s.retainedBy),l=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{l(),o()})}function wq(t,e,n){x1(t,t.getState().currentTree,e,n)}function Eq(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function Tq(t,e,n){return x1(t,e,n,"get"),dm(n).get(t,e)}function WL(t,e,n){return dm(n).peek(t,e)}function Iq(t,e,n){var r;const i=mq(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:gq(t.dirtyAtoms,e)}}function Sq(t,e,n,r){const i=dm(n);if(i.set==null)throw new vq(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return x1(t,e,n,"set"),s(t,e,r)}function Aq(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=dm(n).nodeType;return jL({type:s},{loadable:()=>WL(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return $C((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,l;return{nodes:$C(k1(GL(t,e,new Set([n])),u=>u!==n)),components:Vy((o=(l=r.nodeToComponentSubscriptions.get(n))===null||l===void 0?void 0:l.values())!==null&&o!==void 0?o:[],([u])=>({name:u}))}}})}function GL(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let l=i.pop();l;l=i.pop()){var o;r.add(l);const u=(o=s.nodeToNodeSubscriptions.get(l))!==null&&o!==void 0?o:_q;for(const d of u)r.has(d)||i.push(d)}return r}var dl={getNodeLoadable:Tq,peekNodeLoadable:WL,setNodeValue:Sq,initializeNode:wq,cleanUpNode:Eq,setUnvalidatedAtomValue_DEPRECATED:Iq,peekNodeInfo:Aq,getDownstreamNodes:GL};let qL=null;function Rq(t){qL=t}function bq(){var t;(t=qL)===null||t===void 0||t()}var HL={setInvalidateMemoizedSnapshot:Rq,invalidateMemoizedSnapshot:bq};const{getDownstreamNodes:Pq,getNodeLoadable:KL,setNodeValue:Cq}=dl,{getNextComponentID:kq}=Fy,{getNode:xq,getNodeMaybe:QL}=si,{DefaultValue:N1}=si,{reactMode:Nq}=um,{AbstractRecoilValue:Oq,RecoilState:Dq,RecoilValueReadOnly:Lq,isRecoilValue:Mq}=yd,{invalidateMemoizedSnapshot:Vq}=HL;function Fq(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=KL(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function Uq(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof N1?n.delete(i):n.set(i,r)}),n}function $q(t,e,{key:n},r){if(typeof r=="function"){const i=KL(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw nt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function Bq(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=$q(t,e,i,s),l=Cq(t,e,i.key,o);for(const[u,d]of l.entries())tI(e,u,d)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;tI(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=QL(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else A1(`Unknown action ${n.type}`)}function tI(t,e,n){n.state==="hasValue"&&n.contents instanceof N1?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function YL(t,e){t.replaceState(n=>{const r=ZL(n);for(const i of e)Bq(t,r,i);return JL(t,r),Vq(),r})}function $y(t,e){if(Uh.length){const n=Uh[Uh.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else YL(t,[e])}const Uh=[];function zq(){const t=new Map;return Uh.push(t),()=>{for(const[e,n]of t)YL(e,n);Uh.pop()}}function ZL(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function JL(t,e){const n=Pq(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=QL(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function XL(t,e,n){$y(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function jq(t,e,n){if(n instanceof N1)return XL(t,e,n);$y(t,{type:"setLoadable",recoilValue:e,loadable:n})}function Wq(t,e){$y(t,{type:"markModified",recoilValue:e})}function Gq(t,e,n){$y(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function qq(t,{key:e},n,r=null){const i=kq(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),ln(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=Nq();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const l=t.getState().nextTree;l&&l.dirtyAtoms.has(e)&&n(l)}return{release:()=>{const l=t.getState(),u=l.nodeToComponentSubscriptions.get(e);u===void 0||!u.has(i)||(u.delete(i),u.size===0&&l.nodeToComponentSubscriptions.delete(e))}}}function Hq(t,e){var n;const{currentTree:r}=t.getState(),i=xq(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Ys={RecoilValueReadOnly:Lq,AbstractRecoilValue:Oq,RecoilState:Dq,getRecoilValueAsLoadable:Fq,setRecoilValue:XL,setRecoilValueLoadable:jq,markRecoilValueModified:Wq,setUnvalidatedRecoilValue:Gq,subscribeToRecoilValue:qq,isRecoilValue:Mq,applyAtomValueWrites:Uq,batchStart:zq,writeLoadableToTreeState:tI,invalidateDownstreams:JL,copyTreeState:ZL,refreshRecoilValue:Hq};function Kq(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var Qq=Kq;const{cleanUpNode:Yq}=dl,{deleteNodeConfigIfPossible:Zq,getNode:e2}=si,{RetentionZone:t2}=Uy,Jq=12e4,n2=new Set;function r2(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof t2)for(const l of nH(n,o))i.add(l);else i.add(o);const s=Xq(t,i);for(const o of s)tH(t,r,o)}function Xq(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return l(e),s;function l(u){const d=new Set,p=eH(t,r,u,s,o);for(const S of p){var m;if(e2(S).retainedBy==="recoilRoot"){o.add(S);continue}if(((m=n.retention.referenceCounts.get(S))!==null&&m!==void 0?m:0)>0){o.add(S);continue}if(i2(S).some(D=>n.retention.referenceCounts.get(D))){o.add(S);continue}const R=i.nodeToNodeSubscriptions.get(S);if(R&&Qq(R,D=>o.has(D))){o.add(S);continue}s.add(S),d.add(S)}const _=new Set;for(const S of d)for(const R of(y=i.nodeDeps.get(S))!==null&&y!==void 0?y:n2){var y;s.has(R)||_.add(R)}_.size&&l(_)}}function eH(t,e,n,r,i){const s=t.getGraph(e.version),o=[],l=new Set;for(;n.size>0;)u(ln(n.values().next().value));return o;function u(d){if(r.has(d)||i.has(d)){n.delete(d);return}if(l.has(d))return;const p=s.nodeToNodeSubscriptions.get(d);if(p)for(const m of p)u(m);l.add(d),n.delete(d),o.push(d)}}function tH(t,e,n){if(!zt("recoil_memory_managament_2020"))return;Yq(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=i2(n);for(const u of i){var s;(s=r.retention.nodesRetainedByZone.get(u))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const u=o.nodeDeps.get(n);if(u!==void 0){o.nodeDeps.delete(n);for(const d of u){var l;(l=o.nodeToNodeSubscriptions.get(d))===null||l===void 0||l.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}Zq(n)}function nH(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:n2}function i2(t){const e=e2(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof t2?[e]:e}function rH(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):r2(t,new Set([e]))}function iH(t,e,n){var r;if(!zt("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?s2(t,e):i.set(e,s)}function s2(t,e){if(!zt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),rH(t,e)}function sH(t){if(!zt("recoil_memory_managament_2020"))return;const e=t.getState();r2(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function oH(t){return t===void 0?"recoilRoot":t}var Wu={SUSPENSE_TIMEOUT_MS:Jq,updateRetainCount:iH,updateRetainCountToZero:s2,releaseScheduledRetainablesNow:sH,retainedByOptionWithDefault:oH};const{unstable_batchedUpdates:aH}=eG;var lH={unstable_batchedUpdates:aH};const{unstable_batchedUpdates:uH}=lH;var cH={unstable_batchedUpdates:uH};const{batchStart:dH}=Ys,{unstable_batchedUpdates:fH}=cH;let O1=fH||(t=>t());const hH=t=>{O1=t},pH=()=>O1,mH=t=>{O1(()=>{let e=()=>{};try{e=dH(),t()}finally{e()}})};var By={getBatcher:pH,setBatcher:hH,batchUpdates:mH};function*gH(t){for(const e of t)for(const n of e)yield n}var o2=gH;const a2=typeof Window>"u"||typeof window>"u",_H=t=>!a2&&(t===window||t instanceof Window),vH=typeof navigator<"u"&&navigator.product==="ReactNative";var zy={isSSR:a2,isReactNative:vH,isWindow:_H};function yH(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function wH(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function EH(t,e){let n,r;return[(...o)=>{const l=e(...o);return n===l||(n=l,r=t(...o)),r},()=>{n=null}]}var TH={memoizeWithArgsHash:yH,memoizeOneWithArgsHash:wH,memoizeOneWithArgsHashAndInvalidation:EH};const{batchUpdates:nI}=By,{initializeNode:IH,peekNodeInfo:SH}=dl,{graph:AH}=cm,{getNextStoreID:RH}=Fy,{DEFAULT_VALUE:bH,recoilValues:zC,recoilValuesForKeys:jC}=si,{AbstractRecoilValue:PH,getRecoilValueAsLoadable:CH,setRecoilValue:WC,setUnvalidatedRecoilValue:kH}=Ys,{updateRetainCount:F_}=Wu,{setInvalidateMemoizedSnapshot:xH}=HL,{getNextTreeStateVersion:NH,makeEmptyStoreState:OH}=$L,{isSSR:DH}=zy,{memoizeOneWithArgsHashAndInvalidation:LH}=TH;class jy{constructor(e,n){Ze(this,"_store",void 0),Ze(this,"_refCount",1),Ze(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),CH(this._store,r))),Ze(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ze(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),r?.isModified===!0){if(r?.isInitialized===!1)return[];const o=this._store.getState().currentTree;return jC(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return r?.isInitialized==null?zC.values():r.isInitialized===!0?jC(o2([i,s])):k1(zC.values(),({key:o})=>!i.has(o)&&!s.has(o))}),Ze(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),SH(this._store,this._store.getState().currentTree,r))),Ze(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new rI(this,nI);return r(i),i}),Ze(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new rI(this,nI);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:RH(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return ln(i.get(r));const s=AH();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw nt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)IH(this._store,r,"get"),F_(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){DH||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!zt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){zt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function l2(t,e,n=!1){const r=t.getState(),i=n?NH():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Vy(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function MH(t){const e=new jy(OH());return t!=null?e.map(t):e}const[GC,u2]=LH((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:ln(r.previousTree);return new jy(l2(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});xH(u2);function VH(t,e="latest"){const n=GC(t,e);return n.isRetained()?n:(u2(),GC(t,e))}class rI extends jy{constructor(e,n){super(l2(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ze(this,"_batch",void 0),Ze(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{F_(s,r.key,1),WC(this.getStore_INTERNAL(),r,i)})}),Ze(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{F_(i,r.key,1),WC(this.getStore_INTERNAL(),r,bH)})}),Ze(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();nI(()=>{for(const[s,o]of r.entries())F_(i,s,1),kH(i,new PH(s),o)})}),this._batch=n}}var Wy={Snapshot:jy,MutableSnapshot:rI,freshSnapshot:MH,cloneSnapshot:VH},FH=Wy.Snapshot,UH=Wy.MutableSnapshot,$H=Wy.freshSnapshot,BH=Wy.cloneSnapshot,Gy=Object.freeze({__proto__:null,Snapshot:FH,MutableSnapshot:UH,freshSnapshot:$H,cloneSnapshot:BH});function zH(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var jH=zH;const{useRef:WH}=qe;function GH(t){const e=WH(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var qC=GH;const{getNextTreeStateVersion:qH,makeEmptyStoreState:c2}=$L,{cleanUpNode:HH,getDownstreamNodes:KH,initializeNode:QH,setNodeValue:YH,setUnvalidatedAtomValue_DEPRECATED:ZH}=dl,{graph:JH}=cm,{cloneGraph:XH}=cm,{getNextStoreID:d2}=Fy,{createMutableSource:RE,reactMode:f2}=um,{applyAtomValueWrites:e8}=Ys,{releaseScheduledRetainablesNow:h2}=Wu,{freshSnapshot:t8}=Gy,{useCallback:n8,useContext:p2,useEffect:iI,useMemo:r8,useRef:i8,useState:s8}=qe;function eh(){throw nt("This component must be used inside a <RecoilRoot> component.")}const m2=Object.freeze({storeID:d2(),getState:eh,replaceState:eh,getGraph:eh,subscribeToTransactions:eh,addTransactionMetadata:eh});let sI=!1;function HC(t){if(sI)throw nt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){zt("recoil_memory_managament_2020")&&zt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&h2(t);const n=e.currentTree.version,r=qH();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,XH(ln(e.graphsByVersion.get(n))))}}const g2=qe.createContext({current:m2}),qy=()=>p2(g2),_2=qe.createContext(null);function o8(){return p2(_2)}function D1(t,e,n){const r=KH(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[l,u]]of s)u(n)}}function v2(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,l]of s)l(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!f2().early||e.suspendedComponentResolvers.size>0)&&(D1(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function a8(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,v2(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):A1("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,zt("recoil_memory_managament_2020")&&n==null&&h2(t)}finally{e.commitDepth--}}function l8({setNotifyBatcherOfChange:t}){const e=qy(),[,n]=s8([]);return t(()=>n({})),iI(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),iI(()=>{$G.enqueueExecution("Batcher",()=>{a8(e.current)})}),null}function u8(t,e){const n=c2();return e({set:(r,i)=>{const s=n.currentTree,o=YH(t,s,r.key,i),l=new Set(o.keys()),u=s.nonvalidatedAtoms.clone();for(const d of l)u.delete(d);n.currentTree={...s,dirtyAtoms:jH(s.dirtyAtoms,l),atomValues:e8(s.atomValues,o),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=ZH(n.currentTree,s,i)})}}),n}function c8(t){const e=t8(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let KC=0;function d8({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=y=>{const S=i.current.graphsByVersion;if(S.has(y))return ln(S.get(y));const R=JH();return S.set(y,R),R},o=(y,S)=>{if(S==null){const{transactionSubscriptions:R}=m.current.getState(),D=KC++;return R.set(D,y),{release:()=>{R.delete(D)}}}else{const{nodeTransactionSubscriptions:R}=m.current.getState();R.has(S)||R.set(S,new Map);const D=KC++;return ln(R.get(S)).set(D,y),{release:()=>{const T=R.get(S);T&&(T.delete(D),T.size===0&&R.delete(S))}}}},l=y=>{HC(m.current);for(const S of Object.keys(y))ln(m.current.getState().nextTree).transactionMetadata[S]=y[S]},u=y=>{HC(m.current);const S=ln(i.current.nextTree);let R;try{sI=!0,R=y(S)}finally{sI=!1}R!==S&&(i.current.nextTree=R,f2().early&&D1(m.current,i.current,R),ln(d.current)())},d=i8(null),p=n8(y=>{d.current=y},[d]),m=qC(()=>n??{storeID:d2(),getState:()=>i.current,replaceState:u,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:l});n!=null&&(m.current=n),i=qC(()=>t!=null?u8(m.current,t):e!=null?c8(e):c2());const _=r8(()=>RE?.(i,()=>i.current.currentTree.version),[i]);return iI(()=>{const y=m.current;for(const S of new Set(y.getState().knownAtoms))QH(y,S,"get");return()=>{for(const S of y.getState().knownAtoms)HH(y,S)}},[m]),qe.createElement(g2.Provider,{value:m},qe.createElement(_2.Provider,{value:_},qe.createElement(l8,{setNotifyBatcherOfChange:p}),r))}function f8(t){const{override:e,...n}=t,r=qy();return e===!1&&r.current!==m2?t.children:qe.createElement(d8,n)}function h8(){return qy().current.storeID}var $o={RecoilRoot:f8,useStoreRef:qy,useRecoilMutableSource:o8,useRecoilStoreID:h8,notifyComponents_FOR_TESTING:D1,sendEndOfBatchNotifications_FOR_TESTING:v2};function p8(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var m8=p8;const{useEffect:g8,useRef:_8}=qe;function v8(t){const e=_8();return g8(()=>{e.current=t}),e.current}var y2=v8;const{useStoreRef:y8}=$o,{SUSPENSE_TIMEOUT_MS:w8}=Wu,{updateRetainCount:th}=Wu,{RetentionZone:E8}=Uy,{useEffect:T8,useRef:I8}=qe,{isSSR:QC}=zy;function S8(t){if(zt("recoil_memory_managament_2020"))return A8(t)}function A8(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof E8?o:o.key),r=y8();T8(()=>{if(!zt("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!QC)window.clearTimeout(i.current),i.current=null;else for(const l of n)th(o,l,1);return()=>{for(const l of n)th(o,l,-1)}},[r,...n]);const i=I8(),s=y2(n);if(!QC&&(s===void 0||!m8(s,n))){const o=r.current;for(const l of n)th(o,l,1);if(s)for(const l of s)th(o,l,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const l of n)th(o,l,-1)},w8)}}var L1=S8;function R8(){return"<component name not available>"}var fm=R8;const{batchUpdates:b8}=By,{DEFAULT_VALUE:w2}=si,{currentRendererSupportsUseSyncExternalStore:P8,reactMode:Zd,useMutableSource:C8,useSyncExternalStore:k8}=um,{useRecoilMutableSource:x8,useStoreRef:Zs}=$o,{AbstractRecoilValue:oI,getRecoilValueAsLoadable:hm,setRecoilValue:kv,setUnvalidatedRecoilValue:N8,subscribeToRecoilValue:wd}=Ys,{useCallback:ii,useEffect:Ed,useMemo:E2,useRef:$h,useState:M1}=qe,{setByAddingToSet:O8}=zL,{isSSR:D8}=zy;function V1(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),D8&&Zt(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:nt(`Invalid value of loadable atom "${e.key}"`)}function L8(){const t=fm(),e=Zs(),[,n]=M1([]),r=$h(new Set);r.current=new Set;const i=$h(new Set),s=$h(new Map),o=ii(u=>{const d=s.current.get(u);d&&(d.release(),s.current.delete(u))},[s]),l=ii((u,d)=>{s.current.has(d)&&n([])},[]);return Ed(()=>{const u=e.current;Fh(r.current,i.current).forEach(d=>{if(s.current.has(d))return;const p=wd(u,new oI(d),_=>l(_,d),t);s.current.set(d,p),u.getState().nextTree?u.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l(u.getState(),d)}):l(u.getState(),d)}),Fh(i.current,r.current).forEach(d=>{o(d)}),i.current=r.current}),Ed(()=>{const u=s.current;return Fh(r.current,new Set(u.keys())).forEach(d=>{const p=wd(e.current,new oI(d),m=>l(m,d),t);u.set(d,p)}),()=>u.forEach((d,p)=>o(p))},[t,e,o,l]),E2(()=>{function u(S){return R=>{kv(e.current,S,R)}}function d(S){return()=>kv(e.current,S,w2)}function p(S){var R;r.current.has(S.key)||(r.current=O8(r.current,S.key));const D=e.current.getState();return hm(e.current,S,Zd().early&&(R=D.nextTree)!==null&&R!==void 0?R:D.currentTree)}function m(S){const R=p(S);return V1(R,S,e)}function _(S){return[m(S),u(S)]}function y(S){return[p(S),u(S)]}return{getRecoilValue:m,getRecoilValueLoadable:p,getRecoilState:_,getRecoilStateLoadable:y,getSetRecoilState:u,getResetRecoilState:d}},[r,e])}const M8={current:0};function V8(t){const e=Zs(),n=fm(),r=ii(()=>{var l;const u=e.current,d=u.getState(),p=Zd().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return{loadable:hm(u,t,p),key:t.key}},[e,t]),i=ii(l=>{let u;return()=>{var d,p;const m=l();return(d=u)!==null&&d!==void 0&&d.loadable.is(m.loadable)&&((p=u)===null||p===void 0?void 0:p.key)===m.key?u:(u=m,m)}},[]),s=E2(()=>i(r),[r,i]),o=ii(l=>{const u=e.current;return wd(u,t,l,n).release},[e,t,n]);return k8(o,s,s).loadable}function F8(t){const e=Zs(),n=ii(()=>{var d;const p=e.current,m=p.getState(),_=Zd().early&&(d=m.nextTree)!==null&&d!==void 0?d:m.currentTree;return hm(p,t,_)},[e,t]),r=ii(()=>n(),[n]),i=fm(),s=ii((d,p)=>{const m=e.current;return wd(m,t,()=>{if(!zt("recoil_suppress_rerender_in_callback"))return p();const y=n();u.current.is(y)||p(),u.current=y},i).release},[e,t,i,n]),o=x8();if(o==null)throw nt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const l=C8(o,r,s),u=$h(l);return Ed(()=>{u.current=l}),l}function aI(t){const e=Zs(),n=fm(),r=ii(()=>{var u;const d=e.current,p=d.getState(),m=Zd().early&&(u=p.nextTree)!==null&&u!==void 0?u:p.currentTree;return hm(d,t,m)},[e,t]),i=ii(()=>({loadable:r(),key:t.key}),[r,t.key]),s=ii(u=>{const d=i();return u.loadable.is(d.loadable)&&u.key===d.key?u:d},[i]);Ed(()=>{const u=wd(e.current,t,d=>{l(s)},n);return l(s),u.release},[n,t,e,s]);const[o,l]=M1(i);return o.key!==t.key?i().loadable:o.loadable}function U8(t){const e=Zs(),[,n]=M1([]),r=fm(),i=ii(()=>{var l;const u=e.current,d=u.getState(),p=Zd().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return hm(u,t,p)},[e,t]),s=i(),o=$h(s);return Ed(()=>{o.current=s}),Ed(()=>{const l=e.current,u=l.getState(),d=wd(l,t,m=>{var _;if(!zt("recoil_suppress_rerender_in_callback"))return n([]);const y=i();(_=o.current)!==null&&_!==void 0&&_.is(y)||n(y),o.current=y},r);if(u.nextTree)l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var p;if(!zt("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=o.current)!==null&&p!==void 0&&p.is(m)||n(m),o.current=m}return d.release},[r,i,t,e]),s}function F1(t){return zt("recoil_memory_managament_2020")&&L1(t),{TRANSITION_SUPPORT:aI,SYNC_EXTERNAL_STORE:P8()?V8:aI,MUTABLE_SOURCE:F8,LEGACY:U8}[Zd().mode](t)}function T2(t){const e=Zs(),n=F1(t);return V1(n,t,e)}function Hy(t){const e=Zs();return ii(n=>{kv(e.current,t,n)},[e,t])}function $8(t){const e=Zs();return ii(()=>{kv(e.current,t,w2)},[e,t])}function B8(t){return[T2(t),Hy(t)]}function z8(t){return[F1(t),Hy(t)]}function j8(){const t=Zs();return(e,n={})=>{b8(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>N8(t.current,new oI(i),r))})}}function I2(t){return zt("recoil_memory_managament_2020")&&L1(t),aI(t)}function S2(t){const e=Zs(),n=I2(t);return V1(n,t,e)}function W8(t){return[S2(t),Hy(t)]}var G8={recoilComponentGetRecoilValueCount_FOR_TESTING:M8,useRecoilInterface:L8,useRecoilState:B8,useRecoilStateLoadable:z8,useRecoilValue:T2,useRecoilValueLoadable:F1,useResetRecoilState:$8,useSetRecoilState:Hy,useSetUnvalidatedAtomValues:j8,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:I2,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:S2,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:W8};function q8(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var H8=q8;function K8(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var Q8=K8;function Y8(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var Z8=Y8;const{batchUpdates:J8}=By,{DEFAULT_VALUE:X8,getNode:A2,nodes:eK}=si,{useStoreRef:U1}=$o,{AbstractRecoilValue:tK,setRecoilValueLoadable:nK}=Ys,{SUSPENSE_TIMEOUT_MS:rK}=Wu,{cloneSnapshot:xv}=Gy,{useCallback:Ky,useEffect:R2,useRef:YC,useState:iK}=qe,{isSSR:ZC}=zy;function Qy(t){const e=U1();R2(()=>e.current.subscribeToTransactions(t).release,[t,e])}function JC(t){const e=t.atomValues.toMap(),n=Cv(H8(e,(r,i)=>{const o=A2(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Z8(t.nonvalidatedAtoms.toMap(),n)}function sK(t){Qy(Ky(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=JC(r),s=JC(n),o=Cv(eK,u=>{var d,p,m,_;return{persistence_UNSTABLE:{type:(d=(p=u.persistence_UNSTABLE)===null||p===void 0?void 0:p.type)!==null&&d!==void 0?d:"none",backButton:(m=(_=u.persistence_UNSTABLE)===null||_===void 0?void 0:_.backButton)!==null&&m!==void 0?m:!1}}}),l=Q8(r.dirtyAtoms,u=>i.has(u)||s.has(u));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:l,transactionMetadata:{...r.transactionMetadata}})},[t]))}function oK(t){Qy(Ky(e=>{const n=xv(e,"latest"),r=xv(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function aK(){const t=U1(),[e,n]=iK(()=>xv(t.current)),r=y2(e),i=YC(),s=YC();if(Qy(Ky(l=>n(xv(l)),[])),R2(()=>{const l=e.retain();if(i.current&&!ZC){var u;window.clearTimeout(i.current),i.current=null,(u=s.current)===null||u===void 0||u.call(s),s.current=null}return()=>{window.setTimeout(l,10)}},[e]),r!==e&&!ZC){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var l;i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null},rK)}return e}function b2(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;J8(()=>{const o=new Set;for(const d of[i.atomValues.keys(),s.atomValues.keys()])for(const p of d){var l,u;((l=i.atomValues.get(p))===null||l===void 0?void 0:l.contents)!==((u=s.atomValues.get(p))===null||u===void 0?void 0:u.contents)&&A2(p).shouldRestoreFromSnapshots&&o.add(p)}o.forEach(d=>{nK(t,new tK(d),s.atomValues.has(d)?ln(s.atomValues.get(d)):X8)}),t.replaceState(d=>({...d,stateID:e.getID()}))})}function lK(){const t=U1();return Ky(e=>b2(t.current,e),[t])}var P2={useRecoilSnapshot:aK,gotoSnapshot:b2,useGotoRecoilSnapshot:lK,useRecoilTransactionObserver:oK,useTransactionObservation_DEPRECATED:sK,useTransactionSubscription_DEPRECATED:Qy};const{peekNodeInfo:uK}=dl,{useStoreRef:cK}=$o;function dK(){const t=cK();return({key:e})=>uK(t.current,t.current.getState().currentTree,e)}var fK=dK;const{reactMode:hK}=um,{RecoilRoot:pK,useStoreRef:mK}=$o,{useMemo:gK}=qe;function _K(){hK().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=mK().current;return gK(()=>{function e({children:n}){return qe.createElement(pK,{store_INTERNAL:t},n)}return e},[t])}var vK=_K;const{loadableWithValue:yK}=lm,{initializeNode:wK}=dl,{DEFAULT_VALUE:EK,getNode:TK}=si,{copyTreeState:IK,getRecoilValueAsLoadable:SK,invalidateDownstreams:AK,writeLoadableToTreeState:RK}=Ys;function XC(t){return TK(t.key).nodeType==="atom"}class bK{constructor(e,n){Ze(this,"_store",void 0),Ze(this,"_treeState",void 0),Ze(this,"_changes",void 0),Ze(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!XC(r))throw nt("Reading selectors within atomicUpdate is not supported");const i=SK(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:nt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ze(this,"set",(r,i)=>{if(!XC(r))throw nt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else wK(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ze(this,"reset",r=>{this.set(r,EK)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=IK(this._treeState);for(const[n,r]of this._changes)RK(e,n,yK(r));return AK(this._store,e),e}}function PK(t){return e=>{t.replaceState(n=>{const r=new bK(t,n);return e(r),r.newTreeState_INTERNAL()})}}var CK={atomicUpdater:PK},kK=CK.atomicUpdater,C2=Object.freeze({__proto__:null,atomicUpdater:kK});function xK(t,e){if(!t)throw new Error(e)}var NK=xK,vh=NK;const{atomicUpdater:OK}=C2,{batchUpdates:DK}=By,{DEFAULT_VALUE:LK}=si,{useStoreRef:MK}=$o,{refreshRecoilValue:VK,setRecoilValue:ek}=Ys,{cloneSnapshot:FK}=Gy,{gotoSnapshot:UK}=P2,{useCallback:$K}=qe;class k2{}const BK=new k2;function x2(t,e,n,r){let i=BK,s;if(DK(()=>{const l="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw nt(l);const u=jL({...r??{},set:(p,m)=>ek(t,p,m),reset:p=>ek(t,p,LK),refresh:p=>VK(t,p),gotoSnapshot:p=>UK(t,p),transact_UNSTABLE:p=>OK(t)(p)},{snapshot:()=>{const p=FK(t);return s=p.retain(),p}}),d=e(u);if(typeof d!="function")throw nt(l);i=d(...n)}),i instanceof k2&&vh(!1),Zt(i))i=i.finally(()=>{var l;(l=s)===null||l===void 0||l()});else{var o;(o=s)===null||o===void 0||o()}return i}function zK(t,e){const n=MK();return $K((...r)=>x2(n.current,t,r),e!=null?[...e,n]:void 0)}var N2={recoilCallback:x2,useRecoilCallback:zK};const{useStoreRef:jK}=$o,{refreshRecoilValue:WK}=Ys,{useCallback:GK}=qe;function qK(t){const e=jK();return GK(()=>{const n=e.current;WK(n,t)},[t,e])}var HK=qK;const{atomicUpdater:KK}=C2,{useStoreRef:QK}=$o,{useMemo:YK}=qe;function ZK(t,e){const n=QK();return YK(()=>(...r)=>{KK(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var JK=ZK;class XK{constructor(e){Ze(this,"value",void 0),this.value=e}}var e7={WrappedValue:XK},t7=e7.WrappedValue,O2=Object.freeze({__proto__:null,WrappedValue:t7});const{isFastRefreshEnabled:n7}=um;class tk extends Error{}class r7{constructor(e){var n,r,i;Ze(this,"_name",void 0),Ze(this,"_numLeafs",void 0),Ze(this,"_root",void 0),Ze(this,"_onHit",void 0),Ze(this,"_onSet",void 0),Ze(this,"_mapNodeValue",void 0),this._name=e?.name,this._numLeafs=0,this._root=null,this._onHit=(n=e?.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e?.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e?.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n?.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,l,u;let d,p;for(const[D,T]of e){var m,_,y;const A=this._root;if(A?.type==="leaf")throw this.invalidCacheError();const b=d;if(d=b?b.branches.get(p):A,d=(m=d)!==null&&m!==void 0?m:{type:"branch",nodeKey:D,parent:b,branches:new Map,branchKey:p},d.type!=="branch"||d.nodeKey!==D)throw this.invalidCacheError();b?.branches.set(p,d),r==null||(_=r.onNodeVisit)===null||_===void 0||_.call(r,d),p=this._mapNodeValue(T),this._root=(y=this._root)!==null&&y!==void 0?y:d}const S=d?(s=d)===null||s===void 0?void 0:s.branches.get(p):this._root;if(S!=null&&(S.type!=="leaf"||S.branchKey!==p))throw this.invalidCacheError();const R={type:"leaf",value:n,parent:d,branchKey:p};(o=d)===null||o===void 0||o.branches.set(p,R),this._root=(l=this._root)!==null&&l!==void 0?l:R,this._numLeafs++,this._onSet(R),r==null||(u=r.onNodeVisit)===null||u===void 0||u.call(r,R)};try{i()}catch(s){if(s instanceof tk)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=n7()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw A1(e+(this._name!=null?` - ${this._name}`:"")),new tk}}var i7={TreeCache:r7},s7=i7.TreeCache,D2=Object.freeze({__proto__:null,TreeCache:s7});class o7{constructor(e){var n;Ze(this,"_maxSize",void 0),Ze(this,"_size",void 0),Ze(this,"_head",void 0),Ze(this,"_tail",void 0),Ze(this,"_map",void 0),Ze(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=ln(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var a7={LRUCache:o7},l7=a7.LRUCache,L2=Object.freeze({__proto__:null,LRUCache:l7});const{LRUCache:u7}=L2,{TreeCache:c7}=D2;function d7({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new u7({maxSize:e}),i=new c7({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var nk=d7;function os(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if(e?.allowFunctions!==!0)throw nt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Zt(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>os(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return os(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:os(s,e)]=o;return os(i,e,n)}return t instanceof Set?os(Array.from(t).sort((i,s)=>os(i,e).localeCompare(os(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?os(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${os(i,e)}:${os(t[i],e,i)}`).join(",")}}`}function f7(t,e={allowFunctions:!1}){return os(t,e)}var Yy=f7;const{TreeCache:h7}=D2,u_={equality:"reference",eviction:"keep-all",maxSize:1/0};function p7({equality:t=u_.equality,eviction:e=u_.eviction,maxSize:n=u_.maxSize}=u_,r){const i=m7(t);return g7(e,n,i,r)}function m7(t){switch(t){case"reference":return e=>e;case"value":return e=>Yy(e)}throw nt(`Unrecognized equality policy ${t}`)}function g7(t,e,n,r){switch(t){case"keep-all":return new h7({name:r,mapNodeValue:n});case"lru":return nk({name:r,maxSize:ln(e),mapNodeValue:n});case"most-recent":return nk({name:r,maxSize:1,mapNodeValue:n})}throw nt(`Unrecognized eviction policy ${t}`)}var _7=p7;function v7(t){return()=>null}var y7={startPerfBlock:v7};const{isLoadable:w7,loadableWithError:c_,loadableWithPromise:E7,loadableWithValue:bE}=lm,{WrappedValue:M2}=O2,{getNodeLoadable:d_,peekNodeLoadable:T7,setNodeValue:I7}=dl,{saveDepsToStore:S7}=cm,{DEFAULT_VALUE:A7,getConfigDeletionHandler:R7,getNode:b7,registerNode:rk}=si,{isRecoilValue:P7}=yd,{markRecoilValueModified:ik}=Ys,{retainedByOptionWithDefault:C7}=Wu,{recoilCallback:k7}=N2,{startPerfBlock:x7}=y7;class V2{}const nh=new V2,rh=[],f_=new Map,N7=(()=>{let t=0;return()=>t++})();function F2(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,l=_7(i??{equality:"reference",eviction:"keep-all"},n),u=C7(t.retainedBy_UNSTABLE),d=new Map;let p=0;function m(){return!zt("recoil_memory_managament_2020")||p>0}function _(q){return q.getState().knownSelectors.add(n),p++,()=>{p--}}function y(){return R7(n)!==void 0&&!m()}function S(q,ne,de,Pe,ye){qt(ne,Pe,ye),R(q,de)}function R(q,ne){We(q,ne)&&N(q),T(ne,!0)}function D(q,ne){We(q,ne)&&(ln(M(q)).stateVersions.clear(),T(ne,!1))}function T(q,ne){const de=f_.get(q);if(de!=null){for(const Pe of de)ik(Pe,ln(e));ne&&f_.delete(q)}}function A(q,ne){let de=f_.get(ne);de==null&&f_.set(ne,de=new Set),de.add(q)}function b(q,ne,de,Pe,ye,Be){return ne.then(Ge=>{if(!m())throw N(q),nh;const Ce=bE(Ge);return S(q,de,ye,Ce,Pe),Ge}).catch(Ge=>{if(!m())throw N(q),nh;if(Zt(Ge))return F(q,Ge,de,Pe,ye,Be);const Ce=c_(Ge);throw S(q,de,ye,Ce,Pe),Ge})}function F(q,ne,de,Pe,ye,Be){return ne.then(Ge=>{if(!m())throw N(q),nh;Be.loadingDepKey!=null&&Be.loadingDepPromise===ne?de.atomValues.set(Be.loadingDepKey,bE(Ge)):q.getState().knownSelectors.forEach(st=>{de.atomValues.delete(st)});const Ce=x(q,de);if(Ce&&Ce.state!=="loading"){if((We(q,ye)||M(q)==null)&&R(q,ye),Ce.state==="hasValue")return Ce.contents;throw Ce.contents}if(!We(q,ye)){const st=O(q,de);if(st!=null)return st.loadingLoadable.contents}const[Et,Ct]=z(q,de,ye);if(Et.state!=="loading"&&S(q,de,ye,Et,Ct),Et.state==="hasError")throw Et.contents;return Et.contents}).catch(Ge=>{if(Ge instanceof V2)throw nh;if(!m())throw N(q),nh;const Ce=c_(Ge);throw S(q,de,ye,Ce,Pe),Ge})}function B(q,ne,de,Pe){var ye,Be,Ge,Ce;if(We(q,Pe)||ne.version===((ye=q.getState())===null||ye===void 0||(Be=ye.currentTree)===null||Be===void 0?void 0:Be.version)||ne.version===((Ge=q.getState())===null||Ge===void 0||(Ce=Ge.nextTree)===null||Ce===void 0?void 0:Ce.version)){var Et,Ct,st;S7(n,de,q,(Et=(Ct=q.getState())===null||Ct===void 0||(st=Ct.nextTree)===null||st===void 0?void 0:st.version)!==null&&Et!==void 0?Et:q.getState().currentTree.version)}for(const Rt of de)o.add(Rt)}function z(q,ne,de){const Pe=x7(n);let ye=!0,Be=!0;const Ge=()=>{Pe(),Be=!1};let Ce,Et=!1,Ct;const st={loadingDepKey:null,loadingDepPromise:null},Rt=new Map;function Ft({key:or}){const Ht=d_(q,ne,or);switch(Rt.set(or,Ht),ye||(B(q,ne,new Set(Rt.keys()),de),D(q,de)),Ht.state){case"hasValue":return Ht.contents;case"hasError":throw Ht.contents;case"loading":throw st.loadingDepKey=or,st.loadingDepPromise=Ht.contents,Ht.contents}throw nt("Invalid Loadable state")}const sr=or=>(...Ht)=>{if(Be)throw nt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&vh(!1),k7(q,or,Ht,{node:e})};try{Ce=r({get:Ft,getCallback:sr}),Ce=P7(Ce)?Ft(Ce):Ce,w7(Ce)&&(Ce.state==="hasError"&&(Et=!0),Ce=Ce.contents),Zt(Ce)?Ce=b(q,Ce,ne,Rt,de,st).finally(Ge):Ge(),Ce=Ce instanceof M2?Ce.value:Ce}catch(or){Ce=or,Zt(Ce)?Ce=F(q,Ce,ne,Rt,de,st).finally(Ge):(Et=!0,Ge())}return Et?Ct=c_(Ce):Zt(Ce)?Ct=E7(Ce):Ct=bE(Ce),ye=!1,U(q,de,Rt),B(q,ne,new Set(Rt.keys()),de),[Ct,Rt]}function x(q,ne){let de=ne.atomValues.get(n);if(de!=null)return de;const Pe=new Set;try{de=l.get(Be=>(typeof Be!="string"&&vh(!1),d_(q,ne,Be).contents),{onNodeVisit:Be=>{Be.type==="branch"&&Be.nodeKey!==n&&Pe.add(Be.nodeKey)}})}catch(Be){throw nt(`Problem with cache lookup for selector "${n}": ${Be.message}`)}if(de){var ye;ne.atomValues.set(n,de),B(q,ne,Pe,(ye=M(q))===null||ye===void 0?void 0:ye.executionID)}return de}function I(q,ne){const de=x(q,ne);if(de!=null)return N(q),de;const Pe=O(q,ne);if(Pe!=null){var ye;return((ye=Pe.loadingLoadable)===null||ye===void 0?void 0:ye.state)==="loading"&&A(q,Pe.executionID),Pe.loadingLoadable}const Be=N7(),[Ge,Ce]=z(q,ne,Be);return Ge.state==="loading"?(L(q,Be,Ge,Ce,ne),A(q,Be)):(N(q),qt(ne,Ge,Ce)),Ge}function O(q,ne){const de=o2([d.has(q)?[ln(d.get(q))]:[],Vy(k1(d,([ye])=>ye!==q),([,ye])=>ye)]);function Pe(ye){for(const[Be,Ge]of ye)if(!d_(q,ne,Be).is(Ge))return!0;return!1}for(const ye of de){if(ye.stateVersions.get(ne.version)||!Pe(ye.depValuesDiscoveredSoFarDuringAsyncWork))return ye.stateVersions.set(ne.version,!0),ye;ye.stateVersions.set(ne.version,!1)}}function M(q){return d.get(q)}function L(q,ne,de,Pe,ye){d.set(q,{depValuesDiscoveredSoFarDuringAsyncWork:Pe,executionID:ne,loadingLoadable:de,stateVersions:new Map([[ye.version,!0]])})}function U(q,ne,de){if(We(q,ne)){const Pe=M(q);Pe!=null&&(Pe.depValuesDiscoveredSoFarDuringAsyncWork=de)}}function N(q){d.delete(q)}function We(q,ne){var de;return ne===((de=M(q))===null||de===void 0?void 0:de.executionID)}function en(q){return Array.from(q.entries()).map(([ne,de])=>[ne,de.contents])}function qt(q,ne,de){q.atomValues.set(n,ne);try{l.set(en(de),ne)}catch(Pe){throw nt(`Problem with setting cache for selector "${n}": ${Pe.message}`)}}function wt(q){if(rh.includes(n)){const ne=`Recoil selector has circular dependencies: ${rh.slice(rh.indexOf(n)).join("  ")}`;return c_(nt(ne))}rh.push(n);try{return q()}finally{rh.pop()}}function ce(q,ne){const de=ne.atomValues.get(n);return de??l.get(Pe=>{var ye;return typeof Pe!="string"&&vh(!1),(ye=T7(q,ne,Pe))===null||ye===void 0?void 0:ye.contents})}function we(q,ne){return wt(()=>I(q,ne))}function ue(q){q.atomValues.delete(n)}function Ie(q,ne){e==null&&vh(!1);for(const Pe of o){var de;const ye=b7(Pe);(de=ye.clearCache)===null||de===void 0||de.call(ye,q,ne)}o.clear(),ue(ne),l.clear(),ik(q,e)}return s!=null?e=rk({key:n,nodeType:"selector",peek:ce,get:we,set:(ne,de,Pe)=>{let ye=!1;const Be=new Map;function Ge({key:st}){if(ye)throw nt("Recoil: Async selector sets are not currently supported.");const Rt=d_(ne,de,st);if(Rt.state==="hasValue")return Rt.contents;if(Rt.state==="loading"){const Ft=`Getting value of asynchronous atom or selector "${st}" in a pending state while setting selector "${n}" is not yet supported.`;throw nt(Ft)}else throw Rt.contents}function Ce(st,Rt){if(ye)throw nt("Recoil: Async selector sets are not currently supported.");const Ft=typeof Rt=="function"?Rt(Ge(st)):Rt;I7(ne,de,st.key,Ft).forEach((or,Ht)=>Be.set(Ht,or))}function Et(st){Ce(st,A7)}const Ct=s({set:Ce,get:Ge,reset:Et},Pe);if(Ct!==void 0)throw Zt(Ct)?nt("Recoil: Async selector sets are not currently supported."):nt("Recoil: selector set should be a void function.");return ye=!0,Be},init:_,invalidate:ue,clearCache:Ie,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):e=rk({key:n,nodeType:"selector",peek:ce,get:we,init:_,invalidate:ue,clearCache:Ie,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}F2.value=t=>new M2(t);var Td=F2;const{isLoadable:O7,loadableWithError:PE,loadableWithPromise:CE,loadableWithValue:Tc}=lm,{WrappedValue:U2}=O2,{peekNodeInfo:D7}=dl,{DEFAULT_VALUE:ql,DefaultValue:wa,getConfigDeletionHandler:$2,registerNode:L7,setConfigDeletionHandler:M7}=si,{isRecoilValue:V7}=yd,{getRecoilValueAsLoadable:F7,markRecoilValueModified:U7,setRecoilValue:sk,setRecoilValueLoadable:$7}=Ys,{retainedByOptionWithDefault:B7}=Wu,ih=t=>t instanceof U2?t.value:t;function z7(t){const{key:e,persistence_UNSTABLE:n}=t,r=B7(t.retainedBy_UNSTABLE);let i=0;function s(A){return CE(A.then(b=>(o=Tc(b),b)).catch(b=>{throw o=PE(b),b}))}let o=Zt(t.default)?s(t.default):O7(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Tc(ih(t.default));o.contents;let l;const u=new Map;function d(A){return A}function p(A,b){const F=b.then(B=>{var z,x;return((x=((z=A.getState().nextTree)!==null&&z!==void 0?z:A.getState().currentTree).atomValues.get(e))===null||x===void 0?void 0:x.contents)===F&&sk(A,T,B),B}).catch(B=>{var z,x;throw((x=((z=A.getState().nextTree)!==null&&z!==void 0?z:A.getState().currentTree).atomValues.get(e))===null||x===void 0?void 0:x.contents)===F&&$7(A,T,PE(B)),B});return F}function m(A,b,F){var B;i++;const z=()=>{var M;i--,(M=u.get(A))===null||M===void 0||M.forEach(L=>L()),u.delete(A)};if(A.getState().knownAtoms.add(e),o.state==="loading"){const M=()=>{var L;((L=A.getState().nextTree)!==null&&L!==void 0?L:A.getState().currentTree).atomValues.has(e)||U7(A,T)};o.contents.finally(M)}const x=(B=t.effects)!==null&&B!==void 0?B:t.effects_UNSTABLE;if(x!=null){let M=function(ue){if(We&&ue.key===e){const Ie=N;return Ie instanceof wa?_(A,b):Zt(Ie)?CE(Ie.then(q=>q instanceof wa?o.toPromise():q)):Tc(Ie)}return F7(A,ue)},L=function(ue){return M(ue).toPromise()},U=function(ue){var Ie;const q=D7(A,(Ie=A.getState().nextTree)!==null&&Ie!==void 0?Ie:A.getState().currentTree,ue.key);return We&&ue.key===e&&!(N instanceof wa)?{...q,isSet:!0,loadable:M(ue)}:q},N=ql,We=!0,en=!1,qt=null;const wt=ue=>Ie=>{if(We){const q=M(T),ne=q.state==="hasValue"?q.contents:ql;N=typeof Ie=="function"?Ie(ne):Ie,Zt(N)&&(N=N.then(de=>(qt={effect:ue,value:de},de)))}else{if(Zt(Ie))throw nt("Setting atoms to async values is not implemented.");typeof Ie!="function"&&(qt={effect:ue,value:ih(Ie)}),sk(A,T,typeof Ie=="function"?q=>{const ne=ih(Ie(q));return qt={effect:ue,value:ne},ne}:ih(Ie))}},ce=ue=>()=>wt(ue)(ql),we=ue=>Ie=>{var q;const{release:ne}=A.subscribeToTransactions(de=>{var Pe;let{currentTree:ye,previousTree:Be}=de.getState();Be||(Be=ye);const Ge=(Pe=ye.atomValues.get(e))!==null&&Pe!==void 0?Pe:o;if(Ge.state==="hasValue"){var Ce,Et,Ct,st;const Rt=Ge.contents,Ft=(Ce=Be.atomValues.get(e))!==null&&Ce!==void 0?Ce:o,sr=Ft.state==="hasValue"?Ft.contents:ql;((Et=qt)===null||Et===void 0?void 0:Et.effect)!==ue||((Ct=qt)===null||Ct===void 0?void 0:Ct.value)!==Rt?Ie(Rt,sr,!ye.atomValues.has(e)):((st=qt)===null||st===void 0?void 0:st.effect)===ue&&(qt=null)}},e);u.set(A,[...(q=u.get(A))!==null&&q!==void 0?q:[],ne])};for(const ue of x)try{const Ie=ue({node:T,storeID:A.storeID,parentStoreID_UNSTABLE:A.parentStoreID,trigger:F,setSelf:wt(ue),resetSelf:ce(ue),onSet:we(ue),getPromise:L,getLoadable:M,getInfo_UNSTABLE:U});if(Ie!=null){var I;u.set(A,[...(I=u.get(A))!==null&&I!==void 0?I:[],Ie])}}catch(Ie){N=Ie,en=!0}if(We=!1,!(N instanceof wa)){var O;const ue=en?PE(N):Zt(N)?CE(p(A,N)):Tc(ih(N));ue.contents,b.atomValues.set(e,ue),(O=A.getState().nextTree)===null||O===void 0||O.atomValues.set(e,ue)}}return z}function _(A,b){var F,B;return(F=(B=b.atomValues.get(e))!==null&&B!==void 0?B:l)!==null&&F!==void 0?F:o}function y(A,b){if(b.atomValues.has(e))return ln(b.atomValues.get(e));if(b.nonvalidatedAtoms.has(e)){if(l!=null)return l;if(n==null)return o;const F=b.nonvalidatedAtoms.get(e),B=n.validator(F,ql);return l=B instanceof wa?o:Tc(B),l}else return o}function S(){l=void 0}function R(A,b,F){if(b.atomValues.has(e)){const B=ln(b.atomValues.get(e));if(B.state==="hasValue"&&F===B.contents)return new Map}else if(!b.nonvalidatedAtoms.has(e)&&F instanceof wa)return new Map;return l=void 0,new Map().set(e,Tc(F))}function D(){return $2(e)!==void 0&&i<=0}const T=L7({key:e,nodeType:"atom",peek:_,get:y,set:R,init:m,invalidate:S,shouldDeleteConfigOnRelease:D,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return T}function $1(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return V7(n)?j7({...e,default:n}):z7({...e,default:n})}function j7(t){const e=$1({...t,default:ql,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof wa?r:ln(t.persistence_UNSTABLE).validator(r,ql)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Td({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof wa?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return M7(n.key,$2(t.key)),n}$1.value=t=>new U2(t);var B2=$1;class W7{constructor(e){var n;Ze(this,"_map",void 0),Ze(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e?.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var G7={MapCache:W7},q7=G7.MapCache,H7=Object.freeze({__proto__:null,MapCache:q7});const{LRUCache:ok}=L2,{MapCache:K7}=H7,h_={equality:"reference",eviction:"none",maxSize:1/0};function Q7({equality:t=h_.equality,eviction:e=h_.eviction,maxSize:n=h_.maxSize}=h_){const r=Y7(t);return Z7(e,n,r)}function Y7(t){switch(t){case"reference":return e=>e;case"value":return e=>Yy(e)}throw nt(`Unrecognized equality policy ${t}`)}function Z7(t,e,n){switch(t){case"keep-all":return new K7({mapKey:n});case"lru":return new ok({mapKey:n,maxSize:ln(e)});case"most-recent":return new ok({mapKey:n,maxSize:1})}throw nt(`Unrecognized eviction policy ${t}`)}var z2=Q7;const{setConfigDeletionHandler:J7}=si;function X7(t){var e,n;const r=z2({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const l=r.get(i);if(l!=null)return l;const{cachePolicyForParams_UNSTABLE:u,...d}=t,p="default"in t?t.default:new Promise(()=>{}),m=B2({...d,key:`${t.key}__${(s=Yy(i))!==null&&s!==void 0?s:"void"}`,default:typeof p=="function"?p(i):p,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,m),J7(m.key,()=>{r.delete(i)}),m}}var eQ=X7;const{setConfigDeletionHandler:tQ}=si;let nQ=0;function rQ(t){var e,n;const r=z2({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(_){throw nt(`Problem with cache lookup for selector ${t.key}: ${_.message}`)}if(o!=null)return o;const l=`${t.key}__selectorFamily/${(s=Yy(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${nQ++}`,u=_=>t.get(i)(_),d=t.cachePolicy_UNSTABLE,p=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let m;if(t.set!=null){const _=t.set;m=Td({key:l,get:u,set:(S,R)=>_(i)(S,R),cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:p})}else m=Td({key:l,get:u,cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:p});return r.set(i,m),tQ(m.key,()=>{r.delete(i)}),m}}var fl=rQ;const iQ=fl({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function sQ(t){return iQ(t)}var oQ=sQ;const aQ=fl({key:"__error",get:t=>()=>{throw nt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function lQ(t){return aQ(t)}var uQ=lQ;function cQ(t){return t}var dQ=cQ;const{loadableWithError:j2,loadableWithPromise:W2,loadableWithValue:G2}=lm;function Zy(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function fQ(t){return t!=null&&!Zt(t)}function Jy(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function lI(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function nd(t,e,n){const r=n.map((i,s)=>i==null?G2(e[s]):Zt(i)?W2(i):j2(i));return lI(t,r)}function hQ(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const pQ=fl({key:"__waitForNone",get:t=>({get:e})=>{const n=Jy(t),[r,i]=Zy(e,n);return nd(t,r,i)},dangerouslyAllowMutability:!0}),mQ=fl({key:"__waitForAny",get:t=>({get:e})=>{const n=Jy(t),[r,i]=Zy(e,n);return i.some(s=>!Zt(s))?nd(t,r,i):new Promise(s=>{for(const[o,l]of i.entries())Zt(l)&&l.then(u=>{r[o]=u,i[o]=void 0,s(nd(t,r,i))}).catch(u=>{i[o]=u,s(nd(t,r,i))})})},dangerouslyAllowMutability:!0}),gQ=fl({key:"__waitForAll",get:t=>({get:e})=>{const n=Jy(t),[r,i]=Zy(e,n);if(i.every(o=>o==null))return lI(t,r);const s=i.find(fQ);if(s!=null)throw s;return Promise.all(i).then(o=>lI(t,hQ(r,o)))},dangerouslyAllowMutability:!0}),_Q=fl({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Jy(t),[r,i]=Zy(e,n);return i.every(s=>!Zt(s))?nd(t,r,i):Promise.all(i.map((s,o)=>Zt(s)?s.then(l=>{r[o]=l,i[o]=void 0}).catch(l=>{r[o]=void 0,i[o]=l}):null)).then(()=>nd(t,r,i))},dangerouslyAllowMutability:!0}),vQ=fl({key:"__noWait",get:t=>({get:e})=>{try{return Td.value(G2(e(t)))}catch(n){return Td.value(Zt(n)?W2(n):j2(n))}},dangerouslyAllowMutability:!0});var yQ={waitForNone:pQ,waitForAny:mQ,waitForAll:gQ,waitForAllSettled:_Q,noWait:vQ};const{RecoilLoadable:wQ}=lm,{DefaultValue:EQ}=si,{RecoilRoot:TQ,useRecoilStoreID:IQ}=$o,{isRecoilValue:SQ}=yd,{retentionZone:AQ}=Uy,{freshSnapshot:RQ}=Gy,{useRecoilState:bQ,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:PQ,useRecoilStateLoadable:CQ,useRecoilValue:kQ,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:xQ,useRecoilValueLoadable:NQ,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:OQ,useResetRecoilState:DQ,useSetRecoilState:LQ}=G8,{useGotoRecoilSnapshot:MQ,useRecoilSnapshot:VQ,useRecoilTransactionObserver:FQ}=P2,{useRecoilCallback:UQ}=N2,{noWait:$Q,waitForAll:BQ,waitForAllSettled:zQ,waitForAny:jQ,waitForNone:WQ}=yQ;var B1={DefaultValue:EQ,isRecoilValue:SQ,RecoilLoadable:wQ,RecoilEnv:Yd,RecoilRoot:TQ,useRecoilStoreID:IQ,useRecoilBridgeAcrossReactRoots_UNSTABLE:vK,atom:B2,selector:Td,atomFamily:eQ,selectorFamily:fl,constSelector:oQ,errorSelector:uQ,readOnlySelector:dQ,noWait:$Q,waitForNone:WQ,waitForAny:jQ,waitForAll:BQ,waitForAllSettled:zQ,useRecoilValue:kQ,useRecoilValueLoadable:NQ,useRecoilState:bQ,useRecoilStateLoadable:CQ,useSetRecoilState:LQ,useResetRecoilState:DQ,useGetRecoilValueInfo_UNSTABLE:fK,useRecoilRefresher_UNSTABLE:HK,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:OQ,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:xQ,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:PQ,useRecoilCallback:UQ,useRecoilTransaction_UNSTABLE:JK,useGotoRecoilSnapshot:MQ,useRecoilSnapshot:VQ,useRecoilTransactionObserver_UNSTABLE:FQ,snapshot_UNSTABLE:RQ,useRetain:L1,retentionZone:AQ},Js=B1.atom,Zi=B1.selector,GQ=B1.selectorFamily,qQ="2.39.5";function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HQ(t){if(Array.isArray(t))return uI(t)}function KQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QQ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function YQ(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(t,e):void 0}}function z1(t){return HQ(t)||KQ(t)||YQ(t)||QQ()}function ak(t,e,n,r,i,s,o){try{var l=t[s](o),u=l.value}catch(d){return void n(d)}l.done?e(u):Promise.resolve(u).then(r,i)}function Lt(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){ak(s,r,i,o,l,"next",u)}function l(u){ak(s,r,i,o,l,"throw",u)}o(void 0)})}}function Nv(t){return t&&t.constructor===Symbol?"symbol":typeof t}var _p,ZQ=window.zAppID,Ov=window.APP_ID,JQ="https://h5.zdn.vn/zapps",XQ="h5.zdn.vn",eY="/zapps",sh={ZOAUTH:"h5.zdn.vn_zoauth",ZACC_SESSION:"h5.zdn.vn_zacc_session",JS_TOKEN:"h5.zdn.vn_zlink3rd",ZOAUTH_VRF:"h5.zdn.vn_zoauth_vrf",DEVICE_ID:"h5.zdn.vn_deviceID",CONTEXT_ID:"h5.zdn.vn_contextID",CONTEXT_TYPE:"h5.zdn.vn_contextType",UTOKEN_ZPI:"h5.zdn.vn_utoken_zpi",GTOKEN_ZPI:"h5.zdn.vn_gtoken_zpi",ZPP_ZPI:"h5.zdn.vn_zpp_zpi",ZPT_ZPI:"h5.zdn.vn_zpt_zpi"},vp={GET_USER_INFO:"https://graph.zalo.me/v2.0/me",GET_ACCESS_TOKEN:"https://h5.zalo.me/openapi/access_token",GET_ACCESS_TOKEN_V3:"https://oauth.zaloapp.com/v3/access_token",GET_LIST_USER_INFO:"https://graph.zalo.me/v2.0/me/friends/list",CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create",GET_APP_INFO:"https://h5.zalo.me/apps/get-info",SEND_ACTION_LOG:"https://h5.zalo.me/log/async",CREATE_SHARE_LINK:"https://h5.zalo.me/openapi/create-sharelink",CHECK_INTERACT_OA:"https://h5.zalo.me/openapi/check-interact-oa",GET_AUTH_SETTING:"https://h5.zalo.me/apis/users/auth-settings"};(function(t){t.REQUEST="REQUEST",t.MODIFIED_REQUEST="MODIFIED_REQUEST",t.RESPONSE="RESPONSE",t.MODIFIED_RESPONSE="MODIFIED_RESPONSE",t.NOT_FOUND="NOT_FOUND"})(_p||(_p={}));var Bt={SUCCESS:0,UNKNOWN_ERROR:-2e3,BAD_REQUEST:-1400,INTERNAL_SERVER_ERROR:-1500,UNAUTHORIZED:-1401,FORBIDDEN:-1403,CLIENT_NOT_SUPPORT:-1404,TIME_OUT:-1408,DECODE_FAILED:-2001,USER_DENIED:-2002,USER_CANCEL:-2003,MEDIA_PICKER_FAIL:-2004,SAVE_IMAGE_FAIL:-2005},sn={SUCCESS:"Success",UNKNOWN_ERROR:"Unknown error. Please try again later.",TIME_OUT:"Request timeout. Please try again later.",LOGIN_REQUIRED:"Please login (https://miniapp.zalo.me/docs/api/login) before to call this api",LOGIN_FAILED:"Login failed",NOT_PERMISSION:"You don't have permission to call this api",CLIENT_NOT_SUPPORT:"This API is not supported in this version of Zalo",DECODE_FAILED:"Can not decode id. Please check your params again.",INVALID_PARAM:"Invalid parameter",USER_DENIED:"User denied",USER_CANCEL:"User cancel",NEED_USER_AUTH:"User Authentication Required. Please grant User Authentication permission before requesting User Permission",MEDIA_PICKER_FAIL:"Unable to pick media",SAVE_IMAGE_FAIL:"Unable to save image",ANDROID_ONLY:"This API only works on android device",IOS_ONLY:"This API only works on iOS device"},Qt={SUCCESS:{code:Bt.SUCCESS,message:sn.SUCCESS},UNKNOWN_ERROR:{code:Bt.UNKNOWN_ERROR,message:sn.UNKNOWN_ERROR},UNAUTHORIZED:{code:Bt.UNAUTHORIZED,message:sn.LOGIN_REQUIRED},FORBIDDEN:{code:Bt.FORBIDDEN,message:sn.NOT_PERMISSION},CLIENT_NOT_SUPPORT:{code:Bt.CLIENT_NOT_SUPPORT,message:sn.CLIENT_NOT_SUPPORT},DECODE_FAILED:{code:Bt.DECODE_FAILED,message:sn.DECODE_FAILED},TIME_OUT:{code:Bt.TIME_OUT,message:sn.TIME_OUT},USER_DENIED:{code:Bt.USER_DENIED,message:sn.USER_DENIED},USER_CANCEL:{code:Bt.USER_CANCEL,message:sn.USER_CANCEL}},cI={GET_DOWNLOADED_STICKER:{haveCallback:!0},OPEN_SHARE_STICKER:{},OPEN_PROFILE:{requireAccessToken:!0},OPEN_FEED_DETAIL:{},OPEN_FRIEND_RADA:{},OPEN_INAPP:{},OPEN_OUTAPP:{requireAccessToken:!0},OPEN_PAGE:{},OPEN_PHOTODETAIL:{},OPEN_GALARY:{},OPEN_GAMECENTER:{},OPEN_GAMENEWS:{},OPEN_TAB_CONTACT:{},OPEN_TAB_SOCIAL:{},OPEN_FRIENDSUGGEST:{},OPEN_GROUPLIST:{},OPEN_NEARBY:{},OPEN_ROOM:{},OPEN_STICKERSTORE:{},OPEN_CREATECHAT:{},COPY_LINK_CATESTICKER:{},REQUEST_BUY_STICKER:{},OPEN_CHAT:{requireAccessToken:!0},OPEN_TAB_CHAT:{},OPEN_CHATGROUP:{},OPEN_ADDFRIEND:{},OPEN_TAB_MORE:{},OPEN_POSTFEED:{requireAccessToken:!0},OPEN_LOGINDEVICES:{},OPEN_SENDSTICKER:{},REPORT_ABUSE:{haveCallback:!0},FOLLOW_OA:{haveCallback:!0,requireAccessToken:!0},UNFOLLOW_OA:{haveCallback:!0,requireAccessToken:!0},OPEN_GAMEDETAIL:{},OPEN_SHARESHEET:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-101":{mapTo:Qt.CLIENT_NOT_SUPPORT}},iOS:{"-101":{mapTo:Qt.CLIENT_NOT_SUPPORT}}}},REQUEST_PERMISSION_CAMERA:{errorList:{android:{"-2":{mapTo:Qt.USER_DENIED}},iOS:{"-2":{mapTo:Qt.USER_DENIED}}}},CHANGE_TITLE_HEADER:{skipJump:!0},WEBVIEW_CLEARCACHE:{},WEBVIEW_CONFIRMCACHE:{},WEBVIEW_ISVISIBLE:{},WEBVIEW_NETWORKTYPE:{skipJump:!0},CHANGE_BUTTON_HEADER:{},CREATE_OPTIONS_MENU:{skipJump:!0,haveCallback:!0},CREATE_SHORTCUT:{requireAccessToken:!0},CHANGE_ACTIONBAR_LEFTBUTTON_TYPE:{skipJump:!0,haveCallback:!0},WINDOW_CLOSE:{skipJump:!0,haveCallback:!0},WEBVIEW_CHECKRESERROR:{},IAP_REQUESTPAYMENT:{haveCallback:!0},ZBROWSER_GETSTATS:{},ZBROWSER_JSBRIDGE:{skipJump:!0,haveCallback:!0},PROMPT_AUTHENTICATION:{},CHANGE_ACTIONBAR_COLOR:{skipJump:!0},PROMPT_AUTHENTICATION_CHECK_STATE:{},OPEN_APPSTORE:{},GET_LOCATION:{haveCallback:!0,errorList:{android:{"-1":{mapTo:Qt.USER_DENIED}},iOS:{"-1":{mapTo:Qt.USER_DENIED}}}},QUERY_LOCATION_HIDE:{haveCallback:!0},SHOW_TOAST:{haveCallback:!0,timeout:2},OPEN_APP:{},HIDE_KEYBOARD:{},OPEN_PHONE:{},OPEN_QR:{},OPEN_SMS:{},VIEW_MYQR:{haveCallback:!0,timeout:!0,requireAccessToken:!0},KEEP_SCREEN:{haveCallback:!0,timeout:2},CHANGE_AUTOROTATE:{skipJump:!0},CHECK_APP_INSTALLED:{},QUERY_SHOW:{},QUERY_HIDE:{},OPEN_INAPPRW:{},ZALORUN_GETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_SETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_GETDAYSTEP:{haveCallback:!0},ZALORUN_FORCESUBMITDATA:{haveCallback:!0},ZALORUN_SETWEIGHT:{haveCallback:!0},OPEN_PROFILE_EXT:{},DOWNLOAD_CATE:{haveCallback:!0},JUMP_LOGIN:{skipJump:!0,whiteList:!0},OPEN_ADTIMA_ADS_INTERSTITIAL:{},OPEN_ADTIMA_ADS:{},GET_ADIDCLIENT:{},SCAN_IBEACON:{},INTERACTIVE_VIBRATION:{},SAVE_IMAGE_GALLERY:{versionLive:{iOS:408},errorList:{android:{"-101":{mapTo:{code:Bt.SAVE_IMAGE_FAIL,message:sn.SAVE_IMAGE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:Bt.SAVE_IMAGE_FAIL,message:sn.SAVE_IMAGE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Bt.SAVE_IMAGE_FAIL,message:sn.SAVE_IMAGE_FAIL},needMoreDetail:!0}}}},OPEN_MP:{versionLive:{iOS:402}},CHANGE_ACTIONBAR:{haveCallback:!0,timeout:2,versionLive:{iOS:402},skipJump:!0},ZBROWSER_MPDS:{haveCallback:!0,timeout:2,versionLive:{iOS:402}},WEBVIEW_SET_RESULT:{versionLive:{iOS:416}},MP_GET_NUMBER:{versionLive:{iOS:416},errorList:{android:{"-1":{mapTo:Qt.USER_DENIED},"-101":{mapTo:Qt.USER_DENIED}},iOS:{"-1":{mapTo:Qt.USER_DENIED},"-10":{mapTo:Qt.USER_DENIED}}}},MP_OPEN_PROFILE_PICKER:{requireAccessToken:!0,versionLive:{iOS:432},errorList:{android:{"-101":{mapTo:Qt.USER_CANCEL}},iOS:{"-101":{mapTo:Qt.USER_CANCEL}}}},GET_SUPPORTED_ACTIONS:{whiteList:!0},MP_JOIN_WIFI:{haveCallback:!0,timeout:!0,versionLive:{android:0,iOS:0},havePermission:!1,whiteList:!1},PICK_MEDIA:{requireAccessToken:!0,versionLive:{iOS:440},errorList:{android:{"-101":{mapTo:Qt.USER_CANCEL},999:{mapTo:{code:Bt.MEDIA_PICKER_FAIL,message:sn.MEDIA_PICKER_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Bt.MEDIA_PICKER_FAIL,message:sn.MEDIA_PICKER_FAIL}}}}},MP_CLOSE_LOADINGVIEW:{skipJump:!0},CHANGE_BOTTOMBAR:{haveCallback:!0,timeout:2,skipJump:!0},MA_MENU_MINIMIZE:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_PERMISSION:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_FAVORITES:{skipJump:!1,versionLive:{iOS:520}},MP_SEND_NOTIFICATION:{skipJump:!1,versionLive:{iOS:530},errorList:{android:{"-1":{mapTo:Qt.USER_DENIED}},iOS:{"-1":{mapTo:Qt.USER_DENIED}}}},MP_ADD_RATING:{skipJump:!1},MP_ADD_MYFAVORITES:{skipJump:!1},MP_INTERACT_OA:{skipJump:!1},MP_USER_AUTHORIZE:{skipJump:!1},MP_SELECT_PAYMENT_METHOD:{skipJump:!1}},kE={android:{"-4":Qt.DECODE_FAILED,"-5":Qt.CLIENT_NOT_SUPPORT,"-14":Qt.TIME_OUT},iOS:{"-9":Qt.DECODE_FAILED,"-5":Qt.CLIENT_NOT_SUPPORT,"-14":Qt.TIME_OUT}},tY={"-12101":"Invalid params","-12102":"Session expire","-12103":"Not permission","-12104":"Not Authorize","-12105":"Unknown exception","-12106":"Cannot create order","-12107":"Transaction not found","-12108":"Cannot update order","-12109":"Cannot decode param","-12110":"Version not support","-12111":"Receipt expire","-12112":"Product not found","-12113":"Subscription other GW","-12114":"Product already subcription","-12115":"Not exist","-12116":"Already exist","-12117":"Not allow","-12118":"Not permit","-12119":"Internal error","-2":"Unable to pay","-6":"Unable to register","-7":"Registered account","-832":"Purchased by another account","-833":"Register for another account","-834":"Unable to register","-2010":"System is maintaining","-3999":"Not in Vietnam","-12129":"Purchased by another account",123:"An error has occurred"};function j1(t){return typeof window.Debug=="function"?window.Debug(t):function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]}}var nY=Object.prototype.toString,rY="[object Null]",iY="[object Undefined]";function lk(t){return t==null?t===void 0?iY:rY:function(e){return nY.call(e)}(t)}function uk(t){return t!=null&&typeof t=="object"}var gn={isEmpty:function(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0},isNull:function(t){return t===null},isUndefined:function(t){return t===void 0},isFunction:function(t){return typeof t=="function"},isObject:function(t){return t!==null&&(typeof t=="function"||typeof t=="object")},isString:function(t){return t!=null&&typeof t.valueOf()=="string"},isNumber:function(t){return typeof t=="number"||uk(t)&&lk(t)=="[object Number]"},isArray:function(t){return Array.isArray(t)},isRegExp:function(t){return uk(t)&&lk(t)=="[object RegExp]"},get:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=function(s){return String.prototype.split.call(e,s).filter(Boolean).reduce(function(o,l){return o!=null?o[l]:o},t)},i=r(/[,[\]]+?/)||r(/[,[\].]+?/);return i===void 0||i===t?n:i},isPromise:function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}},ck,Bh,Id,bs,dk,fk,hk,pk,mk,gk,_k,vk,yk,wk,Ek,Tk,Ik;(function(t){t.none="none",t.wifi="wifi",t.cellular="cellular",t.unknown="unknown"})(ck||(ck={})),function(t){t.wp="wp",t.android="android",t.iOS="iOS",t.unknown="unknown"}(Bh||(Bh={})),function(t){t.AppPaused="h5.event.paused",t.AppResumed="h5.event.resumed",t.NetworkChanged="h5.event.connection.changed",t.OnDataCallback="h5.event.webview.result",t.WebviewClosed="h5.event.webview.close",t.OpenApp="h5.event.open.mp",t.AppClose="h5.event.action.close",t.PaymentCallback="payment.callback",t.PaymentResult="action.payment.result",t.PaymentClose="action.payment.close"}(Id||(Id={})),function(t){t.DOING="doing",t.DONE="done"}(bs||(bs={})),function(t){t[t.user=1]="user",t[t.oa=0]="oa",t[t.aliasOA=2]="aliasOA"}(dk||(dk={})),function(t){t[t.user=1]="user",t[t.oa=0]="oa"}(fk||(fk={})),function(t){t[t.image=1]="image",t[t.link=4]="link",t[t.profile=5]="profile"}(hk||(hk={})),function(t){t[t.image=1]="image",t[t.gif=11]="gif",t[t.video=12]="video",t[t.link=4]="link",t[t.oa=5]="oa",t[t.zmp=20]="zmp",t[t.multi_image=21]="multi_image",t[t.zmp_deep_link=4]="zmp_deep_link",t[t.text=22]="text"}(pk||(pk={})),function(t){t[t.auto=1]="auto",t[t.portrait=2]="portrait",t[t.landscape=3]="landscape"}(mk||(mk={})),function(t){t[t.oneShot=0]="oneShot"}(gk||(gk={})),function(t){t[t.zcamera=3]="zcamera",t[t.zcamera_photo=1]="zcamera_photo",t[t.zcamera_video=2]="zcamera_video",t[t.zcamera_scan=7]="zcamera_scan",t[t.photo=4]="photo",t[t.video=5]="video",t[t.file=6]="file"}(_k||(_k={})),function(t){t.SUBSCRIPTION="SUBSCRIPTION",t.ONETIME="ONETIME"}(vk||(vk={})),function(t){t[t.UNKNOW=0]="UNKNOW",t[t.DEFERRED=1]="DEFERRED",t[t.IMMEDIATE_AND_CHARGE_FULL_PRICE=2]="IMMEDIATE_AND_CHARGE_FULL_PRICE"}(yk||(yk={})),function(t){t[t.normal=1]="normal",t[t.hidden=0]="hidden",t[t.transparent=2]="transparent"}(wk||(wk={})),function(t){t[t.show=1]="show",t[t.hide=0]="hide"}(Ek||(Ek={})),function(t){t[t.show=1]="show",t[t.hide=0]="hide"}(Tk||(Tk={})),function(t){t[t.left=0]="left",t[t.center=1]="center"}(Ik||(Ik={}));function W1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oY(t,e,n){return e&&sY(t.prototype,e),t}function aY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){aY(t,i,n[i])})}return t}function Eu(t){Eu.on&&Eu.engine(t)}Eu.on=!1,Eu.engine=function(t){var e=t.name,n=t.type,r=t.state,i=t.request,s=t.response,o=t.stage;console[n]([e,o,r,i,s].filter(Boolean).map(function(l){return typeof l=="object"?JSON.stringify(l):l}).join("; "))};function dI(t){return dI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dI(t)}function nu(t){return dI(t)}function lY(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nu(t))!==null;);return t}function fI(t,e,n){return fI=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,i,s){var o=lY(r,i);if(o){var l=Object.getOwnPropertyDescriptor(o,i);return l.get?l.get.call(s||r):l.value}},fI(t,e,n)}function p_(t,e,n){return fI(t,e,n)}function hI(t,e){return hI=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hI(t,e)}function uY(t,e){return hI(t,e)}function cY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uY(t,e)}function dY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hY(t,e){return!e||Nv(e)!=="object"&&typeof e!="function"?fY(t):e}function pY(t){var e=dY();return function(){var n,r=nu(t);if(e){var i=nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hY(this,n)}}function mY(t,e){return t(e={exports:{}},e.exports),e.exports}var gY=mY(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function s(u,d,p,m,_){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,m||u,_),S=n?n+d:d;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],y]:u._events[S].push(y):(u._events[S]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount==0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),l.prototype.eventNames=function(){var u,d,p=[];if(this._eventsCount===0)return p;for(d in u=this._events)e.call(u,d)&&p.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(u)):p},l.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,_=p.length,y=new Array(_);m<_;m++)y[m]=p[m].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,m,_,y){var S=n?n+u:u;if(!this._events[S])return!1;var R,D,T=this._events[S],A=arguments.length;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),A){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,p),!0;case 4:return T.fn.call(T.context,d,p,m),!0;case 5:return T.fn.call(T.context,d,p,m,_),!0;case 6:return T.fn.call(T.context,d,p,m,_,y),!0}for(D=1,R=new Array(A-1);D<A;D++)R[D-1]=arguments[D];T.fn.apply(T.context,R)}else{var b,F=T.length;for(D=0;D<F;D++)switch(T[D].once&&this.removeListener(u,T[D].fn,void 0,!0),A){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,d);break;case 3:T[D].fn.call(T[D].context,d,p);break;case 4:T[D].fn.call(T[D].context,d,p,m);break;default:if(!R)for(b=1,R=new Array(A-1);b<A;b++)R[b-1]=arguments[b];T[D].fn.apply(T[D].context,R)}}return!0},l.prototype.on=function(u,d,p){return s(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return s(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,m){var _=n?n+u:u;if(!this._events[_])return this;if(!d)return o(this,_),this;var y=this._events[_];if(y.fn)y.fn!==d||m&&!y.once||p&&y.context!==p||o(this,_);else{for(var S=0,R=[],D=y.length;S<D;S++)(y[S].fn!==d||m&&!y[S].once||p&&y[S].context!==p)&&R.push(y[S]);R.length?this._events[_]=R.length===1?R[0]:R:o(this,_)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}),_Y=gY,Dv="ACTION_CALLBACK",yp=function(t){cY(n,t);var e=pY(n);function n(){var i;return W1(this,n),(i=e.apply(this,arguments)).debug=j1("zmp:event-emitter"),i}var r=n.prototype;return r.h5ConfirmHandleEvent=function(i,s,o){ZaloJavaScriptInterface.jsH5EventCallback(i,s,o||"")},r.on=function(i,s,o){var l=this;return i===Dv||i===Id.PaymentCallback?p_(nu(n.prototype),"on",this).call(this,i,s,o):(this.debug("register ".concat(String(i),": ").concat(o)),p_(nu(n.prototype),"on",this).call(this,i,function(u,d){l.h5ConfirmHandleEvent(u,i,o),s(d)},o))},r.once=function(i,s,o){var l=this;return i===Dv?p_(nu(n.prototype),"once",this).call(this,i,s,o):(this.debug("register once ".concat(String(i),": ").concat(o)),p_(nu(n.prototype),"once",this).call(this,i,function(u,d){l.h5ConfirmHandleEvent(u,i,o),s(d)},o))},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}(_Y);function vY(t){yp.getInstance().on(Dv,t)}function yh(t){yp.getInstance().emit(Dv,t)}window.onNativeMessage=function(t,e){return function(n){yh({serialId:t,actionName:e,result:n})}},window.zaloJSV2={zalo_h5_event_handler:function(t,e,n){var r=j1("zmp:zalo_h5_event_handler");r("eventId: ".concat(t,", eventName: ").concat(e,", eventData: ").concat(n));var i=RY(n);r("stringToData",i);var s=function(o,l){try{if(o===Id.OpenApp){var u=l.url,d=new URL(u),p=d.pathname.split("/zapps/".concat(Ov))[1];return{path:"".concat(p||"/").concat(d.search)}}return l}catch{return l}}(e,i);yp.getInstance().emit(e,t,s)}},window.zaloNative2JS={nativeCall:function(t,e,n){yp.getInstance().emit(Id.PaymentCallback,t,e,n)}};function Sk(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(r===void 0)return;if(r===null)return void e.push(n);e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return e.join("&")}var Ak={encode:Sk,decode:function(t,e){var n={};if(t==="")return n;for(var r=t.split("&"),i=0;i<r.length;i++){var s=r[i].split("=",2),o=decodeURIComponent(s[0]);if(e&&Object.prototype.hasOwnProperty.call(n,o))throw new URIError("Duplicate key: "+o);n[o]=s.length===2?decodeURIComponent(s[1]):null}return n},appendToUrl:function(t,e){return t+(t.indexOf("?")!==-1?"&":"?")+(typeof e=="string"?e:Sk(e))},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getParamsAsObject:function(t){var e={};return t&&t.split("&").map(function(n){var r=n.split("=");r&&r.length==2&&(e[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}),e},toQueryString:function(t){if(!t)return"";if((t===void 0||t===void 0?"undefined":Nv(t))!="object")return t;var e=Object.keys(t),n=[];return e.map(function(r){var i=t[r],s=[r,i=(i===void 0||i===void 0?"undefined":Nv(i))=="object"?JSON.stringify(i):encodeURIComponent(i)].join("=");n.push(s)}),n.join("&")}},pI={},mI=function(t,e,n){var r=e||"default";return function(){return(r in pI?pI[r](t,n):t).apply(this,arguments)}};mI.setWrapper=function(t){pI[arguments.length<=1||arguments[1]===void 0?"default":arguments[1]]=t};var Rk={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function bk(t){try{return t===null?Rk:JSON.parse(t)}catch{return Rk}}var yY={execute:function(t,e,n,r){n.suppress_http_code=1;var i=Ak.encode(n);e!="post"&&(t=Ak.appendToUrl(t,i),i="");var s=function(o,l){if(!self.XMLHttpRequest)return null;var u=new XMLHttpRequest,d=function(){};if(!("withCredentials"in u))return null;u.open(o,l,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var p={send:function(y){u.send(y)}},m=mI(function(){m=d,"onload"in p&&p.onload(u)},"entry","XMLHttpRequest:load"),_=mI(function(){_=d,"onerror"in p&&p.onerror(u)},"entry","XMLHttpRequest:error");return u.onload=function(){m()},u.onerror=function(){_()},u.onreadystatechange=function(){u.readyState==4&&(u.status==200?m():_())},p}(e,t);return!!s&&(s.onload=function(o){r(bk(o.responseText))},s.onerror=function(o){o.responseText?r(bk(o.responseText)):r({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:o.status,type:"http"}})},s.send(i),!0)}};function Mt(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return function(p){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,p[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&p[0]?r.return:p[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,p[1])).done)return i;switch(r=0,i&&(p=[2&p[0],i.value]),p[0]){case 0:case 1:i=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,r=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||p[0]!==6&&p[0]!==2)){o=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){o.label=p[1];break}if(p[0]===6&&o.label<i[1]){o.label=i[1],i=p;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(p);break}i[2]&&o.ops.pop(),o.trys.pop();continue}p=e.call(t,o)}catch(m){p=[6,m],r=0}finally{n=i=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([u,d])}}}function q2(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];try{return t.apply(void 0,z1(n))}catch(i){return typeof console<"u"&&console.error&&console.error(i),null}}}q2.async=function(t){return Lt(function(){var e,n,r,i,s=arguments;return Mt(this,function(o){switch(o.label){case 0:for(e=s.length,n=new Array(e),r=0;r<e;r++)n[r]=s[r];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.apply(void 0,z1(n))];case 2:return[2,o.sent()];case 3:return i=o.sent(),typeof console<"u"&&console.error&&console.error(i),[2,null];case 4:return[2]}})})};var wY=function(t){return t.isAndroid?Bh.android:t.isIOS?Bh.iOS:Bh.unknown};function EY(t){var e=t.split("zalo")[1];return e&&e.replace(" ","").split("/")[1]||""}function Tu(){var t=function(){var e=q2(function(){return window.navigator.userAgent.toLowerCase()})();if(e){var n,r=function(i){return{isAndroid:/android/i.test(i)&&!/iemobile/.test(i),isIOS:/iphone|ios|ipad|ipod/.test(i)&&!/iemobile/.test(i),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(i),isZalo:/zalo/.test(i)}}(e);return{appEnv:(n=new URL(window.location.href).searchParams.get("env"),{isMp:window.location.hostname.includes(XQ)&&(n=="TESTING_LOCAL"||window.location.pathname.startsWith(eY)),isMpWeb:window.location.hostname.includes("localhost")}),platform:r,platformName:wY(r),zaloVersion:EY(e).trim()}}}();if(t)return t}function Ea(t){try{var e=t.map(function(n){return{action:n.action,error:n.error,message:n.message,data:n.data}});yY.execute(vp.SEND_ACTION_LOG,"post",{appId:window.APP_ID,data:JSON.stringify(e)},function(){}),window.zmpSentry&&window.zmpSentry.captureMessage("Result from native",{extra:{data:t}})}catch{}}function Pk(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}var er=function(){function t(n,r,i,s){W1(this,t),this.code=n,this.message=r,this.api=i,this.detail=s}var e=t.prototype;return e.toString=function(){return"api: ".concat(String(this.api),"; code: ").concat(this.code,"; message: ").concat(JSON.stringify(this.message))},e.toJSON=function(){return{code:this.code,message:this.message,api:this.api,detail:this.detail}},t}(),xE=function(t,e){return Pk(t,er)?function(n,r){return n.api=r,n.toJSON()}(t,e):function(n,r){return Pk(n,Error)?new er(Bt.UNKNOWN_ERROR,n.message,r).toJSON():gn.isEmpty(n?.message)||gn.isEmpty(n?.code)?new er(Bt.UNKNOWN_ERROR,sn.UNKNOWN_ERROR,r,n).toJSON():new er(n.code,n.message,r,n.detail).toJSON()}(t,e)},Ck,TY=(Ck=Lt(function(t){var e;return Mt(this,function(n){switch(n.label){case 0:return e={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer ".concat(t)}},[4,fetch(vp.GET_AUTH_SETTING,G1({method:"GET"},e))];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}})}),function(t){return Ck.apply(this,arguments)}),H2=Lt(function(){return Mt(this,function(t){return[2,new Promise((e=Lt(function(n,r){var i,s,o,l;return Mt(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,js.jumpAndGetToken()];case 1:return u.sent(),(s=(i=js.miniProgramConfig)===null||i===void 0?void 0:i.jwt)||r(new er(Bt.UNAUTHORIZED,sn.LOGIN_REQUIRED,"getSetting")),[4,TY(s)];case 2:return(o=u.sent())&&o.err===0?n({authSetting:o.data}):r(new er(o.err,o.msg,"getSetting")),[3,4];case 3:return l=u.sent(),r(l),[3,4];case 4:return[2]}})}),function(n,r){return e.apply(this,arguments)}))];var e})}),NE,kk,po,Ic,xk,fa,K2=(po=Tu(),Ic={},xk=yp.getInstance(),fa=[],vY(function(t){var e=t.serialId,n=bY(t.result),r=_I(n?.action),i=gn.isEmpty(n?.error_code)?0:n?.error_code,s=n?.error_message,o=n?.data||n;if(r&&i===0){var l=JSON.parse(n?.data);i=gn.isEmpty(l?.error_code)?0:l?.error_code,s=l?.error_message,o=l?.data||l}var u={error_code:i,error_message:s,data:o,action:n?.action||t.actionName};if(e&&Ic[e]){var d=Ic[e],p=d.callback,m=d.timeout,_=d.isMultiCallback,y=d.options;(function(F,B){var z=B||{},x=z.success,I=z.fail;F.error_code===0?gn.isFunction(x)&&x(F):gn.isFunction(I)&&I(F)})(u,p),!_&&delete Ic[e],m&&clearTimeout(m);var S={action:u?.action,error:u?.error_code,message:u?.error_message,data:{}};try{if(u.action==="action.open.inapp"||u.action==="action.open.outapp"){var R=new URL(y?.url),D="".concat(R.protocol,"//").concat(R.host).concat(R.pathname);S.data={url:D}}if(u.action==="action.follow.oa"||u.action==="action.unfollow.oa"){var T=y?.uid;S.data={uid:T}}if(u.action==="action.open.chat"){var A=y?.uId,b=y?.type;S.data={uid:A,openChatType:b}}}catch{}fa.push(S)}}),xk.on(Id.AppPaused,function(){if(fa.length>0){var t=fa;fa=[],Ea(t)}}),NE?clearInterval(NE):NE=setInterval(function(){if(fa.length>0){var t=fa;fa=[],Ea(t)}},5e3),kk=Lt(function(t,e,n,r){var i,s,o,l,u,d,p,m,_,y,S,R,D,T,A,b,F,B,z,x,I,O,M,L,U;return Mt(this,function(N){switch(N.label){case 0:return s=Math.floor(1e6*Math.random()),o="".concat(t,"_").concat(s),l="action.".concat(t.replace(/\_/g,".").toLowerCase()),r?.actionName&&r.actionName.length>0&&(l=r?.actionName),u=r?.isMultiCallback||!1,d=r?.timeout!==!1&&(r?.timeout||!0),p=r?.haveCallback||!1,m=r?.skipJump||!1,_=r?.requireAccessToken||!1,y=kY(l),e&&n&&(Ic[o]={options:e,callback:n,isMultiCallback:u},d&&p&&(Ic[o].timeout=setTimeout(function(){var We={serialId:o,result:{error_code:Bt.TIME_OUT,error_message:sn.TIME_OUT,data:{timeout:d},action:t}};return yh(We),null},d===!0?8e3:1e3*d))),y?[4,H2()]:[3,2];case 1:if(((R=N.sent())==null||(S=R.authSetting)===null||S===void 0?void 0:S["scope.userInfo"])===!1)return T={serialId:o,result:{error_code:Bt.UNAUTHORIZED,error_message:sn.NEED_USER_AUTH,data:{isMobile:po==null||(D=po.platform)===null||D===void 0?void 0:D.isMobile},action:t}},yh(T),[2];N.label=2;case 2:return A=_I(l),!(!(po==null||(i=po.platform)===null||i===void 0)&&i.isMobile)||!t||gn.isUndefined(ZaloJavaScriptInterface)||po.platform.isIOS&&!AY(t)||A&&A.isSupported===!1?(F={serialId:o,result:{error_code:Bt.CLIENT_NOT_SUPPORT,error_message:sn.CLIENT_NOT_SUPPORT,data:{isMobile:po==null||(b=po.platform)===null||b===void 0?void 0:b.isMobile},action:t}},yh(F),[2]):(B=gI(e),m?[3,4]:[4,js.getJSAccessToken()]);case 3:return x=N.sent(),[3,5];case 4:x="",N.label=5;case 5:z=x,N.label=6;case 6:return N.trys.push([6,10,,11]),m||!_?[3,8]:[4,js.getAccessToken()];case 7:return O=N.sent(),[3,9];case 8:O="",N.label=9;case 9:return I=O,[3,11];case 10:return M=N.sent(),L={serialId:o,result:{error_code:M?.code,error_message:M?.message,action:t}},yh(L),[2];case 11:return U=po.platform.isIOS?window.onNativeMessage(o,l):'window.onNativeMessage("'.concat(o,'", "').concat(l,'")'),[2,ZaloJavaScriptInterface.jsCall(z,l,I,B,U)]}})}),function(t,e,n,r){return kk.apply(this,arguments)}),rd={success:function(t,e){return{code:Bt.SUCCESS,message:e||sn.SUCCESS,data:t||{}}},error:{badRequest:function(t){return new er(Bt.BAD_REQUEST,t)},loginFailed:function(t){return new er(Bt.UNAUTHORIZED,"".concat(sn.LOGIN_FAILED,": ").concat(t))},loginRequired:function(){return new er(Bt.UNAUTHORIZED,sn.LOGIN_REQUIRED)},cannotGetShareInfo:function(){return new er(Bt.INTERNAL_SERVER_ERROR,"Can not get app info to share")},createIAPOrderFailed:function(t){var e=Object.keys(tY).find(function(n){return n===t.toString()});return new er(t,e||sn.UNKNOWN_ERROR)},clientNotSupport:function(){return new er(Bt.CLIENT_NOT_SUPPORT,sn.CLIENT_NOT_SUPPORT)}}},Nk,q1=(Nk=function(t){var e,n,r,i=(e=Tu())===null||e===void 0?void 0:e.platformName,s=t.action.replace("action.","").replace(/\./g,"_").toUpperCase(),o=cI[s],l=o?.skipJump||!1,u=o?.errorList||{};if(s==="JUMP_LOGIN")return new er(Bt.UNKNOWN_ERROR,"Can not get auth code: ".concat(t.error_message));if(js.jumpStatus!==bs.DONE&&!l)return new er(Qt.UNAUTHORIZED.code,Qt.UNAUTHORIZED.message);if(String(t.error_message).toLowerCase()==="permission required!"||String(t.error_message).toLowerCase()==="no permission!")return new er(Qt.FORBIDDEN.code,Qt.FORBIDDEN.message);if(i&&(!((n=kE[i])===null||n===void 0)&&n[t.error_code]))return new er(kE[i][t.error_code].code,kE[i][t.error_code].message);var d=u==null||(r=u[i])===null||r===void 0?void 0:r[String(t.error_code)];if(d){var p,m,_,y=(p=d.mapTo)===null||p===void 0?void 0:p.message;return d?.needMoreDetail&&(y="".concat(d==null||(_=d.mapTo)===null||_===void 0?void 0:_.message,": ").concat(t.error_message)),new er((m=d.mapTo)===null||m===void 0?void 0:m.code,y)}return new er(t.error_code,t.error_message)},function(t,e,n,r){var i=function(l,u){function d(p){return function(m){var _=gn.isEmpty(u)?void 0:u[p];if(_)return Eu({stage:_p.RESPONSE,type:"log",state:p,name:l,response:m}),_(p==="fail"?Nk(m):m?.data)}}return gn.isUndefined(l)&&(l=""),Object.assign({},{success:d("success"),fail:d("fail")})}(t,n),s=cI[t],o=r?.delay||0;setTimeout(function(){K2(t,e,i,G1({},r,s))},o)}),Ok,IY=(Ok=Lt(function(t){return Mt(this,function(e){return[2,new Promise(function(n,r){q1("MP_USER_AUTHORIZE",{scopes:t,forceUpdate:!0},{success:function(i){gn.isEmpty(i)||n(i)},fail:function(i){r(i)}},{isMultiCallback:!1,timeout:!1})})]})}),function(t){return Ok.apply(this,arguments)}),SY=function(){function t(){W1(this,t),this._jumpStatus=void 0,this.WAITING_QUEUE=[],this.getAccessTokenCount=0,this._accessToken="",this._jsAccessToken="",this.refreshToken="",this._cookies=[],this.accessTokenExpiresIn=0,this.prevGetAccessTokenTimestamp=new Date().getTime(),this.manualSetAccessToken=!1,this._miniProgramConfig={}}var e=t.prototype;return e.jump=function(){var n=this;return Lt(function(){return Mt(this,function(r){return[2,new Promise(function(i,s){n._jumpStatus?n._jumpStatus===bs.DONE?i(bs.DONE):i(bs.DOING):(n._jumpStatus=bs.DOING,Eu({stage:_p.REQUEST,type:"log",name:"jump"}),K2("JUMP_LOGIN",{},{success:function(o){var l=o.data;n._miniProgramConfig=l?.miniProgramConfig||{};var u=l?.cookiesOAuthLogins||[],d=u.find(function(m){return m.name===sh.JS_TOKEN});d&&(n._jsAccessToken=d.value,window.ZJSBridge.setJSToken&&window.ZJSBridge.setJSToken(d.value)),n._cookies=u;var p=n._cookies.find(function(m){return m.name===sh.ZOAUTH});p?.value||Ea([{action:"action.jump.login",error:-102,message:"no zoauth",data:{}}]),i(bs.DONE)},fail:function(o){Ea([{action:"action.jump.login",error:-101,message:o.message||"jump error",data:{}}]),s(o)}},{skipJump:!0}))})]})})()},e.loginZaloV3=function(n,r,i){var s=this;return Lt(function(){var o;return Mt(this,function(l){switch(l.label){case 0:return o="".concat(vp.GET_ACCESS_TOKEN_V3,"?app_id=").concat(r,"&redirect_uri=").concat(JQ,"/").concat(n,"/&code=").concat(i,"&isSDK=true"),[4,fetch(o).then((u=Lt(function(d){var p,m,_;return Mt(this,function(y){switch(y.label){case 0:return[4,d.json()];case 1:return p=y.sent(),m=p?.access_token,s._accessToken=m,_=1e3*parseInt(p.expires_in),s.accessTokenExpiresIn=_,s.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(s._accessToken||""),[2,m]}})}),function(d){return u.apply(this,arguments)}))];case 1:return[2,l.sent()]}var u})})()},e.loginZaloV4=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",s=this;return Lt(function(){var o,l;return Mt(this,function(u){switch(u.label){case 0:return(o=new URLSearchParams).append("app_id",n),o.append("code",r),o.append("code_verifier",i),gn.isNull(s.refreshToken)||s.refreshToken.length===0?o.append("grant_type","authorization_code"):(o.append("grant_type","refresh_token"),o.append("refresh_token",s.refreshToken||"")),l={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(vp.GET_ACCESS_TOKEN,G1({method:"POST",body:o},l)).then((d=Lt(function(p){var m,_,y,S;return Mt(this,function(R){switch(R.label){case 0:return[4,p.json()];case 1:return m=R.sent(),_=m?.access_token||"",y=m?.refresh_token||"",s.refreshToken=y,s._accessToken=_,S=1e3*parseInt(m?.expires_in),s.accessTokenExpiresIn=S,s.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(_),[2,_]}})}),function(p){return d.apply(this,arguments)}))];case 1:return[2,u.sent()]}var d})})()},e.getAccessToken=function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this;return Lt(function(){var i,s,o,l,u,d,p,m,_;function y(){return S.apply(this,arguments)}function S(){return(S=Lt(function(){return Mt(this,function(R){switch(R.label){case 0:return[4,new Promise(function(D){var T=setInterval(function(){(o.getAccessTokenCount<=1||o._accessToken)&&(D("done"),clearInterval(T))},200)})];case 1:return[2,R.sent()]}})})).apply(this,arguments)}return Mt(this,function(R){switch(R.label){case 0:return s=new Date().getTime()-r.prevGetAccessTokenTimestamp,(o=r).getAccessTokenCount++,r.getAccessTokenCount>1?[4,y()]:[3,2];case 1:R.sent(),R.label=2;case 2:return r.manualSetAccessToken||r._accessToken.length>0&&s<r.accessTokenExpiresIn&&(!((i=r._miniProgramConfig)===null||i===void 0)&&i.userAuthorized)?(o.getAccessTokenCount--,[2,Promise.resolve(r._accessToken)]):(r.accessToken="",[4,r.jumpAndGetToken(sh.ZOAUTH)]);case 3:return l=R.sent(),[4,r.jumpAndGetToken(sh.ZOAUTH_VRF)];case 4:return u=R.sent(),d="zmp.getaccesstoken.fail",n?[4,r.verifyUserAuthorized()]:[3,6];case 5:return p=R.sent(),[3,7];case 6:p=!0,R.label=7;case 7:if(!p)throw o.getAccessTokenCount--,Ea([{action:d,error:-104,message:"no user auth",data:{}}]),rd.error.loginFailed("User Authentication Required");if(!l)return[3,15];R.label=8;case 8:return R.trys.push([8,13,,14]),u?[4,r.loginZaloV4(Ov,l,u)]:[3,10];case 9:return m=R.sent(),[3,12];case 10:return[4,r.loginZaloV3(Ov,ZQ,l)];case 11:m=R.sent(),R.label=12;case 12:return[3,14];case 13:return _=R.sent(),m="",console.log("Can not get access token",_),Ea([{action:d,error:-103,message:String(_)||"Can not get access token",data:{}}]),[3,14];case 14:return o.getAccessTokenCount--,m?[2,Promise.resolve(r._accessToken)]:(Ea([{action:d,error:-101,message:"no accessToken",data:{}}]),[2,Promise.reject(rd.error.loginFailed("Can't get accessToken. Please try again later."))]);case 15:throw o.getAccessTokenCount--,Ea([{action:d,error:-102,message:"no oauth",data:{}}]),rd.error.loginFailed("Zalo app has not been activated")}})})()},e.verifyUserAuthorized=function(){var n=this;return Lt(function(){var r,i,s,o,l,u;return Mt(this,function(d){switch(d.label){case 0:if(i=!0,((r=n._miniProgramConfig)===null||r===void 0?void 0:r.userAuthorized)!==!1)return[3,6];d.label=1;case 1:return d.trys.push([1,5,,6]),(s=_I("action.mp.user.authorize"))&&s.isSupported?[4,H2()]:[3,4];case 2:return((l=d.sent())==null||(o=l.authSetting)===null||o===void 0?void 0:o["scope.userInfo"])!==!1?[3,4]:[4,IY()];case 3:u=d.sent(),i=u?.["scope.userInfo"]||!1,d.label=4;case 4:return[3,6];case 5:return d.sent(),i=!1,[3,6];case 6:return[2,i]}})})()},e.setAccessToken=function(n){this.manualSetAccessToken=!0,this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)},e.getJSAccessToken=function(){var n=this;return Lt(function(){var r;return Mt(this,function(i){switch(i.label){case 0:return n._jsAccessToken.length>0?[2,Promise.resolve(n._jsAccessToken)]:[4,n.jumpAndGetToken(sh.JS_TOKEN)];case 1:return r=i.sent(),[2,Promise.resolve(r)]}})})()},e.getSync=function(n){var r;return(r=this._cookies.find(function(i){return i.name===n}))===null||r===void 0?void 0:r.value},e.jumpAndGetToken=function(n){var r,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this;return new Promise((r=Lt(function(o){var l,u,d,p;return Mt(this,function(m){switch(m.label){case 0:return!i&&s._cookies.length>0?gn.isString(n)?(l=s._cookies.find(function(_){return _.name===n}),[2,o(l?.value)]):[2,o("")]:(i&&s._jumpStatus===bs.DONE&&(s._jumpStatus=void 0),u={name:n,cb:function(_){return o(_)}},[4,s.jump()]);case 1:return(d=m.sent())===bs.DONE?(s._jumpStatus=d,s.WAITING_QUEUE.length&&(s.WAITING_QUEUE.forEach(function(_){var y=s._cookies.find(function(S){return S.name===_.name});_.cb(y?.value)}),s.WAITING_QUEUE=[]),p=s._cookies.find(function(_){return _.name===u.name}),u.cb(p?.value)):s.WAITING_QUEUE.push(u),[2]}})}),function(o){return r.apply(this,arguments)}))},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},oY(t,[{key:"jumpStatus",get:function(){return this._jumpStatus}},{key:"accessToken",set:function(n){this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)}},{key:"miniProgramConfig",get:function(){return this._miniProgramConfig}}]),t}(),js=SY.getInstance(),OE=j1("zmp:utils:common"),gI=function(t){if(gn.isObject(JSON)&&JSON.stringify)return JSON.stringify(t);if(t===void 0)return"undefined";if(t===null)return"null";try{if(typeof t=="string"||t.constructor.toString().match(/string/i)!==null)return'"'+t.replace(/"/g,'\\"')+'"'}catch(s){console.log(s)}var e;if(Object.prototype.toString.call(t).match(/array/i)!==null){e=[];for(var n=t.length,r=0;r<n;r++)e.push(gI(t[r]));return"["+e.join(",")+"]"}if(typeof t=="object"){for(var i in e=[],t)e.push('"'+i+'":'+gI(t[i]));return"{"+e.join(",")+"}"}return t.toString()},AY=function(t){var e,n,r=cI[t],i=((e=Tu())===null||e===void 0?void 0:e.zaloVersion)||0,s="versionLive"in r&&(r==null||(n=r.versionLive)===null||n===void 0?void 0:n.iOS)||0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(t))||Number(i)>=s},RY=function(t){try{if(t){OE(t);var e=t.replace(/\\/g,"").replace(/&#39;/g,"'");try{e=decodeURIComponent(atob(t))}catch{}return OE("formattedValue",e,JSON.parse(e),Nv(JSON.parse(e))),JSON.parse(e)}return null}catch(n){return OE("parse json error:",n),t}},bY=function(t){if(gn.isObject(JSON)&&JSON.parse&&gn.isString(t)){var e=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(e,function(n,r){return r})}return gn.isObject(t)?t:new Function("return "+t)()},PY=function(t){for(var e=document.getElementsByTagName("meta"),n=0;n<e.length;n++)if(e[n].getAttribute("name")===t||e[n].getAttribute("property")===t)return e[n].getAttribute("content");return""};function CY(t){return t.map(function(e,n){var r=e.path.length>0?e.path.map(function(i,s){return s>0?"[".concat(i,"]"):i}).join(""):"arg";return"Error ".concat(n+1,": Code: ").concat(e.code," ~ Path: ").concat(r," ~ Message: ").concat(e.message)}).join(" | ")}var Dk,_I=function(t){if(t!==void 0){var e=js.miniProgramConfig;return(e?.dynamicApis||[]).find(function(n){return n.action===t&&n.clientHandle===!1})}},kY=function(t){if(t===void 0)return!1;var e=js.miniProgramConfig;return(e?.requiredAuthenList||[]).indexOf(t)>=0},xY=(Dk=Lt(function(){return Mt(this,function(t){return[2,new Promise(function(){var e=Lt(function(n,r){var i;return Mt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,js.jumpAndGetToken()];case 1:return s.sent(),i=js.miniProgramConfig,n(i?.canUseAccessTokenByDefault===!0),[3,3];case 2:return s.sent(),n(!1),[3,3];case 3:return[2]}})});return function(n,r){return e.apply(this,arguments)}}())]})}),function(){return Dk.apply(this,arguments)});function Xy(t,e,n,r){var i,s,o=Array.isArray(n)&&n.length>0&&((i=n[0])===null||i===void 0?void 0:i.success),l=Array.isArray(n)&&n.length>0&&((s=n[0])===null||s===void 0?void 0:s.fail);try{var u=n;e.length>0&&e.forEach(function(p,m){var _=p.safeParse(n[m]);if(!_.success){var y,S=(y=_.error)===null||y===void 0?void 0:y.issues,R=CY(S),D=rd.error.badRequest(R);throw D.detail=S,xE(D,t)}u.push(_.data)});var d=r.apply(void 0,z1(u));return gn.isPromise(d)?new Promise(function(p,m){d.then(function(_){if(!gn.isNull(o)&&gn.isFunction(o))return o(_);p(d)}).catch(function(_){var y=xE(_,t);if(!gn.isNull(l)&&gn.isFunction(l))return l(y);m(y)})}):d}catch(p){if(!gn.isNull(l)&&gn.isFunction(l))return l(p);throw xE(p,t)}}var DE,Sd=((DE=Tu())===null||DE===void 0?void 0:DE.appEnv)||{},H1=function(t,e){var n,r={error:-1404,errorMessage:"".concat(t," is not found")};e==null||(n=e.fail)===null||n===void 0||n.call(e,r),Eu({stage:_p.NOT_FOUND,type:"error",name:t,request:e,state:"fail",response:r})};function NY(){var t,e;return{version:PY("version-id")||"",apiVersion:qQ,zaloVersion:((t=Tu())===null||t===void 0?void 0:t.zaloVersion)||"",platform:((e=Tu())===null||e===void 0?void 0:e.platformName)||"",language:navigator.language,zaloLanguage:window.zLanguage||"vi",zaloTheme:window.zTheme||"light"}}function OY(){return Xy("getSystemInfo",[],[],function(){return NY()})}var At;(function(t){t.assertEqual=e=>e,t.assertIs=function(e){},t.assertNever=function(e){throw new Error},t.arrayToEnum=e=>{const n={};for(const r of e)n[r]=r;return n},t.getValidEnumValues=e=>{const n=t.objectKeys(e).filter(i=>typeof e[e[i]]!="number"),r={};for(const i of n)r[i]=e[i];return t.objectValues(r)},t.objectValues=e=>t.objectKeys(e).map(function(n){return e[n]}),t.objectKeys=typeof Object.keys=="function"?e=>Object.keys(e):e=>{const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);return n},t.find=(e,n)=>{for(const r of e)if(n(r))return r},t.isInteger=typeof Number.isInteger=="function"?e=>Number.isInteger(e):e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e,t.joinValues=function(e,n=" | "){return e.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},t.jsonStringifyReplacer=(e,n)=>typeof n=="bigint"?n.toString():n})(At||(At={}));const Te=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sa=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},he=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),DY=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");let Ao=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Ao.create=t=>new Ao(t);const wp=(t,e)=>{let n;switch(t.code){case he.invalid_type:n=t.received===Te.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,At.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(t.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(t.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(t.options)}, received '${t.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:At.assertNever(t.validation):n=t.validation!=="regex"?`Invalid ${t.validation}`:"Invalid";break;case he.too_small:n=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(t.minimum)}`:"Invalid input";break;case he.too_big:n=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(t.maximum)}`:"Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=e.defaultError,At.assertNever(t)}return{message:n}};let Q2=wp;function LY(t){Q2=t}function Lv(){return Q2}const Mv=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:i.message||l}},MY=[];function xe(t,e){const n=Mv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lv(),wp].filter(r=>!!r)});t.common.issues.push(n)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Ur.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Qe;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(o.value!==void 0||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Qe=Object.freeze({status:"aborted"}),Y2=t=>({status:"dirty",value:t}),Rr=t=>({status:"valid",value:t}),vI=t=>t.status==="aborted",yI=t=>t.status==="dirty",Vv=t=>t.status==="valid",Fv=t=>typeof Promise<"u"&&t instanceof Promise;var dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(dt||(dt={}));let Ws=class{constructor(e,n,r,i){this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._path.concat(this._key)}};const Lk=(t,e)=>{if(Vv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Ao(t.common.issues)}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:o.data===void 0?{message:r??o.defaultError}:{message:n??o.defaultError},description:i}}class it{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ur,ctx:{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0&&r,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Lk(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Fv(i)?i:Promise.resolve(i));return Lk(r,s)}refine(e,n){const r=i=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:he.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>!!u||(l(),!1)):!!o||(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>!!e(r)||(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ds({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return bo.create(this,this._def)}nullable(){return Au.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Su.create(this,this._def)}promise(){return bd.create(this,this._def)}or(e){return Ap.create([this,e],this._def)}and(e){return Rp.create(this,e,this._def)}transform(e){return new ds({...et(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new kp({...et(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new iM({typeName:je.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Wv({...et(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return K1.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VY=/^c[^\s-]{8,}$/i,FY=/^[a-z][a-z0-9]*$/,UY=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,$Y=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/;let Ad=class wI extends it{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:he.invalid_string,...dt.errToObj(r)}),this.nonempty=e=>this.min(1,dt.errToObj(e)),this.trim=()=>new wI({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const s=this._getOrReturnCtx(e);return xe(s,{code:he.invalid_type,expected:Te.string,received:s.parsedType}),Qe}const n=new Ur;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),xe(r,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),xe(r,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?xe(r,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&xe(r,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")$Y.test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{validation:"email",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")UY.test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{validation:"uuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")VY.test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{validation:"cuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")FY.test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{validation:"cuid2",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),xe(r,{validation:"url",code:he.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{validation:"regex",code:he.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),xe(r,{code:he.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),xe(r,{code:he.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?((i=s).precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):i.precision===0?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:he.invalid_string,validation:"datetime",message:s.message}),n.dirty()):At.assertNever(s);var i;return{status:n.value,value:e.data}}_addCheck(e){return new wI({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dt.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:e?.precision===void 0?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0&&n,...dt.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...dt.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...dt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...dt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...dt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...dt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...dt.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};function BY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(t.toFixed(i).replace(".",""))%parseInt(e.toFixed(i).replace(".",""))/Math.pow(10,i)}Ad.create=t=>{var e;return new Ad({checks:[],typeName:je.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0&&e,...et(t)})};class qa extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const i=this._getOrReturnCtx(e);return xe(i,{code:he.invalid_type,expected:Te.number,received:i.parsedType}),Qe}let n;const r=new Ur;for(const i of this._def.checks)i.kind==="int"?At.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xe(n,{code:he.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),xe(n,{code:he.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),xe(n,{code:he.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?BY(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),xe(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xe(n,{code:he.not_finite,message:i.message}),r.dirty()):At.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,dt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,dt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,dt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,dt.toString(n))}setLimit(e,n,r,i){return new qa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:dt.toString(i)}]})}_addCheck(e){return new qa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:dt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&At.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}qa.create=t=>new qa({checks:[],typeName:je.ZodNumber,coerce:t?.coerce||!1,...et(t)});class Ep extends it{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Te.bigint){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.bigint,received:n.parsedType}),Qe}return Rr(e.data)}}Ep.create=t=>{var e;return new Ep({typeName:je.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0&&e,...et(t)})};class Tp extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.boolean,received:n.parsedType}),Qe}return Rr(e.data)}}Tp.create=t=>new Tp({typeName:je.ZodBoolean,coerce:t?.coerce||!1,...et(t)});class Iu extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const i=this._getOrReturnCtx(e);return xe(i,{code:he.invalid_type,expected:Te.date,received:i.parsedType}),Qe}if(isNaN(e.data.getTime()))return xe(this._getOrReturnCtx(e),{code:he.invalid_date}),Qe;const n=new Ur;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),xe(r,{code:he.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),xe(r,{code:he.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):At.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Iu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:dt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:dt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Iu.create=t=>new Iu({checks:[],coerce:t?.coerce||!1,typeName:je.ZodDate,...et(t)});let Uv=class extends it{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.symbol,received:n.parsedType}),Qe}return Rr(e.data)}};Uv.create=t=>new Uv({typeName:je.ZodSymbol,...et(t)});let Ip=class extends it{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.undefined,received:n.parsedType}),Qe}return Rr(e.data)}};Ip.create=t=>new Ip({typeName:je.ZodUndefined,...et(t)});let Sp=class extends it{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.null,received:n.parsedType}),Qe}return Rr(e.data)}};Sp.create=t=>new Sp({typeName:je.ZodNull,...et(t)});let Rd=class extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return Rr(e.data)}};Rd.create=t=>new Rd({typeName:je.ZodAny,...et(t)});let lu=class extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rr(e.data)}};lu.create=t=>new lu({typeName:je.ZodUnknown,...et(t)});class Ro extends it{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.never,received:n.parsedType}),Qe}}Ro.create=t=>new Ro({typeName:je.ZodNever,...et(t)});let $v=class extends it{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.void,received:n.parsedType}),Qe}return Rr(e.data)}};$v.create=t=>new $v({typeName:je.ZodVoid,...et(t)});let Su=class U_ extends it{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Te.array)return xe(n,{code:he.invalid_type,expected:Te.array,received:n.parsedType}),Qe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(xe(n,{code:o?he.too_big:he.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Ws(n,o,n.path,l)))).then(o=>Ur.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Ws(n,o,n.path,l)));return Ur.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new U_({...this._def,minLength:{value:e,message:dt.toString(n)}})}max(e,n){return new U_({...this._def,maxLength:{value:e,message:dt.toString(n)}})}length(e,n){return new U_({...this._def,exactLength:{value:e,message:dt.toString(n)}})}nonempty(e){return this.min(1,e)}};var Bv;function Cc(t){if(t instanceof zi){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bo.create(Cc(r))}return new zi({...t._def,shape:()=>e})}return t instanceof Su?Su.create(Cc(t.element)):t instanceof bo?bo.create(Cc(t.unwrap())):t instanceof Au?Au.create(Cc(t.unwrap())):t instanceof Ha?Ha.create(t.items.map(e=>Cc(e))):t}Su.create=(t,e)=>new Su({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...et(e)}),function(t){t.mergeShapes=(e,n)=>({...e,...n})}(Bv||(Bv={}));let zi=class as extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=At.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Te.object){const u=this._getOrReturnCtx(e);return xe(u,{code:he.invalid_type,expected:Te.object,received:u.parsedType}),Qe}const{status:n,ctx:r}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ro&&this._def.unknownKeys==="strip"))for(const u in r.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const d=i[u],p=r.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ws(r,p,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Ro){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")o.length>0&&(xe(r,{code:he.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const p=r.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ws(r,p,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const p=await d.key;u.push({key:p,value:await d.value,alwaysSet:d.alwaysSet})}return u}).then(u=>Ur.mergeObjectSync(n,u)):Ur.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return new as({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=dt.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new as({...this._def,unknownKeys:"strip"})}passthrough(){return new as({...this._def,unknownKeys:"passthrough"})}extend(e){return new as({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new as({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Bv.mergeShapes(this._def.shape(),e._def.shape()),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new as({...this._def,catchall:e})}pick(e){const n={};return At.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new as({...this._def,shape:()=>n})}omit(e){const n={};return At.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new as({...this._def,shape:()=>n})}deepPartial(){return Cc(this)}partial(e){const n={};return At.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new as({...this._def,shape:()=>n})}required(e){const n={};return At.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof bo;)i=i._def.innerType;n[r]=i}}),new as({...this._def,shape:()=>n})}keyof(){return rM(At.objectKeys(this.shape))}};zi.create=(t,e)=>new zi({shape:()=>t,unknownKeys:"strip",catchall:Ro.create(),typeName:je.ZodObject,...et(e)}),zi.strictCreate=(t,e)=>new zi({shape:()=>t,unknownKeys:"strict",catchall:Ro.create(),typeName:je.ZodObject,...et(e)}),zi.lazycreate=(t,e)=>new zi({shape:t,unknownKeys:"strip",catchall:Ro.create(),typeName:je.ZodObject,...et(e)});let Ap=class extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(function(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new Ao(o.ctx.common.issues));return xe(n,{code:he.invalid_union,unionErrors:s}),Qe});{let i;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status!=="dirty"||i||(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(l=>new Ao(l));return xe(n,{code:he.invalid_union,unionErrors:o}),Qe}}get options(){return this._def.options}};Ap.create=(t,e)=>new Ap({options:t,typeName:je.ZodUnion,...et(e)});const $_=t=>t instanceof bp?$_(t.schema):t instanceof ds?$_(t.innerType()):t instanceof Pp?[t.value]:t instanceof pm?t.options:t instanceof Cp?Object.keys(t.enum):t instanceof kp?$_(t._def.innerType):t instanceof Ip?[void 0]:t instanceof Sp?[null]:null;let Z2=class J2 extends it{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return xe(n,{code:he.invalid_type,expected:Te.object,received:n.parsedType}),Qe;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=$_(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new J2({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...et(r)})}};function EI(t,e){const n=Sa(t),r=Sa(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&r===Te.object){const i=At.objectKeys(e),s=At.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=EI(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}if(n===Te.array&&r===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=EI(t[s],e[s]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}return n===Te.date&&r===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let Rp=class extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(vI(s)||vI(o))return Qe;const l=EI(s.value,o.value);return l.valid?((yI(s)||yI(o))&&n.dirty(),{status:n.value,value:l.data}):(xe(r,{code:he.invalid_intersection_types}),Qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Rp.create=(t,e,n)=>new Rp({left:t,right:e,typeName:je.ZodIntersection,...et(n)});let Ha=class X2 extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return xe(r,{code:he.invalid_type,expected:Te.array,received:r.parsedType}),Qe;if(r.data.length<this._def.items.length)return xe(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ws(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Ur.mergeArray(n,s)):Ur.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new X2({...this._def,rest:e})}};Ha.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ha({items:t,typeName:je.ZodTuple,rest:null,...et(e)})};let eM=class tM extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return xe(r,{code:he.invalid_type,expected:Te.object,received:r.parsedType}),Qe;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Ws(r,l,r.path,l)),value:o._parse(new Ws(r,r.data[l],r.path,l))});return r.common.async?Ur.mergeObjectAsync(n,i):Ur.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return new tM(n instanceof it?{keyType:e,valueType:n,typeName:je.ZodRecord,...et(r)}:{keyType:Ad.create(),valueType:e,typeName:je.ZodRecord,...et(n)})}},zv=class extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return xe(r,{code:he.invalid_type,expected:Te.map,received:r.parsedType}),Qe;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new Ws(r,l,r.path,[d,"key"])),value:s._parse(new Ws(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,p=await u.value;if(d.status==="aborted"||p.status==="aborted")return Qe;d.status!=="dirty"&&p.status!=="dirty"||n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}})}{const l=new Map;for(const u of o){const d=u.key,p=u.value;if(d.status==="aborted"||p.status==="aborted")return Qe;d.status!=="dirty"&&p.status!=="dirty"||n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}}}};zv.create=(t,e,n)=>new zv({valueType:e,keyType:t,typeName:je.ZodMap,...et(n)});let jv=class TI extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return xe(r,{code:he.invalid_type,expected:Te.set,received:r.parsedType}),Qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const p of u){if(p.status==="aborted")return Qe;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new Ws(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new TI({...this._def,minSize:{value:e,message:dt.toString(n)}})}max(e,n){return new TI({...this._def,maxSize:{value:e,message:dt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}};jv.create=(t,e)=>new jv({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...et(e)});let nM=class B_ extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.function)return xe(n,{code:he.invalid_type,expected:Te.function,received:n.parsedType}),Qe;function r(l,u){return Mv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lv(),wp].filter(d=>!!d),issueData:{code:he.invalid_arguments,argumentsError:u}})}function i(l,u){return Mv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lv(),wp].filter(d=>!!d),issueData:{code:he.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof bd?Rr(async(...l)=>{const u=new Ao([]),d=await this._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),p=await o(...d);return await this._def.returns._def.type.parseAsync(p,s).catch(m=>{throw u.addIssue(i(p,m)),u})}):Rr((...l)=>{const u=this._def.args.safeParse(l,s);if(!u.success)throw new Ao([r(l,u.error)]);const d=o(...u.data),p=this._def.returns.safeParse(d,s);if(!p.success)throw new Ao([i(d,p.error)]);return p.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new B_({...this._def,args:Ha.create(e).rest(lu.create())})}returns(e){return new B_({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new B_({args:e||Ha.create([]).rest(lu.create()),returns:n||lu.create(),typeName:je.ZodFunction,...et(r)})}},bp=class extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};bp.create=(t,e)=>new bp({getter:t,typeName:je.ZodLazy,...et(e)});let Pp=class extends it{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:e.data}}get value(){return this._def.value}};function rM(t,e){return new pm({values:t,typeName:je.ZodEnum,...et(e)})}Pp.create=(t,e)=>new Pp({value:t,typeName:je.ZodLiteral,...et(e)});let pm=class II extends it{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:At.joinValues(r),received:n.parsedType,code:he.invalid_type}),Qe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:he.invalid_enum_value,options:r}),Qe}return Rr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return II.create(e)}exclude(e){return II.create(this.options.filter(n=>!e.includes(n)))}};pm.create=rM;let Cp=class extends it{_parse(e){const n=At.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const i=At.objectValues(n);return xe(r,{expected:At.joinValues(i),received:r.parsedType,code:he.invalid_type}),Qe}if(n.indexOf(e.data)===-1){const i=At.objectValues(n);return xe(r,{received:r.data,code:he.invalid_enum_value,options:i}),Qe}return Rr(e.data)}get enum(){return this._def.values}};Cp.create=(t,e)=>new Cp({values:t,typeName:je.ZodNativeEnum,...et(e)});let bd=class extends it{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return xe(n,{code:he.invalid_type,expected:Te.promise,received:n.parsedType}),Qe;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return Rr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}};bd.create=(t,e)=>new bd({type:t,typeName:je.ZodPromise,...et(e)});let ds=class extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(r.data);return r.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const s={addIssue:o=>{xe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform"){if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vv(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Vv(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o)}At.assertNever(i)}};ds.create=(t,e,n)=>new ds({schema:t,typeName:je.ZodEffects,effect:e,...et(n)}),ds.createWithPreprocess=(t,e,n)=>new ds({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...et(n)});let bo=class extends it{_parse(e){return this._getType(e)===Te.undefined?Rr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};bo.create=(t,e)=>new bo({innerType:t,typeName:je.ZodOptional,...et(e)});let Au=class extends it{_parse(e){return this._getType(e)===Te.null?Rr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Au.create=(t,e)=>new Au({innerType:t,typeName:je.ZodNullable,...et(e)});let kp=class extends it{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};kp.create=(t,e)=>new kp({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});let Wv=class extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n,common:{...n.common,issues:[]}}});return Fv(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}};Wv.create=(t,e)=>new Wv({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});let Gv=class extends it{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return xe(n,{code:he.invalid_type,expected:Te.nan,received:n.parsedType}),Qe}return{status:"valid",value:e.data}}};Gv.create=t=>new Gv({typeName:je.ZodNaN,...et(t)});const zY=Symbol("zod_brand");let iM=class extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},K1=class sM extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qe:i.status==="dirty"?(n.dirty(),Y2(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new sM({in:e,out:n,typeName:je.ZodPipeline})}};const oM=(t,e={},n)=>t?Rd.create().superRefine((r,i)=>{if(!t(r)){const s=typeof e=="function"?e(r):e,o=typeof s=="string"?{message:s}:s;i.addIssue({code:"custom",...o,fatal:n})}}):Rd.create(),jY={object:zi.lazycreate};var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(je||(je={}));const WY=(t,e={message:`Input not instance of ${t.name}`})=>oM(n=>n instanceof t,e,!0),aM=Ad.create,lM=qa.create,GY=Gv.create,qY=Ep.create,uM=Tp.create,HY=Iu.create,KY=Uv.create,QY=Ip.create,YY=Sp.create,ZY=Rd.create,JY=lu.create,XY=Ro.create,eZ=$v.create,tZ=Su.create,cM=zi.create,nZ=zi.strictCreate,rZ=Ap.create,iZ=Z2.create,sZ=Rp.create,oZ=Ha.create,aZ=eM.create,lZ=zv.create,uZ=jv.create,cZ=nM.create,dZ=bp.create,fZ=Pp.create,hZ=pm.create,pZ=Cp.create,mZ=bd.create,Mk=ds.create,gZ=bo.create,_Z=Au.create,vZ=ds.createWithPreprocess,yZ=K1.create,wZ=()=>aM().optional(),EZ=()=>lM().optional(),TZ=()=>uM().optional(),IZ={string:t=>Ad.create({...t,coerce:!0}),number:t=>qa.create({...t,coerce:!0}),boolean:t=>Tp.create({...t,coerce:!0}),bigint:t=>Ep.create({...t,coerce:!0}),date:t=>Iu.create({...t,coerce:!0})},SZ=Qe;var Vk=Object.freeze({__proto__:null,defaultErrorMap:wp,setErrorMap:LY,getErrorMap:Lv,makeIssue:Mv,EMPTY_PATH:MY,addIssueToContext:xe,ParseStatus:Ur,INVALID:Qe,DIRTY:Y2,OK:Rr,isAborted:vI,isDirty:yI,isValid:Vv,isAsync:Fv,get util(){return At},ZodParsedType:Te,getParsedType:Sa,ZodType:it,ZodString:Ad,ZodNumber:qa,ZodBigInt:Ep,ZodBoolean:Tp,ZodDate:Iu,ZodSymbol:Uv,ZodUndefined:Ip,ZodNull:Sp,ZodAny:Rd,ZodUnknown:lu,ZodNever:Ro,ZodVoid:$v,ZodArray:Su,get objectUtil(){return Bv},ZodObject:zi,ZodUnion:Ap,ZodDiscriminatedUnion:Z2,ZodIntersection:Rp,ZodTuple:Ha,ZodRecord:eM,ZodMap:zv,ZodSet:jv,ZodFunction:nM,ZodLazy:bp,ZodLiteral:Pp,ZodEnum:pm,ZodNativeEnum:Cp,ZodPromise:bd,ZodEffects:ds,ZodTransformer:ds,ZodOptional:bo,ZodNullable:Au,ZodDefault:kp,ZodCatch:Wv,ZodNaN:Gv,BRAND:zY,ZodBranded:iM,ZodPipeline:K1,custom:oM,Schema:it,ZodSchema:it,late:jY,get ZodFirstPartyTypeKind(){return je},coerce:IZ,any:ZY,array:tZ,bigint:qY,boolean:uM,date:HY,discriminatedUnion:iZ,effect:Mk,enum:hZ,function:cZ,instanceof:WY,intersection:sZ,lazy:dZ,literal:fZ,map:lZ,nan:GY,nativeEnum:pZ,never:XY,null:YY,nullable:_Z,number:lM,object:cM,oboolean:TZ,onumber:EZ,optional:gZ,ostring:wZ,pipeline:yZ,preprocess:vZ,promise:mZ,record:aZ,set:uZ,strictObject:nZ,string:aM,symbol:KY,transformer:Mk,tuple:oZ,undefined:QY,union:rZ,unknown:JY,void:eZ,NEVER:SZ,ZodIssueCode:he,quotelessJson:DY,ZodError:Ao}),Fk,AZ=(Fk=Lt(function(t,e){var n,r,i,s;return Mt(this,function(o){switch(o.label){case 0:return(r=e)?[3,2]:[4,xY()];case 1:r=!o.sent(),o.label=2;case 2:return n=r,[4,js.getAccessToken(n)];case 3:return i=o.sent(),s="id,name,user_id_by_oa,is_sensitive",s=t?"".concat(s,",picture.type(").concat(t,")"):"".concat(s,",picture"),[4,fetch("".concat(vp.GET_USER_INFO,"?fields=").concat(s,"&miniapp_id=").concat(Ov),{headers:{access_token:i||""}}).then(function(){var l=Lt(function(u){var d,p,m,_;return Mt(this,function(y){switch(y.label){case 0:return[4,u.json()];case 1:return m=y.sent(),_=m?.user_id_by_oa,[2,{id:m?.id,name:m?.name||"",avatar:(m==null||(d=m.picture)===null||d===void 0||(p=d.data)===null||p===void 0?void 0:p.url)||"",idByOA:_,followedOA:!!m?.is_follower,isSensitive:m?.is_sensitive}]}})});return function(u){return l.apply(this,arguments)}}())];case 4:return[2,o.sent()]}})}),function(t,e){return Fk.apply(this,arguments)}),RZ=[cM({avatarType:Vk.enum(["small","normal","large"]).optional(),autoRequestPermission:Vk.boolean().default(!1).optional()}).optional()];function bZ(t){return SI.apply(this,arguments)}function SI(){return SI=Lt(function(t){return Mt(this,function(e){return[2,Xy("getUserInfo",RZ,[t],(n=Lt(function(r){var i,s;return Mt(this,function(o){switch(o.label){case 0:return Sd.isMp?(i=r?.avatarType,s=r?.autoRequestPermission,[4,AZ(i,s)]):[3,2];case 1:return[2,{userInfo:o.sent()}];case 2:return Sd.isMpWeb?[2,Promise.resolve({userInfo:{id:"3368637342326461234",name:"User Name",avatar:"https://h5.zdn.vn/static/images/avatar.png"}})]:[2,Promise.reject(H1("getUserInfo",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),SI.apply(this,arguments)}var PZ=Lt(function(){return Mt(this,function(t){return[2,new Promise(function(e,n){var r,i;q1("MP_GET_NUMBER",{forceUpdate:!0},{success:function(s){var o={};if(s?.token)return o.token=s?.token,e(o);n(rd.error.clientNotSupport())},fail:function(s){n(s)}},{delay:!((r=Tu())===null||r===void 0||(i=r.platform)===null||i===void 0)&&i.isIOS?400:0})})]})});function CZ(t){return dM.apply(this,arguments)}function dM(){return(dM=Lt(function(t){return Mt(this,function(e){return[2,Xy("getPhoneNumber",[],[t],Lt(function(){return Mt(this,function(n){switch(n.label){case 0:return Sd.isMp?[4,PZ()]:[3,2];case 1:return[2,n.sent()];case 2:return Sd.isMpWeb?[2,Promise.resolve({number:""})]:[2,Promise.reject(H1("getPhoneNumber",{}))]}})}))]})})).apply(this,arguments)}var kZ=Lt(function(){var t,e,n=arguments;return Mt(this,function(r){return t=n.length>0&&n[0]!==void 0&&n[0],e=n.length>1&&n[1]!==void 0?n[1]:"Cho php Zalo truy cp vo v tr ca thit b ny?",[2,new Promise(function(i,s){q1("GET_LOCATION",{silent_request:t,permission_description:e,forceUpdate:!0},{success:function(o){var l={};if(o?.token)return l.token=o?.token,i(l);s(rd.error.clientNotSupport())},fail:function(o){s(o)}},{isMultiCallback:!0,timeout:!1})})]})});function xZ(t){return fM.apply(this,arguments)}function fM(){return(fM=Lt(function(t){return Mt(this,function(e){return[2,Xy("getLocation",[],[t],Lt(function(){return Mt(this,function(n){switch(n.label){case 0:return Sd.isMp?[4,kZ()]:[3,2];case 1:return[2,n.sent()];case 2:return Sd.isMpWeb?[2,Promise.resolve({longitude:"105.788026",latitude:"21.0258773",timestamp:new Date().getTime().toString(),provider:"fused"})]:[2,Promise.reject(H1("getLocation",{}))]}})}))]})})).apply(this,arguments)}const NZ="modulepreload",OZ=function(t,e){return new URL(t,e).href},Uk={},$k=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(d=>{if(d=OZ(d,r),d in Uk)return;Uk[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(!!r)for(let S=o.length-1;S>=0;S--){const R=o[S];if(R.href===d&&(!p||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":NZ,p||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((S,R)=>{y.addEventListener("load",S),y.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Bk=""+new URL("logo-ulf3vVeQ.png",import.meta.url).href;function DZ(t,e,n,r){const s=m_(n-t),o=m_(r-e),l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(m_(t))*Math.cos(m_(n))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function m_(t){return t*(Math.PI/180)}function LZ(t,e){let n=t.price;if(t.sale&&(t.sale.type==="fixed"?n=t.price-t.sale.amount:n=t.price*(1-t.sale.percent)),e&&t.variants){const r=[];for(const i in e){const s=t.variants.find(o=>o.id===i);if(s){const o=e[i];if(typeof o=="string"){const l=s.options.find(u=>u.id===o);l&&r.push(l)}else{const l=s.options.filter(u=>o.includes(u.id));r.push(...l)}}}n=r.reduce((i,s)=>s.priceChange?s.priceChange.type=="fixed"?i+s.priceChange.amount:i+t.price*s.priceChange.percent:i,n)}return n}function hM(t){return new Promise(e=>setTimeout(e,t))}const pM=[{id:"coffee",name:"Statistics",icon:"https://res.cloudinary.com/dwljkfseh/image/upload/v1724481118/report_pljl2c.png"},{id:"calendar",name:"Calendar",icon:"https://res.cloudinary.com/dwljkfseh/image/upload/v1724481115/calendar2_xmamut.png"},{id:"treatment",name:"Treatment",icon:"https://res.cloudinary.com/dwljkfseh/image/upload/v1724481115/doctors_ctjwr9.png"},{id:"survey",name:"Survey",icon:"https://res.cloudinary.com/dwljkfseh/image/upload/v1724481117/medical_report_huutfa.png"}];Zi({key:"user",get:async()=>{try{const{userInfo:t}=await bZ({autoRequestPermission:!0});return t}catch{return{id:"",avatar:"",name:"Zalo User"}}}});Zi({key:"categories",get:()=>pM});Zi({key:"categories",get:()=>pM});const Q1=Zi({key:"products",get:async()=>{await hM(2e3);const t=(await $k(async()=>{const{default:n}=await import("./products-C1dXQGbb.js");return{default:n}},[],import.meta.url)).default,e=(await $k(async()=>{const{default:n}=await import("./variants-CJfpPGms.js");return{default:n}},[],import.meta.url)).default;return t.map(n=>({...n,variants:e.filter(r=>n.variantId.includes(r.id))}))}});Zi({key:"recommendProducts",get:({get:t})=>t(Q1).filter(n=>n.sale)});Js({key:"selectedCategoryId",default:"doctor-ai"});GQ({key:"productsByCategory",get:t=>({get:e})=>e(Q1).filter(r=>r.categoryId.includes(t))});const mM=Js({key:"cart",default:[]});Zi({key:"totalQuantity",get:({get:t})=>t(mM).reduce((n,r)=>n+r.quantity,0)});Zi({key:"totalPrice",get:({get:t})=>t(mM).reduce((n,r)=>n+r.quantity*LZ(r.product,r.options),0)});Js({key:"notifications",default:[{id:1,image:Bk,title:"Nice to meet you here!!",content:"Thank you for using AIoT Health, you can use this app to understand yourself healthier every day."},{id:2,image:Bk,title:"Works quickly in about 5 seconds.",content:"Tell me more about what you want to improve your health."}]});const MZ=Js({key:"keyword",default:""});Zi({key:"result",get:async({get:t})=>{const e=t(MZ);if(!e.trim())return[];const n=t(Q1);return await hM(500),n.filter(r=>r.name.trim().toLowerCase().includes(e.trim().toLowerCase()))}});const VZ=Js({key:"stores",default:[{id:1,name:"VNG Campus Store",address:"Khu ch xut Tn Thun, Z06, S 13, Tn Thun ng, Qun 7, Thnh ph H Ch Minh, Vit Nam",lat:10.741639,long:106.714632},{id:2,name:"The Independence Palace",address:"135 Nam K Khi Ngha, Bn Thnh, Qun 1, Thnh ph H Ch Minh, Vit Nam",lat:10.779159,long:106.695271},{id:3,name:"Saigon Notre-Dame Cathedral Basilica",address:"1 Cng x Paris, Bn Ngh, Qun 1, Thnh ph H Ch Minh, Vit Nam",lat:10.779738,long:106.699092},{id:4,name:"Bnh Qui Tourist Village",address:"1147 Bnh Qui, phng 28, Bnh Thnh, Thnh ph H Ch Minh, Vit Nam",lat:10.831098,long:106.733128},{id:5,name:"International University",address:"Khu ph 6, Phng Linh Trung, TP. Th c, Thnh ph H Ch Minh",lat:11.051655,long:106.494249}]}),FZ=Zi({key:"nearbyStores",get:({get:t})=>{const e=t(zZ),n=t(VZ);return e?n.map(s=>({...s,distance:DZ(e.latitude,e.longitude,s.lat,s.long)})).sort((s,o)=>s.distance-o.distance):[]}}),UZ=Js({key:"selectedStoreIndex",default:0});Zi({key:"selectedStore",get:({get:t})=>{const e=t(UZ);return t(FZ)[e]}});Js({key:"selectedDeliveryTime",default:+new Date});const $Z=Js({key:"requestLocationTries",default:0}),BZ=Js({key:"requestPhoneTries",default:0}),zZ=Zi({key:"location",get:async({get:t})=>{if(t($Z)){const{latitude:n,longitude:r,token:i}=await xZ({fail:console.warn});if(n&&r)return{latitude:n,longitude:r};if(i)return console.warn("S dng token ny  truy xut v tr chnh xc ca ngi dng",i),console.warn("Chi tit tham kho: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Gi lp v tr mc nh: VNG Campus"),{latitude:"10.7287",longitude:"106.7317"}}return!1}});Zi({key:"phone",get:async({get:t})=>{if(t(BZ)){const{number:n,token:r}=await CZ({fail:console.warn});return n||(console.warn("S dng token ny  truy xut s in thoi ca ngi dng",r),console.warn("Chi tit tham kho: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Gi lp s in thoi mc nh: 0123456789"),"0123456789")}return!1}});Js({key:"orderNote",default:""});function zk(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Y1(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:zk(e[n])&&zk(t[n])&&Object.keys(e[n]).length>0&&Y1(t[n],e[n])})}const gM={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Gu(){const t=typeof document<"u"?document:{};return Y1(t,gM),t}const jZ={document:gM,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ai(){const t=typeof window<"u"?window:{};return Y1(t,jZ),t}function WZ(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function AI(t,e=0){return setTimeout(t,e)}function qv(){return Date.now()}function GZ(t){const e=Ai();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function qZ(t,e="x"){const n=Ai();let r,i,s;const o=GZ(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function g_(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function HZ(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function pi(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!HZ(i)){const s=Object.keys(Object(i)).filter(o=>n.indexOf(o)<0);for(let o=0,l=s.length;o<l;o+=1){const u=s[o],d=Object.getOwnPropertyDescriptor(i,u);d!==void 0&&d.enumerable&&(g_(e[u])&&g_(i[u])?i[u].__swiper__?e[u]=i[u]:pi(e[u],i[u]):!g_(e[u])&&g_(i[u])?(e[u]={},i[u].__swiper__?e[u]=i[u]:pi(e[u],i[u])):e[u]=i[u])}}}return e}function __(t,e,n){t.style.setProperty(e,n)}function _M({swiper:t,targetPosition:e,side:n}){const r=Ai(),i=-t.translate;let s=null,o;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const u=e>i?"next":"prev",d=(m,_)=>u==="next"&&m>=_||u==="prev"&&m<=_,p=()=>{o=new Date().getTime(),s===null&&(s=o);const m=Math.max(Math.min((o-s)/l,1),0),_=.5-Math.cos(m*Math.PI)/2;let y=i+_*(e-i);if(d(y,e)&&(y=e),t.wrapperEl.scrollTo({[n]:y}),d(y,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:y})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(p)};p()}function wo(t,e=""){return[...t.children].filter(n=>n.matches(e))}function KZ(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function QZ(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function YZ(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ca(t,e){return Ai().getComputedStyle(t,null).getPropertyValue(e)}function jk(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function ZZ(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function Wk(t,e,n){const r=Ai();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let LE;function JZ(){const t=Ai(),e=Gu();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function vM(){return LE||(LE=JZ()),LE}let ME;function XZ({userAgent:t}={}){const e=vM(),n=Ai(),r=n.navigator.platform,i=t||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const p=i.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_=r==="Win32";let y=r==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&e.touch&&S.indexOf(`${o}x${l}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),u&&!_&&(s.os="android",s.android=!0),(d||m||p)&&(s.os="ios",s.ios=!0),s}function eJ(t={}){return ME||(ME=XZ(t)),ME}let VE;function tJ(){const t=Ai();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[i,s]=r.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function nJ(){return VE||(VE=tJ()),VE}function rJ({swiper:t,on:e,emit:n}){const r=Ai();let i=null,s=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(p=>{s=r.requestAnimationFrame(()=>{const{width:m,height:_}=t;let y=m,S=_;p.forEach(({contentBoxSize:R,contentRect:D,target:T})=>{T&&T!==t.el||(y=D?D.width:(R[0]||R).inlineSize,S=D?D.height:(R[0]||R).blockSize)}),(y!==m||S!==_)&&o()})}),i.observe(t.el))},u=()=>{s&&r.cancelAnimationFrame(s),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},d=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",d)}),e("destroy",()=>{u(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",d)})}function iJ({swiper:t,extendParams:e,on:n,emit:r}){const i=[],s=Ai(),o=(d,p={})=>{const m=s.MutationObserver||s.WebkitMutationObserver,_=new m(y=>{if(t.__preventObserver__)return;if(y.length===1){r("observerUpdate",y[0]);return}const S=function(){r("observerUpdate",y[0])};s.requestAnimationFrame?s.requestAnimationFrame(S):s.setTimeout(S,0)});_.observe(d,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:typeof p.childList>"u"?!0:p.childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),i.push(_)},l=()=>{if(t.params.observer){if(t.params.observeParents){const d=ZZ(t.el);for(let p=0;p<d.length;p+=1)o(d[p])}o(t.el,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",u)}const sJ={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...s){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(i,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(l=>{l.apply(i,r)})}),e}};function oJ(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ca(r,"padding-left")||0,10)-parseInt(Ca(r,"padding-right")||0,10),n=n-parseInt(Ca(r,"padding-top")||0,10)-parseInt(Ca(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function aJ(){const t=this;function e(L){return t.isHorizontal()?L:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[L]}function n(L,U){return parseFloat(L.getPropertyValue(e(U))||0)}const r=t.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:l,wrongRTL:u}=t,d=t.virtual&&r.virtual.enabled,p=d?t.virtual.slides.length:t.slides.length,m=wo(s,`.${t.params.slideClass}, swiper-slide`),_=d?t.virtual.slides.length:m.length;let y=[];const S=[],R=[];let D=r.slidesOffsetBefore;typeof D=="function"&&(D=r.slidesOffsetBefore.call(t));let T=r.slidesOffsetAfter;typeof T=="function"&&(T=r.slidesOffsetAfter.call(t));const A=t.snapGrid.length,b=t.slidesGrid.length;let F=r.spaceBetween,B=-D,z=0,x=0;if(typeof o>"u")return;typeof F=="string"&&F.indexOf("%")>=0?F=parseFloat(F.replace("%",""))/100*o:typeof F=="string"&&(F=parseFloat(F)),t.virtualSize=-F,m.forEach(L=>{l?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(__(i,"--swiper-centered-offset-before",""),__(i,"--swiper-centered-offset-after",""));const I=r.grid&&r.grid.rows>1&&t.grid;I&&t.grid.initSlides(_);let O;const M=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(L=>typeof r.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<_;L+=1){O=0;let U;if(m[L]&&(U=m[L]),I&&t.grid.updateSlide(L,U,_,e),!(m[L]&&Ca(U,"display")==="none")){if(r.slidesPerView==="auto"){M&&(m[L].style[e("width")]="");const N=getComputedStyle(U),We=U.style.transform,en=U.style.webkitTransform;if(We&&(U.style.transform="none"),en&&(U.style.webkitTransform="none"),r.roundLengths)O=t.isHorizontal()?Wk(U,"width"):Wk(U,"height");else{const qt=n(N,"width"),wt=n(N,"padding-left"),ce=n(N,"padding-right"),we=n(N,"margin-left"),ue=n(N,"margin-right"),Ie=N.getPropertyValue("box-sizing");if(Ie&&Ie==="border-box")O=qt+we+ue;else{const{clientWidth:q,offsetWidth:ne}=U;O=qt+wt+ce+we+ue+(ne-q)}}We&&(U.style.transform=We),en&&(U.style.webkitTransform=en),r.roundLengths&&(O=Math.floor(O))}else O=(o-(r.slidesPerView-1)*F)/r.slidesPerView,r.roundLengths&&(O=Math.floor(O)),m[L]&&(m[L].style[e("width")]=`${O}px`);m[L]&&(m[L].swiperSlideSize=O),R.push(O),r.centeredSlides?(B=B+O/2+z/2+F,z===0&&L!==0&&(B=B-o/2-F),L===0&&(B=B-o/2-F),Math.abs(B)<1/1e3&&(B=0),r.roundLengths&&(B=Math.floor(B)),x%r.slidesPerGroup===0&&y.push(B),S.push(B)):(r.roundLengths&&(B=Math.floor(B)),(x-Math.min(t.params.slidesPerGroupSkip,x))%t.params.slidesPerGroup===0&&y.push(B),S.push(B),B=B+O+F),t.virtualSize+=O+F,z=O,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+T,l&&u&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${t.virtualSize+F}px`),r.setWrapperSize&&(i.style[e("width")]=`${t.virtualSize+F}px`),I&&t.grid.updateWrapperSize(O,y,e),!r.centeredSlides){const L=[];for(let U=0;U<y.length;U+=1){let N=y[U];r.roundLengths&&(N=Math.floor(N)),y[U]<=t.virtualSize-o&&L.push(N)}y=L,Math.floor(t.virtualSize-o)-Math.floor(y[y.length-1])>1&&y.push(t.virtualSize-o)}if(d&&r.loop){const L=R[0]+F;if(r.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),N=L*r.slidesPerGroup;for(let We=0;We<U;We+=1)y.push(y[y.length-1]+N)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)r.slidesPerGroup===1&&y.push(y[y.length-1]+L),S.push(S[S.length-1]+L),t.virtualSize+=L}if(y.length===0&&(y=[0]),F!==0){const L=t.isHorizontal()&&l?"marginLeft":e("marginRight");m.filter((U,N)=>!r.cssMode||r.loop?!0:N!==m.length-1).forEach(U=>{U.style[L]=`${F}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let L=0;R.forEach(N=>{L+=N+(F||0)}),L-=F;const U=L-o;y=y.map(N=>N<=0?-D:N>U?U+T:N)}if(r.centerInsufficientSlides){let L=0;if(R.forEach(U=>{L+=U+(F||0)}),L-=F,L<o){const U=(o-L)/2;y.forEach((N,We)=>{y[We]=N-U}),S.forEach((N,We)=>{S[We]=N+U})}}if(Object.assign(t,{slides:m,snapGrid:y,slidesGrid:S,slidesSizesGrid:R}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){__(i,"--swiper-centered-offset-before",`${-y[0]}px`),__(i,"--swiper-centered-offset-after",`${t.size/2-R[R.length-1]/2}px`);const L=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+L),t.slidesGrid=t.slidesGrid.map(N=>N+U)}if(_!==p&&t.emit("slidesLengthChange"),y.length!==A&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==b&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!d&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const L=`${r.containerModifierClass}backface-hidden`,U=t.el.classList.contains(L);_<=r.maxBackfaceHiddenSlides?U||t.el.classList.add(L):U&&t.el.classList.remove(L)}}function lJ(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function uJ(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function cJ(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),r.forEach(u=>{u.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let u=0;u<r.length;u+=1){const d=r[u];let p=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const m=(o+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+l),_=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+l),y=-(o-p),S=y+e.slidesSizesGrid[u];(y>=0&&y<e.size-1||S>1&&S<=e.size||y<=0&&S>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(u),r[u].classList.add(n.slideVisibleClass)),d.progress=i?-m:m,d.originalProgress=i?-_:_}}function dJ(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:l}=e;const u=s,d=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const p=Math.abs(t-e.minTranslate())<1,m=Math.abs(t-e.maxTranslate())<1;s=p||i<=0,o=m||i>=1,p&&(i=0),m&&(i=1)}if(n.loop){const p=e.getSlideIndexByData(0),m=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[p],y=e.slidesGrid[m],S=e.slidesGrid[e.slidesGrid.length-1],R=Math.abs(t);R>=_?l=(R-_)/S:l=(R+S-y)/S,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(u&&!s||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function fJ(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=u=>wo(r,`.${n.slideClass}${u}, swiper-slide${u}`)[0];e.forEach(u=>{u.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l;if(s)if(n.loop){let u=i-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${u}"]`)}else l=o(`[data-swiper-slide-index="${i}"]`);else l=e[i];if(l){l.classList.add(n.slideActiveClass);let u=YZ(l,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass);let d=QZ(l,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const z_=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){const i=r.querySelector(`.${t.params.lazyPreloaderClass}`);i&&i.remove()}},FE=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},RI=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,l=[o-e];l.push(...Array.from({length:e}).map((u,d)=>o+r+d)),t.slides.forEach((u,d)=>{l.includes(u.column)&&FE(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const l=(o%n+n)%n;(l<i||l>s)&&FE(t,l)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&FE(t,o)};function hJ(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function pJ(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:l}=e;let u=t,d;const p=_=>{let y=_-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof u>"u"&&(u=hJ(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const _=Math.min(i.slidesPerGroupSkip,u);d=_+Math.floor((u-_)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),u===s){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=p(u));return}let m;e.virtual&&i.virtual.enabled&&i.loop?m=p(u):e.slides[u]?m=parseInt(e.slides[u].getAttribute("data-swiper-slide-index")||u,10):m=u,Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:m,previousIndex:s,activeIndex:u}),e.initialized&&RI(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==m&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function mJ(t){const e=this,n=e.params,r=t.closest(`.${n.slideClass}, swiper-slide`);let i=!1,s;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){i=!0,s=o;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const gJ={updateSize:oJ,updateSlides:aJ,updateAutoHeight:lJ,updateSlidesOffset:uJ,updateSlidesProgress:cJ,updateProgress:dJ,updateSlidesClasses:fJ,updateActiveIndex:pJ,updateClickedSlide:mJ};function _J(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=qZ(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function vJ(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let l=0,u=0;const d=0;n.isHorizontal()?l=r?-t:t:u=t,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${u}px, ${d}px)`);let p;const m=n.maxTranslate()-n.minTranslate();m===0?p=0:p=(t-n.minTranslate())/m,p!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function yJ(){return-this.snapGrid[0]}function wJ(){return-this.snapGrid[this.snapGrid.length-1]}function EJ(t=0,e=this.params.speed,n=!0,r=!0,i){const s=this,{params:o,wrapperEl:l}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const u=s.minTranslate(),d=s.maxTranslate();let p;if(r&&t>u?p=u:r&&t<d?p=d:p=t,s.updateProgress(p),o.cssMode){const m=s.isHorizontal();if(e===0)l[m?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return _M({swiper:s,targetPosition:-p,side:m?"left":"top"}),!0;l.scrollTo({[m?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(_){!s||s.destroyed||_.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}const TJ={getTranslate:_J,setTranslate:vJ,minTranslate:yJ,maxTranslate:wJ,translateTo:EJ};function IJ(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function yM({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:s}=t;let o=n;if(o||(i>s?o="next":i<s?o="prev":o="reset"),t.emit(`transition${r}`),e&&i!==s){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function SJ(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),yM({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function AJ(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),yM({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const RJ={setTransition:IJ,transitionStart:SJ,transitionEnd:AJ};function bJ(t=0,e=this.params.speed,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:u,slidesGrid:d,previousIndex:p,activeIndex:m,rtlTranslate:_,wrapperEl:y,enabled:S}=s;if(s.animating&&l.preventInteractionOnTransition||!S&&!r&&!i)return!1;const R=Math.min(s.params.slidesPerGroupSkip,o);let D=R+Math.floor((o-R)/s.params.slidesPerGroup);D>=u.length&&(D=u.length-1);const T=-u[D];if(l.normalizeSlideIndex)for(let b=0;b<d.length;b+=1){const F=-Math.floor(T*100),B=Math.floor(d[b]*100),z=Math.floor(d[b+1]*100);typeof d[b+1]<"u"?F>=B&&F<z-(z-B)/2?o=b:F>=B&&F<z&&(o=b+1):F>=B&&(o=b)}if(s.initialized&&o!==m&&(!s.allowSlideNext&&(_?T>s.translate&&T>s.minTranslate():T<s.translate&&T<s.minTranslate())||!s.allowSlidePrev&&T>s.translate&&T>s.maxTranslate()&&(m||0)!==o))return!1;o!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(T);let A;if(o>m?A="next":o<m?A="prev":A="reset",_&&-T===s.translate||!_&&T===s.translate)return s.updateActiveIndex(o),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(T),A!=="reset"&&(s.transitionStart(n,A),s.transitionEnd(n,A)),!1;if(l.cssMode){const b=s.isHorizontal(),F=_?T:-T;if(e===0){const B=s.virtual&&s.params.virtual.enabled;B&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),B&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[b?"scrollLeft":"scrollTop"]=F})):y[b?"scrollLeft":"scrollTop"]=F,B&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return _M({swiper:s,targetPosition:F,side:b?"left":"top"}),!0;y.scrollTo({[b?"left":"top"]:F,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(T),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,A),e===0?s.transitionEnd(n,A):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(F){!s||s.destroyed||F.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,A))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function PJ(t=0,e=this.params.speed,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;let s=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?s=s+i.virtual.slidesBefore:s=i.getSlideIndexByData(s)),i.slideTo(s,e,n,r)}function CJ(t=this.params.speed,e=!0,n){const r=this,{enabled:i,params:s,animating:o}=r;if(!i)return r;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:l,d=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function kJ(t=this.params.speed,e=!0,n){const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:l,enabled:u,animating:d}=r;if(!u)return r;const p=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const m=l?r.translate:-r.translate;function _(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const y=_(m),S=s.map(T=>_(T));let R=s[S.indexOf(y)-1];if(typeof R>"u"&&i.cssMode){let T;s.forEach((A,b)=>{y>=A&&(T=b)}),typeof T<"u"&&(R=s[T>0?T-1:T])}let D=0;if(typeof R<"u"&&(D=o.indexOf(R),D<0&&(D=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),i.rewind&&r.isBeginning){const T=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(T,t,e,n)}return r.slideTo(D,t,e,n)}function xJ(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function NJ(t=this.params.speed,e=!0,n,r=.5){const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),l=o+Math.floor((s-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[l]){const d=i.snapGrid[l],p=i.snapGrid[l+1];u-d>(p-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],p=i.snapGrid[l];u-d<=(p-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function OJ(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(wo(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),AI(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(wo(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),AI(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const DJ={slideTo:bJ,slideToLoop:PJ,slideNext:CJ,slidePrev:kJ,slideReset:xJ,slideToClosest:NJ,slideToClickedSlide:OJ};function LJ(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;wo(r,`.${n.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function MJ({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,byController:s,byMousewheel:o}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:p,slidesEl:m,params:_}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&_.virtual.enabled){e&&(!_.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):_.centeredSlides&&l.snapIndex<_.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=p,l.emit("loopFix");return}const y=_.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(_.slidesPerView,10));let S=_.loopedSlides||y;S%_.slidesPerGroup!==0&&(S+=_.slidesPerGroup-S%_.slidesPerGroup),l.loopedSlides=S;const R=[],D=[];let T=l.activeIndex;typeof i>"u"?i=l.getSlideIndex(l.slides.filter(z=>z.classList.contains(_.slideActiveClass))[0]):T=i;const A=n==="next"||!n,b=n==="prev"||!n;let F=0,B=0;if(i<S){F=Math.max(S-i,_.slidesPerGroup);for(let z=0;z<S-i;z+=1){const x=z-Math.floor(z/u.length)*u.length;R.push(u.length-x-1)}}else if(i>l.slides.length-S*2){B=Math.max(i-(l.slides.length-S*2),_.slidesPerGroup);for(let z=0;z<B;z+=1){const x=z-Math.floor(z/u.length)*u.length;D.push(x)}}if(b&&R.forEach(z=>{l.slides[z].swiperLoopMoveDOM=!0,m.prepend(l.slides[z]),l.slides[z].swiperLoopMoveDOM=!1}),A&&D.forEach(z=>{l.slides[z].swiperLoopMoveDOM=!0,m.append(l.slides[z]),l.slides[z].swiperLoopMoveDOM=!1}),l.recalcSlides(),_.slidesPerView==="auto"&&l.updateSlides(),_.watchSlidesProgress&&l.updateSlidesOffset(),e){if(R.length>0&&b)if(typeof t>"u"){const z=l.slidesGrid[T],I=l.slidesGrid[T+F]-z;o?l.setTranslate(l.translate-I):(l.slideTo(T+F,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=I))}else r&&l.slideToLoop(t,0,!1,!0);else if(D.length>0&&A)if(typeof t>"u"){const z=l.slidesGrid[T],I=l.slidesGrid[T-B]-z;o?l.setTranslate(l.translate-I):(l.slideTo(T-B,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=I))}else l.slideToLoop(t,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=p,l.controller&&l.controller.control&&!s){const z={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(x=>{!x.destroyed&&x.params.loop&&x.loopFix(z)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(z)}l.emit("loopFix")}function VJ(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}const FJ={loopCreate:LJ,loopFix:MJ,loopDestroy:VJ};function UJ(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function $J(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}const BJ={setGrabCursor:UJ,unsetGrabCursor:$J};function zJ(t,e=this){function n(r){if(!r||r===Gu()||r===Ai())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function jJ(t){const e=this,n=Gu(),r=Ai(),i=e.touchEventsData;i.evCache.push(t);const{params:s,touches:o,enabled:l}=e;if(!l||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=t;u.originalEvent&&(u=u.originalEvent);let d=u.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(d)||"which"in u&&u.which===3||"button"in u&&u.button>0||i.isTouched&&i.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",m=t.composedPath?t.composedPath():t.path;p&&u.target&&u.target.shadowRoot&&m&&(d=m[0]);const _=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,y=!!(u.target&&u.target.shadowRoot);if(s.noSwiping&&(y?zJ(_,d):d.closest(_))){e.allowClick=!0;return}if(s.swipeHandler&&!d.closest(s.swipeHandler))return;o.currentX=u.pageX,o.currentY=u.pageY;const S=o.currentX,R=o.currentY,D=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,T=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(D&&(S<=T||S>=r.innerWidth-T))if(D==="prevent")t.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=S,o.startY=R,i.touchStartTime=qv(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let A=!0;d.matches(i.focusableElements)&&(A=!1,d.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==d&&n.activeElement.blur();const b=A&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!d.isContentEditable&&u.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",u)}function WJ(t){const e=Gu(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const d=r.evCache.findIndex(z=>z.pointerId===u.pointerId);d>=0&&(r.evCache[d]=u);const p=r.evCache.length>1?r.evCache[0]:u,m=p.pageX,_=p.pageY;if(u.preventedByNestedSwiper){s.startX=m,s.startY=_;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:m,startY:_,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:m,currentY:_}),r.touchStartTime=qv());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(_<s.startY&&n.translate<=n.maxTranslate()||_>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(m<s.startX&&n.translate<=n.maxTranslate()||m>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",u),u.targetTouches&&u.targetTouches.length>1)return;s.currentX=m,s.currentY=_;const y=s.currentX-s.startX,S=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(y**2+S**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let z;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:y*y+S*S>=25&&(z=Math.atan2(Math.abs(S),Math.abs(y))*180/Math.PI,r.isScrolling=n.isHorizontal()?z>i.touchAngle:90-z>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let R=n.isHorizontal()?y:S,D=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(R=Math.abs(R)*(o?1:-1),D=Math.abs(D)*(o?1:-1)),s.diff=R,R*=i.touchRatio,o&&(R=-R,D=-D);const T=n.touchesDirection;n.swipeDirection=R>0?"prev":"next",n.touchesDirection=D>0?"prev":"next";const A=n.params.loop&&!i.cssMode;if(!r.isMoved){if(A&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const z=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(z)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let b;r.isMoved&&T!==n.touchesDirection&&A&&Math.abs(R)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),b=!0),n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=R+r.startTranslate;let F=!0,B=i.resistanceRatio;if(i.touchReleaseOnEdges&&(B=0),R>0?(A&&!b&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(F=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+R)**B))):R<0&&(A&&!b&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(F=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-R)**B))),F&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(R)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function GJ(t){const e=this,n=e.touchEventsData,r=n.evCache.findIndex(b=>b.pointerId===t.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:s,rtlTranslate:o,slidesGrid:l,enabled:u}=e;if(!u||!i.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=qv(),m=p-n.touchStartTime;if(e.allowClick){const b=d.path||d.composedPath&&d.composedPath();e.updateClickedSlide(b&&b[0]||d.target),e.emit("tap click",d),m<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",d)}if(n.lastClickTime=qv(),AI(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(i.followFinger?_=o?e.translate:-e.translate:_=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}let y=0,S=e.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const F=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof l[b+F]<"u"?_>=l[b]&&_<l[b+F]&&(y=b,S=l[b+F]-l[b]):_>=l[b]&&(y=b,S=l[l.length-1]-l[l.length-2])}let R=null,D=null;i.rewind&&(e.isBeginning?D=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const T=(_-l[y])/S,A=y<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(m>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?R:y+A):e.slideTo(y)),e.swipeDirection==="prev"&&(T>1-i.longSwipesRatio?e.slideTo(y+A):D!==null&&T<0&&Math.abs(T)>i.longSwipesRatio?e.slideTo(D):e.slideTo(y))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(d.target===e.navigation.nextEl||d.target===e.navigation.prevEl)?d.target===e.navigation.nextEl?e.slideTo(y+A):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:y+A),e.swipeDirection==="prev"&&e.slideTo(D!==null?D:y))}}function Gk(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function qJ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function HJ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function KJ(t){const e=this;z_(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let qk=!1;function QJ(){}const wM=(t,e)=>{const n=Gu(),{params:r,el:i,wrapperEl:s,device:o}=t,l=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",d=e;i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Gk,!0):t[d]("observerUpdate",Gk,!0),i[u]("load",t.onLoad,{capture:!0})};function YJ(){const t=this,e=Gu(),{params:n}=t;t.onTouchStart=jJ.bind(t),t.onTouchMove=WJ.bind(t),t.onTouchEnd=GJ.bind(t),n.cssMode&&(t.onScroll=HJ.bind(t)),t.onClick=qJ.bind(t),t.onLoad=KJ.bind(t),qk||(e.addEventListener("touchstart",QJ),qk=!0),wM(t,"on")}function ZJ(){wM(this,"off")}const JJ={attachEvents:YJ,detachEvents:ZJ},Hk=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function XJ(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const u=(o in s?s[o]:void 0)||t.originalParams,d=Hk(t,r),p=Hk(t,u),m=r.enabled;d&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof u[R]>"u")return;const D=r[R]&&r[R].enabled,T=u[R]&&u[R].enabled;D&&!T&&t[R].disable(),!D&&T&&t[R].enable()});const _=u.direction&&u.direction!==r.direction,y=r.loop&&(u.slidesPerView!==r.slidesPerView||_);_&&n&&t.changeDirection(),pi(t.params,u);const S=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),m&&!S?t.disable():!m&&S&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",u),y&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",u)}function eX(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=Ai(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const u=parseFloat(l.substr(1));return{value:s*u,point:l}}return{value:l,point:l}});o.sort((l,u)=>parseInt(l.value,10)-parseInt(u.value,10));for(let l=0;l<o.length;l+=1){const{point:u,value:d}=o[l];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=u):d<=n.clientWidth&&(r=u)}return r||"max"}const tX={setBreakpoint:XJ,getBreakpoint:eX};function nX(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function rX(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=nX(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function iX(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}const sX={addClasses:rX,removeClasses:iX};function oX(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const aX={checkOverflow:oX},Kk={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function lX(t,e){return function(r={}){const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){pi(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in s)){pi(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),pi(e,r)}}const UE={eventsEmitter:sJ,update:gJ,translate:TJ,transition:RJ,slide:DJ,loop:FJ,grabCursor:BJ,events:JJ,breakpoints:tX,checkOverflow:aX,classes:sX},$E={};let xp=class mo{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=pi({},r),n&&!r.el&&(r.el=n);const i=Gu();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const u=[];return i.querySelectorAll(r.el).forEach(d=>{const p=pi({},r,{el:d});u.push(new mo(p))}),u}const s=this;s.__swiper__=!0,s.support=vM(),s.device=eJ({userAgent:r.userAgent}),s.browser=nJ(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const o={};s.modules.forEach(u=>{u({params:r,swiper:s,extendParams:lX(r,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const l=pi({},Kk,o);return s.params=pi({},l,$E,r),s.originalParams=pi({},s.params),s.passedParams=pi({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(u=>{s.on(u,s.params.on[u])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=wo(n,`.${r.slideClass}, swiper-slide`),s=jk(i[0]);return jk(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=wo(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:l,size:u,activeIndex:d}=r;let p=1;if(i.centeredSlides){let m=s[d]?s[d].swiperSlideSize:0,_;for(let y=d+1;y<s.length;y+=1)s[y]&&!_&&(m+=s[y].swiperSlideSize,p+=1,m>u&&(_=!0));for(let y=d-1;y>=0;y-=1)s[y]&&!_&&(m+=s[y].swiperSlideSize,p+=1,m>u&&(_=!0))}else if(e==="current")for(let m=d+1;m<s.length;m+=1)(n?o[m]+l[m]-o[d]<u:o[m]-o[d]<u)&&(p+=1);else for(let m=d-1;m>=0;m-=1)o[d]-o[m]<u&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&z_(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.shadowEl&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):wo(r,i())[0];return!o&&n.params.createElements&&(o=KZ("div",n.params.wrapperClass),r.append(o),wo(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement?r:o,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ca(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ca(r,"direction")==="rtl"),wrongRTL:Ca(o,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete?z_(n,i):i.addEventListener("load",s=>{z_(n,s.target)})}),RI(n),n.initialized=!0,RI(n),n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,el:s,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el.swiper=null,WZ(r)),r.destroyed=!0),null}static extendDefaults(e){pi($E,e)}static get extendedDefaults(){return $E}static get defaults(){return Kk}static installModule(e){mo.prototype.__modules__||(mo.prototype.__modules__=[]);const n=mo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>mo.installModule(n)),mo):(mo.installModule(e),mo)}};Object.keys(UE).forEach(t=>{Object.keys(UE[t]).forEach(e=>{xp.prototype[e]=UE[t][e]})});xp.use([rJ,iJ]);function Ru(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function ka(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ru(e[r])&&Ru(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ka(t[r],e[r]):t[r]=e[r]})}function EM(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function TM(t={}){return t.pagination&&typeof t.pagination.el>"u"}function IM(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function SM(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function uX(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}const AM=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function cX(t={},e=!0){const n={on:{}},r={},i={};ka(n,xp.defaults),ka(n,xp.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},o=AM.map(u=>u.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(u=>{typeof t[u]>"u"||(o.indexOf(u)>=0?Ru(t[u])?(n[u]={},i[u]={},ka(n[u],t[u]),ka(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function dX({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:s},o){EM(o)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),TM(o)&&r&&(s.params.pagination.el=r,s.originalParams.pagination.el=r),IM(o)&&i&&(s.params.scrollbar.el=i,s.originalParams.scrollbar.el=i),s.init(t)}function fX(t,e,n,r,i){const s=[];if(!e)return s;const o=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),d=n.map(i);u.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return AM.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Ru(t[u])&&Ru(e[u])){const d=Object.keys(t[u]),p=Object.keys(e[u]);d.length!==p.length?o(u):(d.forEach(m=>{t[u][m]!==e[u][m]&&o(u)}),p.forEach(m=>{t[u][m]!==e[u][m]&&o(u)}))}else t[u]!==e[u]&&o(u)}),s}function RM(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function bM(t){const e=[];return qe.Children.toArray(t).forEach(n=>{RM(n)?e.push(n):n.props&&n.props.children&&bM(n.props.children).forEach(r=>e.push(r))}),e}function hX(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return qe.Children.toArray(t).forEach(r=>{if(RM(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=bM(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function pX({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:s,scrollbarEl:o,paginationEl:l}){const u=r.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:d,pagination:p,navigation:m,scrollbar:_,virtual:y,thumbs:S}=t;let R,D,T,A,b,F,B,z;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(R=!0),r.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(D=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||d.pagination===!1)&&p&&!p.el&&(T=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&_&&!_.el&&(A=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(b=!0);const x=I=>{t[I]&&(t[I].destroy(),I==="navigation"?(t.isElement&&(t[I].prevEl.remove(),t[I].nextEl.remove()),d[I].prevEl=void 0,d[I].nextEl=void 0,t[I].prevEl=void 0,t[I].nextEl=void 0):(t.isElement&&t[I].el.remove(),d[I].el=void 0,t[I].el=void 0))};r.includes("loop")&&t.isElement&&(d.loop&&!n.loop?F=!0:!d.loop&&n.loop?B=!0:z=!0),u.forEach(I=>{if(Ru(d[I])&&Ru(n[I]))ka(d[I],n[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in n[I]&&!n[I].enabled&&x(I);else{const O=n[I];(O===!0||O===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?O===!1&&x(I):d[I]=n[I]}}),u.includes("controller")&&!D&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),r.includes("children")&&e&&y&&d.virtual.enabled&&(y.slides=e,y.update(!0)),r.includes("children")&&e&&d.loop&&(z=!0),R&&S.init()&&S.update(!0),D&&(t.controller.control=d.controller.control),T&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),t.el.shadowEl.appendChild(l)),l&&(d.pagination.el=l),p.init(),p.render(),p.update()),A&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),t.el.shadowEl.appendChild(o)),o&&(d.scrollbar.el=o),_.init(),_.updateSize(),_.setTranslate()),b&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),t.el.shadowEl.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),t.el.shadowEl.appendChild(s))),i&&(d.navigation.nextEl=i),s&&(d.navigation.prevEl=s),m.init(),m.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(F||z)&&t.loopDestroy(),(B||z)&&t.loopCreate(),t.update()}function mX(t,e,n){if(!n)return null;const r=p=>{let m=p;return p<0?m=e.length+p:m>=e.length&&(m=m-e.length),m},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,l=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,d=[];for(let p=l;p<u;p+=1)p>=s&&p<=o&&d.push(e[r(p)]);return d.map((p,m)=>qe.cloneElement(p,{swiper:t,style:i,key:`slide-${m}`}))}const gX=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function zh(t,e){return typeof window>"u"?jt.useEffect(t,e):jt.useLayoutEffect(t,e)}const Qk=jt.createContext(null),_X=jt.createContext(null);function bI(){return bI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bI.apply(this,arguments)}const vX=jt.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...l}=t===void 0?{}:t,u=!1;const[d,p]=jt.useState("swiper"),[m,_]=jt.useState(null),[y,S]=jt.useState(!1),R=jt.useRef(!1),D=jt.useRef(null),T=jt.useRef(null),A=jt.useRef(null),b=jt.useRef(null),F=jt.useRef(null),B=jt.useRef(null),z=jt.useRef(null),x=jt.useRef(null),{params:I,passedParams:O,rest:M,events:L}=cX(l),{slides:U,slots:N}=hX(s),We=()=>{S(!y)};Object.assign(I.on,{_containerClasses(we,ue){p(ue)}});const en=()=>{Object.assign(I.on,L),u=!0;const we={...I};if(delete we.wrapperClass,T.current=new xp(we),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=U;const ue={cache:!1,slides:U,renderExternal:_,renderExternalUpdate:!1};ka(T.current.params.virtual,ue),ka(T.current.originalParams.virtual,ue)}};D.current||en(),T.current&&T.current.on("_beforeBreakpoint",We);const qt=()=>{u||!L||!T.current||Object.keys(L).forEach(we=>{T.current.on(we,L[we])})},wt=()=>{!L||!T.current||Object.keys(L).forEach(we=>{T.current.off(we,L[we])})};jt.useEffect(()=>()=>{T.current&&T.current.off("_beforeBreakpoint",We)}),jt.useEffect(()=>{!R.current&&T.current&&(T.current.emitSlidesClasses(),R.current=!0)}),zh(()=>{if(e&&(e.current=D.current),!!D.current)return T.current.destroyed&&en(),dX({el:D.current,nextEl:F.current,prevEl:B.current,paginationEl:z.current,scrollbarEl:x.current,swiper:T.current},I),o&&o(T.current),()=>{T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}},[]),zh(()=>{qt();const we=fX(O,A.current,U,b.current,ue=>ue.key);return A.current=O,b.current=U,we.length&&T.current&&!T.current.destroyed&&pX({swiper:T.current,slides:U,passedParams:O,changedParams:we,nextEl:F.current,prevEl:B.current,scrollbarEl:x.current,paginationEl:z.current}),()=>{wt()}}),zh(()=>{gX(T.current)},[m]);function ce(){return I.virtual?mX(T.current,U,m):U.map((we,ue)=>qe.cloneElement(we,{swiper:T.current,swiperSlideIndex:ue}))}return qe.createElement(r,bI({ref:D,className:SM(`${d}${n?` ${n}`:""}`)},M),qe.createElement(_X.Provider,{value:T.current},N["container-start"],qe.createElement(i,{className:uX(I.wrapperClass)},N["wrapper-start"],ce(),N["wrapper-end"]),EM(I)&&qe.createElement(qe.Fragment,null,qe.createElement("div",{ref:B,className:"swiper-button-prev"}),qe.createElement("div",{ref:F,className:"swiper-button-next"})),IM(I)&&qe.createElement("div",{ref:x,className:"swiper-scrollbar"}),TM(I)&&qe.createElement("div",{ref:z,className:"swiper-pagination"}),N["container-end"]))});vX.displayName="Swiper";function PI(){return PI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PI.apply(this,arguments)}const yX=jt.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:l,virtualIndex:u,swiperSlideIndex:d,...p}=t===void 0?{}:t;const m=jt.useRef(null),[_,y]=jt.useState("swiper-slide"),[S,R]=jt.useState(!1);function D(F,B,z){B===m.current&&y(z)}zh(()=>{if(typeof d<"u"&&(m.current.swiperSlideIndex=d),e&&(e.current=m.current),!(!m.current||!s)){if(s.destroyed){_!=="swiper-slide"&&y("swiper-slide");return}return s.on("_slideClass",D),()=>{s&&s.off("_slideClass",D)}}}),zh(()=>{s&&m.current&&!s.destroyed&&y(s.getSlideClasses(m.current))},[s]);const T={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},A=()=>typeof r=="function"?r(T):r,b=()=>{R(!0)};return qe.createElement(n,PI({ref:m,className:SM(`${_}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:b},p),o&&qe.createElement(Qk.Provider,{value:T},qe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},A(),l&&!S&&qe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&qe.createElement(Qk.Provider,{value:T},A(),l&&!S&&qe.createElement("div",{className:"swiper-lazy-preloader"})))});yX.displayName="SwiperSlide";const Yk=()=>{};let Z1={},PM={},CM=null,kM={mark:Yk,measure:Yk};try{typeof window<"u"&&(Z1=window),typeof document<"u"&&(PM=document),typeof MutationObserver<"u"&&(CM=MutationObserver),typeof performance<"u"&&(kM=performance)}catch{}const{userAgent:Zk=""}=Z1.navigator||{},Ka=Z1,Xt=PM,Jk=CM,v_=kM;Ka.document;const Bo=!!Xt.documentElement&&!!Xt.head&&typeof Xt.addEventListener=="function"&&typeof Xt.createElement=="function",xM=~Zk.indexOf("MSIE")||~Zk.indexOf("Trident/");var dn="classic",NM="duotone",yi="sharp",wi="sharp-duotone",wX=[dn,NM,yi,wi],EX={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},Xk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},TX=["kit"],IX=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,SX=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,AX={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},RX={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},bX={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},PX={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},CX={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},kX={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},OM={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},xX=["solid","regular","light","thin","duotone","brands"],DM=[1,2,3,4,5,6,7,8,9,10],NX=DM.concat([11,12,13,14,15,16,17,18,19,20]),wh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},OX=[...Object.keys(PX),...xX,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",wh.GROUP,wh.SWAP_OPACITY,wh.PRIMARY,wh.SECONDARY].concat(DM.map(t=>"".concat(t,"x"))).concat(NX.map(t=>"w-".concat(t))),DX={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},LX={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},MX={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},ex={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Oo="___FONT_AWESOME___",CI=16,LM="fa",MM="svg-inline--fa",bu="data-fa-i2svg",kI="data-fa-pseudo-element",VX="data-fa-pseudo-element-pending",J1="data-prefix",X1="data-icon",tx="fontawesome-i2svg",FX="async",UX=["HTML","HEAD","STYLE","SCRIPT"],VM=(()=>{try{return!0}catch{return!1}})(),FM=[dn,yi,wi];function mm(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[dn]}})}const UM={...OM};UM[dn]={...OM[dn],...Xk.kit,...Xk["kit-duotone"]};const uu=mm(UM),xI={...kX};xI[dn]={...xI[dn],...ex.kit,...ex["kit-duotone"]};const Np=mm(xI),NI={...CX};NI[dn]={...NI[dn],...MX.kit};const cu=mm(NI),OI={...bX};OI[dn]={...OI[dn],...LX.kit};const $X=mm(OI),BX=IX,$M="fa-layers-text",zX=SX,jX={...EX};mm(jX);const WX=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],BE=wh,Pd=new Set;Object.keys(Np[dn]).map(Pd.add.bind(Pd));Object.keys(Np[yi]).map(Pd.add.bind(Pd));Object.keys(Np[wi]).map(Pd.add.bind(Pd));const GX=[...TX,...OX],jh=Ka.FontAwesomeConfig||{};function qX(t){var e=Xt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function HX(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Xt&&typeof Xt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=HX(qX(n));i!=null&&(jh[r]=i)});const BM={styleDefault:"solid",familyDefault:"classic",cssPrefix:LM,replacementClass:MM,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jh.familyPrefix&&(jh.cssPrefix=jh.familyPrefix);const Cd={...BM,...jh};Cd.autoReplaceSvg||(Cd.observeMutations=!1);const be={};Object.keys(BM).forEach(t=>{Object.defineProperty(be,t,{enumerable:!0,set:function(e){Cd[t]=e,Wh.forEach(n=>n(be))},get:function(){return Cd[t]}})});Object.defineProperty(be,"familyPrefix",{enumerable:!0,set:function(t){Cd.cssPrefix=t,Wh.forEach(e=>e(be))},get:function(){return Cd.cssPrefix}});Ka.FontAwesomeConfig=be;const Wh=[];function KX(t){return Wh.push(t),()=>{Wh.splice(Wh.indexOf(t),1)}}const ha=CI,Ds={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function QX(t){if(!t||!Bo)return;const e=Xt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Xt.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Xt.head.insertBefore(e,r),t}const YX="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Op(){let t=12,e="";for(;t-- >0;)e+=YX[Math.random()*62|0];return e}function Jd(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function eA(t){return t.classList?Jd(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function zM(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ZX(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(zM(t[n]),'" '),"").trim()}function ew(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function tA(t){return t.size!==Ds.size||t.x!==Ds.x||t.y!==Ds.y||t.rotate!==Ds.rotate||t.flipX||t.flipY}function JX(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(l)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:d}}function XX(t){let{transform:e,width:n=CI,height:r=CI,startCentered:i=!1}=t,s="";return i&&xM?s+="translate(".concat(e.x/ha-n/2,"em, ").concat(e.y/ha-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/ha,"em), calc(-50% + ").concat(e.y/ha,"em)) "):s+="translate(".concat(e.x/ha,"em, ").concat(e.y/ha,"em) "),s+="scale(".concat(e.size/ha*(e.flipX?-1:1),", ").concat(e.size/ha*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var eee=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function jM(){const t=LM,e=MM,n=be.cssPrefix,r=be.replacementClass;let i=eee;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(l,".".concat(r))}return i}let nx=!1;function zE(){be.autoAddCss&&!nx&&(QX(jM()),nx=!0)}var tee={mixout(){return{dom:{css:jM,insertCss:zE}}},hooks(){return{beforeDOMElementCreation(){zE()},beforeI2svg(){zE()}}}};const Do=Ka||{};Do[Oo]||(Do[Oo]={});Do[Oo].styles||(Do[Oo].styles={});Do[Oo].hooks||(Do[Oo].hooks={});Do[Oo].shims||(Do[Oo].shims=[]);var Ls=Do[Oo];const WM=[],GM=function(){Xt.removeEventListener("DOMContentLoaded",GM),Hv=1,WM.map(t=>t())};let Hv=!1;Bo&&(Hv=(Xt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xt.readyState),Hv||Xt.addEventListener("DOMContentLoaded",GM));function nee(t){Bo&&(Hv?setTimeout(t,0):WM.push(t))}function gm(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?zM(t):"<".concat(e," ").concat(ZX(n),">").concat(r.map(gm).join(""),"</").concat(e,">")}function rx(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var jE=function(e,n,r,i){var s=Object.keys(e),o=s.length,l=n,u,d,p;for(r===void 0?(u=1,p=e[s[0]]):(u=0,p=r);u<o;u++)d=s[u],p=l(p,e[d],d,e);return p};function ree(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function DI(t){const e=ree(t);return e.length===1?e[0].toString(16):null}function iee(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function ix(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function LI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=ix(e);typeof Ls.hooks.addPack=="function"&&!r?Ls.hooks.addPack(t,ix(e)):Ls.styles[t]={...Ls.styles[t]||{},...i},t==="fas"&&LI("fa",e)}const{styles:Hl,shims:see}=Ls,oee={[dn]:Object.values(cu[dn]),[yi]:Object.values(cu[yi]),[wi]:Object.values(cu[wi])};let nA=null,qM={},HM={},KM={},QM={},YM={};const aee={[dn]:Object.keys(uu[dn]),[yi]:Object.keys(uu[yi]),[wi]:Object.keys(uu[wi])};function lee(t){return~GX.indexOf(t)}function uee(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!lee(i)?i:null}const ZM=()=>{const t=r=>jE(Hl,(i,s,o)=>(i[o]=jE(s,r,{}),i),{});qM=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=s}),r)),HM=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=s}),r)),YM=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(l=>{r[l]=s}),r});const e="far"in Hl||be.autoFetchSvg,n=jE(see,(r,i)=>{const s=i[0];let o=i[1];const l=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:l}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:l}),r},{names:{},unicodes:{}});KM=n.names,QM=n.unicodes,nA=tw(be.styleDefault,{family:be.familyDefault})};KX(t=>{nA=tw(t.styleDefault,{family:be.familyDefault})});ZM();function rA(t,e){return(qM[t]||{})[e]}function cee(t,e){return(HM[t]||{})[e]}function xa(t,e){return(YM[t]||{})[e]}function JM(t){return KM[t]||{prefix:null,iconName:null}}function dee(t){const e=QM[t],n=rA("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Qa(){return nA}const iA=()=>({prefix:null,iconName:null,rest:[]});function tw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=dn}=e,r=uu[n][t],i=Np[n][t]||Np[n][r],s=t in Ls.styles?t:null;return i||s||null}const fee={[dn]:Object.keys(cu[dn]),[yi]:Object.keys(cu[yi]),[wi]:Object.keys(cu[wi])};function nw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[dn]:"".concat(be.cssPrefix,"-").concat(dn),[yi]:"".concat(be.cssPrefix,"-").concat(yi),[wi]:"".concat(be.cssPrefix,"-").concat(wi)};let i=null,s=dn;const o=wX.filter(u=>u!==NM);o.forEach(u=>{(t.includes(r[u])||t.some(d=>fee[u].includes(d)))&&(s=u)});const l=t.reduce((u,d)=>{const p=uee(be.cssPrefix,d);if(Hl[d]?(d=oee[s].includes(d)?$X[s][d]:d,i=d,u.prefix=d):aee[s].indexOf(d)>-1?(i=d,u.prefix=tw(d,{family:s})):p?u.iconName=p:d!==be.replacementClass&&!o.some(m=>d===r[m])&&u.rest.push(d),!n&&u.prefix&&u.iconName){const m=i==="fa"?JM(u.iconName):{},_=xa(u.prefix,u.iconName);m.prefix&&(i=null),u.iconName=m.iconName||_||u.iconName,u.prefix=m.prefix||u.prefix,u.prefix==="far"&&!Hl.far&&Hl.fas&&!be.autoFetchSvg&&(u.prefix="fas")}return u},iA());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&s===yi&&(Hl.fass||be.autoFetchSvg)&&(l.prefix="fass",l.iconName=xa(l.prefix,l.iconName)||l.iconName),!l.prefix&&s===wi&&(Hl.fasds||be.autoFetchSvg)&&(l.prefix="fasds",l.iconName=xa(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||i==="fa")&&(l.prefix=Qa()||"fas"),l}class hee{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},LI(s,i[s]);const o=cu[dn][s];o&&LI(o,i[s]),ZM()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:l}=r[i],u=l[2];e[s]||(e[s]={}),u.length>0&&u.forEach(d=>{typeof d=="string"&&(e[s][d]=l)}),e[s][o]=l}),e}}let sx=[],Hc={};const id={},pee=Object.keys(id);function mee(t,e){let{mixoutsTo:n}=e;return sx=t,Hc={},Object.keys(id).forEach(r=>{pee.indexOf(r)===-1&&delete id[r]}),sx.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{Hc[o]||(Hc[o]=[]),Hc[o].push(s[o])})}r.provides&&r.provides(id)}),n}function MI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Hc[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Pu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Hc[t]||[]).forEach(s=>{s.apply(null,n)})}function Ya(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return id[t]?id[t].apply(null,e):void 0}function VI(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Qa();if(e)return e=xa(n,e)||e,rx(XM.definitions,n,e)||rx(Ls.styles,n,e)}const XM=new hee,gee=()=>{be.autoReplaceSvg=!1,be.observeMutations=!1,Pu("noAuto")},_ee={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Bo?(Pu("beforeI2svg",t),Ya("pseudoElements2svg",t),Ya("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;be.autoReplaceSvg===!1&&(be.autoReplaceSvg=!0),be.observeMutations=!0,nee(()=>{yee({autoReplaceSvgRoot:e}),Pu("watch",t)})}},vee={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:xa(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=tw(t[0]);return{prefix:n,iconName:xa(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(be.cssPrefix,"-"))>-1||t.match(BX))){const e=nw(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Qa(),iconName:xa(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Qa();return{prefix:e,iconName:xa(e,t)||t}}}},Ri={noAuto:gee,config:be,dom:_ee,parse:vee,library:XM,findIconDefinition:VI,toHtml:gm},yee=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Xt}=t;(Object.keys(Ls.styles).length>0||be.autoFetchSvg)&&Bo&&be.autoReplaceSvg&&Ri.dom.i2svg({node:e})};function rw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>gm(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Bo)return;const n=Xt.createElement("div");return n.innerHTML=t.html,n.children}}),t}function wee(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(tA(o)&&n.found&&!r.found){const{width:l,height:u}=n,d={x:l/u/2,y:.5};i.style=ew({...s,"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function Eee(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(be.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:r}]}]}function sA(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:l,maskId:u,titleId:d,extra:p,watchable:m=!1}=t,{width:_,height:y}=n.found?n:e,S=r==="fak",R=[be.replacementClass,i?"".concat(be.cssPrefix,"-").concat(i):""].filter(B=>p.classes.indexOf(B)===-1).filter(B=>B!==""||!!B).concat(p.classes).join(" ");let D={children:[],attributes:{...p.attributes,"data-prefix":r,"data-icon":i,class:R,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(y)}};const T=S&&!~p.classes.indexOf("fa-fw")?{width:"".concat(_/y*16*.0625,"em")}:{};m&&(D.attributes[bu]=""),l&&(D.children.push({tag:"title",attributes:{id:D.attributes["aria-labelledby"]||"title-".concat(d||Op())},children:[l]}),delete D.attributes.title);const A={...D,prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:s,symbol:o,styles:{...T,...p.styles}},{children:b,attributes:F}=n.found&&e.found?Ya("generateAbstractMask",A)||{children:[],attributes:{}}:Ya("generateAbstractIcon",A)||{children:[],attributes:{}};return A.children=b,A.attributes=F,o?Eee(A):wee(A)}function ox(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:l=!1}=t,u={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};l&&(u[bu]="");const d={...o.styles};tA(i)&&(d.transform=XX({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const p=ew(d);p.length>0&&(u.style=p);const m=[];return m.push({tag:"span",attributes:u,children:[e]}),s&&m.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),m}function Tee(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=ew(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:WE}=Ls;function FI(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(be.cssPrefix,"-").concat(BE.GROUP)},children:[{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(BE.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(BE.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const Iee={found:!1,width:512,height:512};function See(t,e){!VM&&!be.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function UI(t,e){let n=e;return e==="fa"&&be.styleDefault!==null&&(e=Qa()),new Promise((r,i)=>{if(n==="fa"){const s=JM(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&WE[e]&&WE[e][t]){const s=WE[e][t];return r(FI(s))}See(t,e),r({...Iee,icon:be.showMissingIcons&&t?Ya("missingIconAbstract")||{}:{}})})}const ax=()=>{},$I=be.measurePerformance&&v_&&v_.mark&&v_.measure?v_:{mark:ax,measure:ax},Eh='FA "6.6.0"',Aee=t=>($I.mark("".concat(Eh," ").concat(t," begins")),()=>eV(t)),eV=t=>{$I.mark("".concat(Eh," ").concat(t," ends")),$I.measure("".concat(Eh," ").concat(t),"".concat(Eh," ").concat(t," begins"),"".concat(Eh," ").concat(t," ends"))};var oA={begin:Aee,end:eV};const j_=()=>{};function lx(t){return typeof(t.getAttribute?t.getAttribute(bu):null)=="string"}function Ree(t){const e=t.getAttribute?t.getAttribute(J1):null,n=t.getAttribute?t.getAttribute(X1):null;return e&&n}function bee(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(be.replacementClass)}function Pee(){return be.autoReplaceSvg===!0?W_.replace:W_[be.autoReplaceSvg]||W_.replace}function Cee(t){return Xt.createElementNS("http://www.w3.org/2000/svg",t)}function kee(t){return Xt.createElement(t)}function tV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?Cee:kee}=e;if(typeof t=="string")return Xt.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(tV(s,{ceFn:n}))}),r}function xee(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const W_={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(tV(n),e)}),e.getAttribute(bu)===null&&be.keepOriginalSource){let n=Xt.createComment(xee(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~eA(e).indexOf(be.replacementClass))return W_.replace(t);const r=new RegExp("".concat(be.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,l)=>(l===be.replacementClass||l.match(r)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>gm(s)).join(`
`);e.setAttribute(bu,""),e.innerHTML=i}};function ux(t){t()}function nV(t,e){const n=typeof e=="function"?e:j_;if(t.length===0)n();else{let r=ux;be.mutateApproach===FX&&(r=Ka.requestAnimationFrame||ux),r(()=>{const i=Pee(),s=oA.begin("mutate");t.map(i),s(),n()})}}let aA=!1;function rV(){aA=!0}function BI(){aA=!1}let Kv=null;function cx(t){if(!Jk||!be.observeMutations)return;const{treeCallback:e=j_,nodeCallback:n=j_,pseudoElementsCallback:r=j_,observeMutationsRoot:i=Xt}=t;Kv=new Jk(s=>{if(aA)return;const o=Qa();Jd(s).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!lx(l.addedNodes[0])&&(be.searchPseudoElements&&r(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&be.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&lx(l.target)&&~WX.indexOf(l.attributeName))if(l.attributeName==="class"&&Ree(l.target)){const{prefix:u,iconName:d}=nw(eA(l.target));l.target.setAttribute(J1,u||o),d&&l.target.setAttribute(X1,d)}else bee(l.target)&&n(l.target)})}),Bo&&Kv.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Nee(){Kv&&Kv.disconnect()}function Oee(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],l=s.slice(1);return o&&l.length>0&&(r[o]=l.join(":").trim()),r},{})),n}function Dee(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=nw(eA(t));return i.prefix||(i.prefix=Qa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=cee(i.prefix,t.innerText)||rA(i.prefix,DI(t.innerText))),!i.iconName&&be.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Lee(t){const e=Jd(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return be.autoA11y&&(n?e["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(r||Op()):(e["aria-hidden"]="true",e.focusable="false")),e}function Mee(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ds,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function dx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=Dee(t),s=Lee(t),o=MI("parseNodeAttributes",{},t);let l=e.styleParser?Oee(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Ds,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:s},...o}}const{styles:Vee}=Ls;function iV(t){const e=be.autoReplaceSvg==="nest"?dx(t,{styleParser:!1}):dx(t);return~e.extra.classes.indexOf($M)?Ya("generateLayersText",t,e):Ya("generateSvgReplacementMutation",t,e)}let Gs=new Set;FM.map(t=>{Gs.add("fa-".concat(t))});Object.keys(uu[dn]).map(Gs.add.bind(Gs));Object.keys(uu[yi]).map(Gs.add.bind(Gs));Object.keys(uu[wi]).map(Gs.add.bind(Gs));Gs=[...Gs];function fx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Bo)return Promise.resolve();const n=Xt.documentElement.classList,r=p=>n.add("".concat(tx,"-").concat(p)),i=p=>n.remove("".concat(tx,"-").concat(p)),s=be.autoFetchSvg?Gs:FM.map(p=>"fa-".concat(p)).concat(Object.keys(Vee));s.includes("fa")||s.push("fa");const o=[".".concat($M,":not([").concat(bu,"])")].concat(s.map(p=>".".concat(p,":not([").concat(bu,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=Jd(t.querySelectorAll(o))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();const u=oA.begin("onTree"),d=l.reduce((p,m)=>{try{const _=iV(m);_&&p.push(_)}catch(_){VM||_.name==="MissingIcon"&&console.error(_)}return p},[]);return new Promise((p,m)=>{Promise.all(d).then(_=>{nV(_,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),p()})}).catch(_=>{u(),m(_)})})}function Fee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;iV(t).then(n=>{n&&nV([n],e)})}function Uee(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:VI(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:VI(i||{})),t(r,{...n,mask:i})}}const $ee=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ds,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:l=null,classes:u=[],attributes:d={},styles:p={}}=e;if(!t)return;const{prefix:m,iconName:_,icon:y}=t;return rw({type:"icon",...t},()=>(Pu("beforeDOMElementCreation",{iconDefinition:t,params:e}),be.autoA11y&&(o?d["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(l||Op()):(d["aria-hidden"]="true",d.focusable="false")),sA({icons:{main:FI(y),mask:i?FI(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:_,transform:{...Ds,...n},symbol:r,title:o,maskId:s,titleId:l,extra:{attributes:d,styles:p,classes:u}})))};var Bee={mixout(){return{icon:Uee($ee)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=fx,t.nodeCallback=Fee,t}}},provides(t){t.i2svg=function(e){const{node:n=Xt,callback:r=()=>{}}=e;return fx(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:l,symbol:u,mask:d,maskId:p,extra:m}=n;return new Promise((_,y)=>{Promise.all([UI(r,o),d.iconName?UI(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[R,D]=S;_([e,sA({icons:{main:R,mask:D},prefix:o,iconName:r,transform:l,symbol:u,maskId:p,title:i,titleId:s,extra:m,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const l=ew(o);l.length>0&&(r.style=l);let u;return tA(s)&&(u=Ya("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:r}}}},zee={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return rw({type:"layer"},()=>{Pu("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(be.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},jee={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return rw({type:"counter",content:t},()=>(Pu("beforeDOMElementCreation",{content:t,params:e}),Tee({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(be.cssPrefix,"-layers-counter"),...r]}})))}}}},Wee={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ds,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return rw({type:"text",content:t},()=>(Pu("beforeDOMElementCreation",{content:t,params:e}),ox({content:t,transform:{...Ds,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat(be.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,l=null;if(xM){const u=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();o=d.width/u,l=d.height/u}return be.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,ox({content:e.innerHTML,width:o,height:l,transform:i,title:r,extra:s,watchable:!0})])}}};const Gee=new RegExp('"',"ug"),hx=[1105920,1112319],px={FontAwesome:{normal:"fas",400:"fas"},...RX,...AX,...DX},zI=Object.keys(px).reduce((t,e)=>(t[e.toLowerCase()]=px[e],t),{}),qee=Object.keys(zI).reduce((t,e)=>{const n=zI[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Hee(t){const e=t.replace(Gee,""),n=iee(e,0),r=n>=hx[0]&&n<=hx[1],i=e.length===2?e[0]===e[1]:!1;return{value:DI(i?e[0]:e),isSecondary:r||i}}function Kee(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(zI[n]||{})[i]||qee[n]}function mx(t,e){const n="".concat(VX).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Jd(t.children).filter(_=>_.getAttribute(kI)===e)[0],l=Ka.getComputedStyle(t,e),u=l.getPropertyValue("font-family"),d=u.match(zX),p=l.getPropertyValue("font-weight"),m=l.getPropertyValue("content");if(o&&!d)return t.removeChild(o),r();if(d&&m!=="none"&&m!==""){const _=l.getPropertyValue("content");let y=Kee(u,p);const{value:S,isSecondary:R}=Hee(_),D=d[0].startsWith("FontAwesome");let T=rA(y,S),A=T;if(D){const b=dee(S);b.iconName&&b.prefix&&(T=b.iconName,y=b.prefix)}if(T&&!R&&(!o||o.getAttribute(J1)!==y||o.getAttribute(X1)!==A)){t.setAttribute(n,A),o&&t.removeChild(o);const b=Mee(),{extra:F}=b;F.attributes[kI]=e,UI(T,y).then(B=>{const z=sA({...b,icons:{main:B,mask:iA()},prefix:y,iconName:A,extra:F,watchable:!0}),x=Xt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(x,t.firstChild):t.appendChild(x),x.outerHTML=z.map(I=>gm(I)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Qee(t){return Promise.all([mx(t,"::before"),mx(t,"::after")])}function Yee(t){return t.parentNode!==document.head&&!~UX.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(kI)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function gx(t){if(Bo)return new Promise((e,n)=>{const r=Jd(t.querySelectorAll("*")).filter(Yee).map(Qee),i=oA.begin("searchPseudoElements");rV(),Promise.all(r).then(()=>{i(),BI(),e()}).catch(()=>{i(),BI(),n()})})}var Zee={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=gx,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Xt}=e;be.searchPseudoElements&&gx(n)}}};let _x=!1;var Jee={mixout(){return{dom:{unwatch(){rV(),_x=!0}}}},hooks(){return{bootstrap(){cx(MI("mutationObserverCallbacks",{}))},noAuto(){Nee()},watch(t){const{observeMutationsRoot:e}=t;_x?BI():cx(MI("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const vx=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var Xee={mixout(){return{parse:{transform:t=>vx(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=vx(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),p={transform:"".concat(l," ").concat(u," ").concat(d)},m={transform:"translate(".concat(s/2*-1," -256)")},_={outer:o,inner:p,path:m};return{tag:"g",attributes:{..._.outer},children:[{tag:"g",attributes:{..._.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,..._.path}}]}]}}}};const GE={x:0,y:0,width:"100%",height:"100%"};function yx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ete(t){return t.tag==="g"?t.children:[t]}var tte={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?nw(n.split(" ").map(i=>i.trim())):iA();return r.prefix||(r.prefix=Qa()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:l}=e;const{width:u,icon:d}=i,{width:p,icon:m}=s,_=JX({transform:l,containerWidth:p,iconWidth:u}),y={tag:"rect",attributes:{...GE,fill:"white"}},S=d.children?{children:d.children.map(yx)}:{},R={tag:"g",attributes:{..._.inner},children:[yx({tag:d.tag,attributes:{...d.attributes,..._.path},...S})]},D={tag:"g",attributes:{..._.outer},children:[R]},T="mask-".concat(o||Op()),A="clip-".concat(o||Op()),b={tag:"mask",attributes:{...GE,id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[y,D]},F={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:ete(m)},b]};return n.push(F,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(T,")"),...GE}}),{children:n,attributes:r}}}},nte={provides(t){let e=!1;Ka.matchMedia&&(e=Ka.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},rte={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},ite=[tee,Bee,zee,jee,Wee,Zee,Jee,Xee,tte,nte,rte];mee(ite,{mixoutsTo:Ri});Ri.noAuto;Ri.config;Ri.library;Ri.dom;const jI=Ri.parse;Ri.findIconDefinition;Ri.toHtml;const ste=Ri.icon;Ri.layer;Ri.text;Ri.counter;function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){Kc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Kc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ate(t,e){if(t==null)return{};var n=ote(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WI(t){return lte(t)||ute(t)||cte(t)||dte()}function lte(t){if(Array.isArray(t))return GI(t)}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cte(t,e){if(t){if(typeof t=="string")return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,l=t.flash,u=t.spin,d=t.spinPulse,p=t.spinReverse,m=t.pulse,_=t.fixedWidth,y=t.inverse,S=t.border,R=t.listItem,D=t.flip,T=t.size,A=t.rotation,b=t.pull,F=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":l,"fa-spin":u,"fa-spin-reverse":p,"fa-spin-pulse":d,"fa-pulse":m,"fa-fw":_,"fa-inverse":y,"fa-border":S,"fa-li":R,"fa-flip":D===!0,"fa-flip-horizontal":D==="horizontal"||D==="both","fa-flip-vertical":D==="vertical"||D==="both"},Kc(e,"fa-".concat(T),typeof T<"u"&&T!==null),Kc(e,"fa-rotate-".concat(A),typeof A<"u"&&A!==null&&A!==0),Kc(e,"fa-pull-".concat(b),typeof b<"u"&&b!==null),Kc(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(F).map(function(B){return F[B]?B:null}).filter(function(B){return B})}function hte(t){return t=t-0,t===t}function sV(t){return hte(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var pte=["style"];function mte(t){return t.charAt(0).toUpperCase()+t.slice(1)}function gte(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=sV(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[mte(i)]=s:e[i]=s,e},{})}function oV(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return oV(t,u)}),i=Object.keys(e.attributes||{}).reduce(function(u,d){var p=e.attributes[d];switch(d){case"class":u.attrs.className=p,delete e.attributes.class;break;case"style":u.attrs.style=gte(p);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?u.attrs[d.toLowerCase()]=p:u.attrs[sV(d)]=p}return u},{attrs:{}}),s=n.style,o=s===void 0?{}:s,l=ate(n,pte);return i.attrs.style=Ps(Ps({},i.attrs.style),o),t.apply(void 0,[e.tag,Ps(Ps({},i.attrs),l)].concat(WI(r)))}var aV=!1;try{aV=!0}catch{}function _te(){if(!aV&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Ex(t){if(t&&Qv(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(jI.icon)return jI.icon(t);if(t===null)return null;if(t&&Qv(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function qE(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Kc({},t,e):{}}var Tx={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},lV=qe.forwardRef(function(t,e){var n=Ps(Ps({},Tx),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,l=n.title,u=n.titleId,d=n.maskId,p=Ex(r),m=qE("classes",[].concat(WI(fte(n)),WI((o||"").split(" ")))),_=qE("transform",typeof n.transform=="string"?jI.transform(n.transform):n.transform),y=qE("mask",Ex(i)),S=ste(p,Ps(Ps(Ps(Ps({},m),_),y),{},{symbol:s,title:l,titleId:u,maskId:d}));if(!S)return _te("Could not find icon",p),null;var R=S.abstract,D={ref:e};return Object.keys(n).forEach(function(T){Tx.hasOwnProperty(T)||(D[T]=n[T])}),vte(R[0],D)});lV.displayName="FontAwesomeIcon";lV.propTypes={beat:at.bool,border:at.bool,beatFade:at.bool,bounce:at.bool,className:at.string,fade:at.bool,flash:at.bool,mask:at.oneOfType([at.object,at.array,at.string]),maskId:at.string,fixedWidth:at.bool,inverse:at.bool,flip:at.oneOf([!0,!1,"horizontal","vertical","both"]),icon:at.oneOfType([at.object,at.array,at.string]),listItem:at.bool,pull:at.oneOf(["right","left"]),pulse:at.bool,rotation:at.oneOf([0,90,180,270]),shake:at.bool,size:at.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:at.bool,spinPulse:at.bool,spinReverse:at.bool,symbol:at.oneOfType([at.bool,at.string]),title:at.string,titleId:at.string,transform:at.oneOfType([at.string,at.object]),swapOpacity:at.bool};var vte=oV.bind(null,qe.createElement),Ix={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let _=(l&15)<<2|d>>6,y=d&63;u||(y=64,o||(_=64)),r.push(n[p],n[m],n[_],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new wte;const _=s<<2|l>>4;if(r.push(_),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ete=function(t){const e=uV(t);return cV.encodeByteArray(e,!0)},Yv=function(t){return Ete(t).replace(/\./g,"")},dV=function(t){try{return cV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Tte(n)||(t[n]=Zv(t[n],e[n]));return t}function Tte(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=()=>fV().__FIREBASE_DEFAULTS__,Ste=()=>{if(typeof process>"u"||typeof Ix>"u")return;const t=Ix.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ate=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dV(t[1]);return e&&JSON.parse(e)},iw=()=>{try{return Ite()||Ste()||Ate()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rte=t=>{var e,n;return(n=(e=iw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bte=t=>{const e=Rte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hV=()=>{var t;return(t=iw())===null||t===void 0?void 0:t.config},Pte=t=>{var e;return(e=iw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yv(JSON.stringify(n)),Yv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function lA(){var t;const e=(t=iw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nte(){return typeof window<"u"||pV()}function pV(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function mV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gV(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _V(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dp(){try{return typeof indexedDB=="object"}catch{return!1}}function Ote(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dte,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lte(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Mr(i,l,r)}}function Lte(t,e){return t.replace(Mte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ax(s)&&Ax(o)){if(!Lp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ax(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vV(t,e){const n=new Fte(t,e);return n.subscribe.bind(n)}class Fte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ute(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=HE),i.error===void 0&&(i.error=HE),i.complete===void 0&&(i.complete=HE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ute(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function HE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zte(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bte(t){return t===Wl?void 0:t}function zte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $te(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=[];var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const wV={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},jte=lt.INFO,Wte={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Gte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Wte[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sw{constructor(e){this.name=e,this._logLevel=jte,this._logHandler=Gte,this._userLogHandler=null,cA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}function qte(t){cA.forEach(e=>{e.setLogLevel(t)})}function Hte(t,e){for(const n of cA){let r=null;e&&e.level&&(r=wV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:lt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const Kte=(t,e)=>e.some(n=>t instanceof n);let Rx,bx;function Qte(){return Rx||(Rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yte(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EV=new WeakMap,qI=new WeakMap,TV=new WeakMap,KE=new WeakMap,dA=new WeakMap;function Zte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(za(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EV.set(n,t)}).catch(()=>{}),dA.set(e,t),e}function Jte(t){if(qI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qI.set(t,e)}let HI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xte(t){HI=t(HI)}function ene(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(QE(this),e,...n);return TV.set(r,e.sort?e.sort():[e]),za(r)}:Yte().includes(t)?function(...e){return t.apply(QE(this),e),za(EV.get(this))}:function(...e){return za(t.apply(QE(this),e))}}function tne(t){return typeof t=="function"?ene(t):(t instanceof IDBTransaction&&Jte(t),Kte(t,Qte())?new Proxy(t,HI):t)}function za(t){if(t instanceof IDBRequest)return Zte(t);if(KE.has(t))return KE.get(t);const e=tne(t);return e!==t&&(KE.set(t,e),dA.set(e,t)),e}const QE=t=>dA.get(t);function nne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=za(o);return r&&o.addEventListener("upgradeneeded",u=>{r(za(o.result),u.oldVersion,u.newVersion,za(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const rne=["get","getKey","getAll","getAllKeys","count"],ine=["put","add","delete","clear"],YE=new Map;function Px(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(YE.get(e))return YE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ine.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rne.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return YE.set(e,s),s}Xte(t=>({...t,get:(e,n,r)=>Px(e,n)||t.get(e,n,r),has:(e,n)=>!!Px(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(one(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function one(t){const e=t.getComponent();return e?.type==="VERSION"}const Jv="@firebase/app",KI="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new sw("@firebase/app"),ane="@firebase/app-compat",lne="@firebase/analytics-compat",une="@firebase/analytics",cne="@firebase/app-check-compat",dne="@firebase/app-check",fne="@firebase/auth",hne="@firebase/auth-compat",pne="@firebase/database",mne="@firebase/database-compat",gne="@firebase/functions",_ne="@firebase/functions-compat",vne="@firebase/installations",yne="@firebase/installations-compat",wne="@firebase/messaging",Ene="@firebase/messaging-compat",Tne="@firebase/performance",Ine="@firebase/performance-compat",Sne="@firebase/remote-config",Ane="@firebase/remote-config-compat",Rne="@firebase/storage",bne="@firebase/storage-compat",Pne="@firebase/firestore",Cne="@firebase/vertexai-preview",kne="@firebase/firestore-compat",xne="firebase",Nne="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]",One={[Jv]:"fire-core",[ane]:"fire-core-compat",[une]:"fire-analytics",[lne]:"fire-analytics-compat",[dne]:"fire-app-check",[cne]:"fire-app-check-compat",[fne]:"fire-auth",[hne]:"fire-auth-compat",[pne]:"fire-rtdb",[mne]:"fire-rtdb-compat",[gne]:"fire-fn",[_ne]:"fire-fn-compat",[vne]:"fire-iid",[yne]:"fire-iid-compat",[wne]:"fire-fcm",[Ene]:"fire-fcm-compat",[Tne]:"fire-perf",[Ine]:"fire-perf-compat",[Sne]:"fire-rc",[Ane]:"fire-rc-compat",[Rne]:"fire-gcs",[bne]:"fire-gcs-compat",[Pne]:"fire-fst",[kne]:"fire-fst-compat",[Cne]:"fire-vertex","fire-js":"fire-js",[xne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Map,kd=new Map,xd=new Map;function Mp(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function IV(t,e){t.container.addOrOverwriteComponent(e)}function Xa(t){const e=t.name;if(xd.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of Ja.values())Mp(n,t);for(const n of kd.values())Mp(n,t);return!0}function fA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dne(t,e,n=Za){fA(t,e).clearInstance(n)}function SV(t){return t.options!==void 0}function Sn(t){return t.settings!==void 0}function Lne(){xd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new qu("app","Firebase",Mne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AV=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne extends AV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const l=e;super(l.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Hi(Jv,KI,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){hA(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw qi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=Nne;function ef(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Za,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=hV()),!n)throw qi.create("no-options");const s=Ja.get(i);if(s){if(Lp(n,s.options)&&Lp(r,s.config))return s;throw qi.create("duplicate-app",{appName:i})}const o=new yV(i);for(const u of xd.values())o.addComponent(u);const l=new AV(n,r,o);return Ja.set(i,l),l}function Fne(t,e){if(Nte()&&!pV())throw qi.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;SV(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((p,m)=>Math.imul(31,p)+m.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw qi.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=kd.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const l=new yV(s);for(const d of xd.values())l.addComponent(d);const u=new Vne(n,e,s,l);return kd.set(s,u),u}function RV(t=Za){const e=Ja.get(t);if(!e&&t===Za&&hV())return ef();if(!e)throw qi.create("no-app",{appName:t});return e}function Une(){return Array.from(Ja.values())}async function hA(t){let e=!1;const n=t.name;Ja.has(n)?(e=!0,Ja.delete(n)):kd.has(n)&&t.decRefCount()<=0&&(kd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Hi(t,e,n){var r;let i=(r=One[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(l.join(" "));return}Xa(new qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function bV(t,e){if(t!==null&&typeof t!="function")throw qi.create("invalid-log-argument");Hte(t,e)}function PV(t){qte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="firebase-heartbeat-database",Bne=1,Vp="firebase-heartbeat-store";let ZE=null;function CV(){return ZE||(ZE=nne($ne,Bne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vp)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),ZE}async function zne(t){try{const n=(await CV()).transaction(Vp),r=await n.objectStore(Vp).get(kV(t));return await n.done,r}catch(e){if(e instanceof Mr)Lo.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e?.message});Lo.warn(n.message)}}}async function Cx(t,e){try{const r=(await CV()).transaction(Vp,"readwrite");await r.objectStore(Vp).put(e,kV(t)),await r.done}catch(n){if(n instanceof Mr)Lo.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n?.message});Lo.warn(r.message)}}}function kV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jne=1024,Wne=30*24*60*60*1e3;class Gne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Wne}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kx(),{heartbeatsToSend:r,unsentEntries:i}=qne(this._heartbeatsCache.heartbeats),s=Yv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Lo.warn(n),""}}}function kx(){return new Date().toISOString().substring(0,10)}function qne(t,e=jne){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dp()?Ote().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zne(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xx(t){return Yv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(t){Xa(new qs("platform-logger",e=>new sne(e),"PRIVATE")),Xa(new qs("heartbeat",e=>new Gne(e),"PRIVATE")),Hi(Jv,KI,t),Hi(Jv,KI,"esm2017"),Hi("fire-js","")}Kne("");const Qne=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Mr,SDK_VERSION:hl,_DEFAULT_ENTRY_NAME:Za,_addComponent:Mp,_addOrOverwriteComponent:IV,_apps:Ja,_clearComponents:Lne,_components:xd,_getProvider:fA,_isFirebaseApp:SV,_isFirebaseServerApp:Sn,_registerComponent:Xa,_removeServiceInstance:Dne,_serverApps:kd,deleteApp:hA,getApp:RV,getApps:Une,initializeApp:ef,initializeServerApp:Fne,onLog:bV,registerVersion:Hi,setLogLevel:PV},Symbol.toStringTag,{value:"Module"}));var Yne="firebase",Zne="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(Yne,Zne,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n){this._delegate=e,this.firebase=n,Mp(e,new qs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hA(this._delegate)))}_getService(e,n=Za){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Za){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Mp(this._delegate,e)}_addOrOverwriteComponent(e){IV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Nx=new qu("app-compat","Firebase",Xne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Hi,setLogLevel:PV,onLog:bV,apps:null,SDK_VERSION:hl,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:Qne}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(d){delete e[d]}function i(d){if(d=d||Za,!Sx(e,d))throw Nx.create("no-app",{appName:d});return e[d]}i.App=t;function s(d,p={}){const m=ef(d,p);if(Sx(e,m.name))return e[m.name];const _=new t(m,n);return e[m.name]=_,_}function o(){return Object.keys(e).map(d=>e[d])}function l(d){const p=d.name,m=p.replace("-compat","");if(Xa(d)&&d.type==="PUBLIC"){const _=(y=i())=>{if(typeof y[m]!="function")throw Nx.create("invalid-app-argument",{appName:p});return y[m]()};d.serviceProps!==void 0&&Zv(_,d.serviceProps),n[m]=_,t.prototype[m]=function(...y){return this._getService.bind(this,p).apply(this,d.multipleInstances?y:[])}}return d.type==="PUBLIC"?n[m]:null}function u(d,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){const t=ere(Jne);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:xV,extendNamespace:e,createSubscribe:vV,ErrorFactory:qu,deepExtend:Zv});function e(n){Zv(t,n)}return t}const tre=xV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new sw("@firebase/app-compat"),nre="@firebase/app-compat",rre="0.2.40";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ire(t){Hi(nre,rre,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=fV();if(t.firebase!==void 0){Ox.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ox.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ow=tre;ire();function pA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const oh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Sc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function NV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ore=sre,are=NV,OV=new qu("auth","Firebase",NV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new sw("@firebase/auth");function lre(t,...e){Xv.logLevel<=lt.WARN&&Xv.warn(`Auth (${hl}): ${t}`,...e)}function G_(t,...e){Xv.logLevel<=lt.ERROR&&Xv.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw gA(t,...e)}function Hn(t,...e){return gA(t,...e)}function mA(t,e,n){const r=Object.assign(Object.assign({},are()),{[e]:n});return new qu("auth","Firebase",r).create(e,{appName:t.name})}function nr(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mr(t,"argument-error"),mA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OV.create(t,...e)}function le(t,e,...n){if(!t)throw gA(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G_(e),new Error(e)}function ms(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _A(){return Dx()==="http:"||Dx()==="https:"}function Dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_A()||mV()||"connection"in navigator)?navigator.onLine:!0}function cre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=xte()||uA()}get(){return ure()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=new _m(3e4,6e4);function Pn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cn(t,e,n,r,i={}){return LV(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Xd(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),DV.fetch()(MV(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function LV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dre),e);try{const i=new pre(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ih(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mA(t,p,d);mr(t,p)}}catch(i){if(i instanceof Mr)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function zo(t,e,n,r,i={}){const s=await Cn(t,e,n,r,i);return"mfaPendingCredential"in s&&mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vA(t.config,i):`${t.config.apiScheme}://${i}`}function hre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),fre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){return t!==void 0&&t.getResponse!==void 0}function Mx(t){return t!==void 0&&t.enterprise!==void 0}class mre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hre(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gre(t){return(await Cn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function _re(t,e){return Cn(t,"GET","/v2/recaptchaConfig",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vre(t,e){return Cn(t,"POST","/v1/accounts:delete",e)}async function yre(t,e){return Cn(t,"POST","/v1/accounts:update",e)}async function VV(t,e){return Cn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wre(t,e=!1){const n=Ve(t),r=await n.getIdToken(e),i=aw(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Gh(JE(i.auth_time)),issuedAtTime:Gh(JE(i.iat)),expirationTime:Gh(JE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function JE(t){return Number(t)*1e3}function aw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return G_("JWT malformed, contained fewer than 3 sections"),null;try{const i=dV(n);return i?JSON.parse(i):(G_("Failed to decode base64 JWT payload"),null)}catch(i){return G_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Vx(t){const e=aw(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&Ere(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ere({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mo(t,VV(n,{idToken:r}));le(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FV(s.providerUserInfo):[],l=Sre(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new QI(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function Ire(t){const e=Ve(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FV(t){return t.map(e=>{var{providerId:n}=e,r=pA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Are(t,e){const n=await LV(t,{},async()=>{const r=Xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MV(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",DV.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rre(t,e){return Cn(t,"POST","/v2/accounts:revokeToken",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Vx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Are(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sd;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sd,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wre(this,e)}reload(){return Ire(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Mo(this,vre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,A=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:b,emailVerified:F,isAnonymous:B,providerData:z,stsTokenManager:x}=n;le(b&&x,e,"internal-error");const I=sd.fromJSON(this.name,x);le(typeof b=="string",e,"internal-error"),pa(m,e.name),pa(_,e.name),le(typeof F=="boolean",e,"internal-error"),le(typeof B=="boolean",e,"internal-error"),pa(y,e.name),pa(S,e.name),pa(R,e.name),pa(D,e.name),pa(T,e.name),pa(A,e.name);const O=new Eo({uid:b,auth:e,email:_,emailVerified:F,displayName:m,isAnonymous:B,photoURL:S,phoneNumber:y,tenantId:R,stsTokenManager:I,createdAt:T,lastLoginAt:A});return z&&Array.isArray(z)&&(O.providerData=z.map(M=>Object.assign({},M))),D&&(O._redirectEventId=D),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new sd;i.updateFromServerResponse(n);const s=new Eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?FV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new sd;l.updateFromIdToken(r);const u=new Eo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new QI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function _i(t){ms(t instanceof Function,"Expected a class definition");let e=Fx.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UV.type="NONE";const Nd=UV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e,n){return`firebase:${t}:${e}:${n}`}class od{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=du(this.userKey,i.apiKey,s),this.fullPersistenceKey=du("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new od(_i(Nd),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||_i(Nd);const o=du(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(o);if(p){const m=Eo._fromJSON(e,p);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new od(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new od(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($V(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WV(e))return"Blackberry";if(GV(e))return"Webos";if(BV(e))return"Safari";if((e.includes("chrome/")||zV(e))&&!e.includes("edge/"))return"Chrome";if(vm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $V(t=wn()){return/firefox\//i.test(t)}function BV(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zV(t=wn()){return/crios\//i.test(t)}function jV(t=wn()){return/iemobile/i.test(t)}function vm(t=wn()){return/android/i.test(t)}function WV(t=wn()){return/blackberry/i.test(t)}function GV(t=wn()){return/webos/i.test(t)}function ym(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bre(t=wn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Pre(t=wn()){var e;return ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cre(){return gV()&&document.documentMode===10}function qV(t=wn()){return ym(t)||vm(t)||GV(t)||WV(t)||/windows phone/i.test(t)||jV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e=[]){let n;switch(t){case"Browser":n=Ux(wn());break;case"Worker":n=`${Ux(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xre(t,e={}){return Cn(t,"GET","/v2/passwordPolicy",Pn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=6;class Ore{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Nre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $x(this),this.idTokenSubscription=new $x(this),this.beforeStateQueue=new kre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await od.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VV(this,{idToken:e}),r=await Eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(nr(this));const n=e?Ve(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xre(this),n=new Ore(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await od.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&lre(`Error while retrieving App Check token: ${n.error}`),n?.token}}function An(t){return Ve(t)}class $x{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lre(t){wm=t}function yA(t){return wm.loadJS(t)}function Mre(){return wm.recaptchaV2Script}function Vre(){return wm.recaptchaEnterpriseScript}function Fre(){return wm.gapiScript}function KV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ure="recaptcha-enterprise",$re="NO_RECAPTCHA";class Bre{constructor(e){this.type=Ure,this.auth=An(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{_re(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new mre(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Mx(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o($re)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Mx(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Vre();u.length!==0&&(u+=l),yA(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Bx(t,e,n,r=!1){const i=new Bre(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $p(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Bx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Bx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function zre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function jre(t,e,n){const r=An(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=QV(e),{host:o,port:l}=Wre(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Gre()}function QV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wre(t){const e=QV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zx(o)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e){return Cn(t,"POST","/v1/accounts:resetPassword",Pn(t,e))}async function qre(t,e){return Cn(t,"POST","/v1/accounts:update",e)}async function Hre(t,e){return Cn(t,"POST","/v1/accounts:signUp",e)}async function Kre(t,e){return Cn(t,"POST","/v1/accounts:update",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qre(t,e){return zo(t,"POST","/v1/accounts:signInWithPassword",Pn(t,e))}async function lw(t,e){return Cn(t,"POST","/v1/accounts:sendOobCode",Pn(t,e))}async function Yre(t,e){return lw(t,e)}async function Zre(t,e){return lw(t,e)}async function Jre(t,e){return lw(t,e)}async function Xre(t,e){return lw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eie(t,e){return zo(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,e))}async function tie(t,e){return zo(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends nf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,n,"signInWithPassword",Qre);case"emailLink":return eie(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,r,"signUpPassword",Hre);case"emailLink":return tie(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return zo(t,"POST","/v1/accounts:signInWithIdp",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie="http://localhost";class Hs extends nf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pA(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:nie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rie(t,e){return Cn(t,"POST","/v1/accounts:sendVerificationCode",Pn(t,e))}async function iie(t,e){return zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,e))}async function sie(t,e){const n=await zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,e));if(n.temporaryProof)throw Ih(t,"account-exists-with-different-credential",n);return n}const oie={USER_NOT_FOUND:"user-not-found"};async function aie(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,n),oie)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends nf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new fu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new fu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return iie(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return sie(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return aie(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new fu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uie(t){const e=Qc(Th(t)).link,n=e?Qc(Th(e)).deep_link_id:null,r=Qc(Th(t)).deep_link_id;return(r?Qc(Th(r)).link:null)||r||n||e||t}class uw{constructor(e){var n,r,i,s,o,l;const u=Qc(Th(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=lie((i=u.mode)!==null&&i!==void 0?i:null);le(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=uie(e);try{return new uw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return Bp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uw.parseLink(n);return le(r,"argument-error"),Bp._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ad extends rf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return le("providerId"in n&&"signInMethod"in n,"argument-error"),Hs._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return le(e.idToken||e.accessToken,"argument-error"),Hs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ad.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ad.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!s||!l)return null;try{return new ad(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends rf{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends rf{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie="http://localhost";class Od extends nf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Od(r,s)}static _create(e,n){return new Od(e,n)}buildRequest(){return{requestUri:cie,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die="saml.";class ey extends jo{constructor(e){le(e.startsWith(die),"argument-error"),super(e)}static credentialFromResult(e){return ey.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ey.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Od.fromJSON(e);return le(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Od._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends rf{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return zo(t,"POST","/v1/accounts:signUp",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Eo._fromIdTokenResponse(e,r,i),o=jx(r);return new Yi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jx(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fie(t){var e;if(Sn(t.app))return Promise.reject(nr(t));const n=An(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Yi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ZV(n,{returnSecureToken:!0}),i=await Yi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ty.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ty(e,n,r,i)}}function JV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ty._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hie(t,e){const n=Ve(t);await cw(!0,n,e);const{providerUserInfo:r}=await yre(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=XV(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function wA(t,e,n=!1){const r=await Mo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}async function cw(t,e,n){await Up(e);const r=XV(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";le(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(nr(r));const i="reauthenticate";try{const s=await Mo(t,JV(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=aw(s.idToken);le(o,r,"internal-error");const{sub:l}=o;return le(t.uid===l,r,"user-mismatch"),Yi._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e,n=!1){if(Sn(t.app))return Promise.reject(nr(t));const r="signIn",i=await JV(t,r,e),s=await Yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dw(t,e){return tF(An(t),e)}async function nF(t,e){const n=Ve(t);return await cw(!1,n,e.providerId),wA(n,e)}async function rF(t,e){return eF(Ve(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie(t,e){return zo(t,"POST","/v1/accounts:signInWithCustomToken",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mie(t,e){if(Sn(t.app))return Promise.reject(nr(t));const n=An(t),r=await pie(n,{token:e,returnSecureToken:!0}),i=await Yi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?EA._fromServerResponse(e,n):"totpInfo"in n?TA._fromServerResponse(e,n):mr(e,"internal-error")}}class EA extends Em{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new EA(n)}}class TA extends Em{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new TA(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t){const e=An(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gie(t,e,n){const r=An(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&fw(r,i,n),await $p(r,i,"getOobCode",Zre)}async function _ie(t,e,n){await YV(Ve(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IA(t),r})}async function vie(t,e){await Kre(Ve(t),{oobCode:e})}async function iF(t,e){const n=Ve(t),r=await YV(n,{oobCode:e}),i=r.requestType;switch(le(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(r.mfaInfo,n,"internal-error");default:le(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Em._fromServerResponse(An(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function yie(t,e){const{data:n}=await iF(Ve(t),e);return n.email}async function wie(t,e,n){if(Sn(t.app))return Promise.reject(nr(t));const r=An(t),o=await $p(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&IA(t),u}),l=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Eie(t,e,n){return Sn(t.app)?Promise.reject(nr(t)):dw(Ve(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t,e,n){const r=An(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,l){le(l.handleCodeInApp,r,"argument-error"),l&&fw(r,o,l)}s(i,n),await $p(r,i,"getOobCode",Jre)}function Iie(t,e){const n=uw.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function Sie(t,e,n){if(Sn(t.app))return Promise.reject(nr(t));const r=Ve(t),i=pl.credentialWithLink(e,n||Fp());return le(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dw(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aie(t,e){return Cn(t,"POST","/v1/accounts:createAuthUri",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rie(t,e){const n=_A()?Fp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Aie(Ve(t),r);return i||[]}async function bie(t,e){const n=Ve(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fw(n.auth,i,e);const{email:s}=await Yre(n.auth,i);s!==t.email&&await t.reload()}async function Pie(t,e,n){const r=Ve(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&fw(r.auth,s,n);const{email:o}=await Xre(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cie(t,e){return Cn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kie(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ve(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Mo(r,Cie(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function xie(t,e){const n=Ve(t);return Sn(n.auth.app)?Promise.reject(nr(n.auth)):sF(n,e,null)}function Nie(t,e){return sF(Ve(t),null,e)}async function sF(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Mo(t,qre(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oie(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&t?.idToken){const o=(n=(e=aw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new ld(s,l)}}if(!r)return null;switch(r){case"facebook.com":return new Die(s,i);case"github.com":return new Lie(s,i);case"google.com":return new Mie(s,i);case"twitter.com":return new Vie(s,i,t.screenName||null);case"custom":case"anonymous":return new ld(s,null);default:return new ld(s,r,i)}}class ld{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class oF extends ld{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Die extends ld{constructor(e,n){super(e,"facebook.com",n)}}class Lie extends oF{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}}class Mie extends ld{constructor(e,n){super(e,"google.com",n)}}class Vie extends oF{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Fie(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Oie(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new ru("enroll",e,n)}static _fromMfaPendingCredential(e){return new ru("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ru._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ru._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=An(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(l=>Em._fromServerResponse(r,l));le(i.mfaPendingCredential,r,"internal-error");const o=ru._fromMfaPendingCredential(i.mfaPendingCredential);return new SA(o,s,async l=>{const u=await l._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const p=await Yi._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return le(n.user,r,"internal-error"),Yi._forOperation(n.user,n.operationType,d);default:mr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Uie(t,e){var n;const r=Ve(t),i=e;return le(e.customData.operationType,r,"argument-error"),le((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),SA._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:start",Pn(t,e))}function Bie(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Pn(t,e))}function zie(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Pn(t,e))}class AA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Em._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new AA(e)}async getSession(){return ru._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Mo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Mo(this.user,zie(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const XE=new WeakMap;function jie(t){const e=Ve(t);return XE.has(e)||XE.set(e,AA._fromUser(e)),XE.get(e)}const ny="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ny,"1"),this.storage.removeItem(ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=1e3,Gie=10;class lF extends aF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Cre()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Gie):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lF.type="LOCAL";const RA=lF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends aF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uF.type="SESSION";const Cu=uF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await qie(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=Tm("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function Kie(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function Qie(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yie(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zie(){return bA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="firebaseLocalStorageDb",Jie=1,ry="firebaseLocalStorage",dF="fbase_key";class Im{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pw(t,e){return t.transaction([ry],e?"readwrite":"readonly").objectStore(ry)}function Xie(){const t=indexedDB.deleteDatabase(cF);return new Im(t).toPromise()}function YI(){const t=indexedDB.open(cF,Jie);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ry,{keyPath:dF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ry)?e(r):(r.close(),await Xie(),e(await YI()))})})}async function Wx(t,e,n){const r=pw(t,!0).put({[dF]:e,value:n});return new Im(r).toPromise()}async function ese(t,e){const n=pw(t,!1).get(e),r=await new Im(n).toPromise();return r===void 0?null:r.value}function Gx(t,e){const n=pw(t,!0).delete(e);return new Im(n).toPromise()}const tse=800,nse=3;class fF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await YI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hw._getInstance(Zie()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qie(),!this.activeServiceWorker)return;this.sender=new Hie(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await YI();return await Wx(e,ny,"1"),await Gx(e,ny),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ese(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pw(i,!1).getAll();return new Im(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fF.type="LOCAL";const zp=fF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:start",Pn(t,e))}function ise(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:finalize",Pn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=500,ose=6e4,y_=1e12;class ase{constructor(e){this.auth=e,this.counter=y_,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new lse(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||y_;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||y_;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||y_;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class lse{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;le(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=use(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ose)},sse))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function use(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=KV("rcb"),cse=new _m(3e4,6e4);class dse{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=$n().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return le(fse(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Lx($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((r,i)=>{const s=$n().setTimeout(()=>{i(Hn(e,"network-request-failed"))},cse.get());$n()[eT]=()=>{$n().clearTimeout(s),delete $n()[eT];const l=$n().grecaptcha;if(!l||!Lx(l)){i(Hn(e,"internal-error"));return}const u=l.render;l.render=(d,p)=>{const m=u(d,p);return this.counter++,m},this.hostLanguage=n,r(l)};const o=`${Mre()}?${Xd({onload:eT,render:"explicit",hl:n})}`;yA(o).catch(()=>{clearTimeout(s),i(Hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=$n().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fse(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class hse{async load(e){return new ase(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="recaptcha",pse={theme:"light",type:"image"};let mse=class{constructor(e,n,r=Object.assign({},pse)){this.parameters=r,this.type=hF,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(e),this.isInvisible=this.parameters.size==="invisible",le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;le(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hse:new dse,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=$n()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){le(_A()&&!bA(),this.auth,"internal-error"),await gse(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await gre(this.auth);le(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function gse(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=fu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function _se(t,e,n){if(Sn(t.app))return Promise.reject(nr(t));const r=An(t),i=await mw(r,e,Ve(n));return new PA(i,s=>dw(r,s))}async function vse(t,e,n){const r=Ve(t);await cw(!1,r,"phone");const i=await mw(r.auth,e,Ve(n));return new PA(i,s=>nF(r,s))}async function yse(t,e,n){const r=Ve(t);if(Sn(r.auth.app))return Promise.reject(nr(r.auth));const i=await mw(r.auth,e,Ve(n));return new PA(i,s=>rF(r,s))}async function mw(t,e,n){var r;const i=await n.verify();try{le(typeof i=="string",t,"argument-error"),le(n.type===hF,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return le(o.type==="enroll",t,"internal-error"),(await $ie(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{le(o.type==="signin",t,"internal-error");const l=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return le(l,t,"missing-multi-factor-info"),(await rse(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await rie(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function wse(t,e){const n=Ve(t);if(Sn(n.auth.app))return Promise.reject(nr(n.auth));await wA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=class q_{constructor(e){this.providerId=q_.PROVIDER_ID,this.auth=An(e)}verifyPhoneNumber(e,n){return mw(this.auth,e,Ve(n))}static credential(e,n){return fu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return q_.credentialFromTaggedObject(n)}static credentialFromError(e){return q_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?fu._fromTokenResponse(n,r):null}};ku.PROVIDER_ID="phone";ku.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return e?_i(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends nf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ese(t){return tF(t.auth,new CA(t),t.bypassAuthState)}function Tse(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),eF(n,new CA(t),t.bypassAuthState)}async function Ise(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),wA(n,new CA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ese;case"linkViaPopup":case"linkViaRedirect":return Ise;case"reauthViaPopup":case"reauthViaRedirect":return Tse;default:mr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=new _m(2e3,1e4);async function Ase(t,e,n){if(Sn(t.app))return Promise.reject(Hn(t,"operation-not-supported-in-this-environment"));const r=An(t);tf(t,e,jo);const i=Hu(r,n);return new To(r,"signInViaPopup",e,i).executeNotNull()}async function Rse(t,e,n){const r=Ve(t);if(Sn(r.auth.app))return Promise.reject(Hn(r.auth,"operation-not-supported-in-this-environment"));tf(r.auth,e,jo);const i=Hu(r.auth,n);return new To(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function bse(t,e,n){const r=Ve(t);tf(r.auth,e,jo);const i=Hu(r.auth,n);return new To(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class To extends pF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sse.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse="pendingRedirect",qh=new Map;class Cse extends pF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{const r=await kse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kse(t,e){const n=gF(e),r=mF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function kA(t,e){return mF(t)._set(gF(e),"true")}function xse(){qh.clear()}function xA(t,e){qh.set(t._key(),e)}function mF(t){return _i(t._redirectPersistence)}function gF(t){return du(Pse,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t,e,n){return Ose(t,e,n)}async function Ose(t,e,n){if(Sn(t.app))return Promise.reject(nr(t));const r=An(t);tf(t,e,jo),await r._initializationPromise;const i=Hu(r,n);return await kA(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Dse(t,e,n){return Lse(t,e,n)}async function Lse(t,e,n){const r=Ve(t);if(tf(r.auth,e,jo),Sn(r.auth.app))return Promise.reject(nr(r.auth));await r.auth._initializationPromise;const i=Hu(r.auth,n);await kA(i,r.auth);const s=await _F(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Mse(t,e,n){return Vse(t,e,n)}async function Vse(t,e,n){const r=Ve(t);tf(r.auth,e,jo),await r.auth._initializationPromise;const i=Hu(r.auth,n);await cw(!1,r,e.providerId),await kA(i,r.auth);const s=await _F(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Fse(t,e){return await An(t)._initializationPromise,gw(t,e,!1)}async function gw(t,e,n=!1){if(Sn(t.app))return Promise.reject(nr(t));const r=An(t),i=Hu(r,e),o=await new Cse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function _F(t){const e=Tm(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=10*60*1e3;class vF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$se(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Use&&this.cachedEventUids.clear(),this.cachedEventUids.has(qx(e))}saveEventToCache(e){this.cachedEventUids.add(qx(e)),this.lastProcessedEventTime=Date.now()}}function qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $se(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e={}){return Cn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zse=/^https?/;async function jse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wF(t);for(const n of e)try{if(Wse(n))return}catch{}mr(t,"unauthorized-domain")}function Wse(t){const e=Fp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zse.test(n))return!1;if(Bse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=new _m(3e4,6e4);function Hx(){const t=$n().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qse(t){return new Promise((e,n)=>{var r,i,s;function o(){Hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hx(),n(Hn(t,"network-request-failed"))},timeout:Gse.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{const l=KV("iframefcb");return $n()[l]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},yA(`${Fre()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw H_=null,e})}let H_=null;function Hse(t){return H_=H_||qse(t),H_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=new _m(5e3,15e3),Qse="__/auth/iframe",Yse="emulator/auth/iframe",Zse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xse(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vA(e,Yse):`https://${t.config.authDomain}/${Qse}`,r={apiKey:e.apiKey,appName:t.name,v:hl},i=Jse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xd(r).slice(1)}`}async function eoe(t){const e=await Hse(t),n=$n().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:Xse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zse,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),l=$n().setTimeout(()=>{s(o)},Kse.get());function u(){$n().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},noe=500,roe=600,ioe="_blank",soe="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ooe(t,e,n,r=noe,i=roe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},toe),{width:r.toString(),height:i.toString(),top:s,left:o}),d=wn().toLowerCase();n&&(l=zV(d)?ioe:n),$V(d)&&(e=e||soe,u.scrollbars="yes");const p=Object.entries(u).reduce((_,[y,S])=>`${_}${y}=${S},`,"");if(Pre(d)&&l!=="_self")return aoe(e||"",l),new Kx(null);const m=window.open(e||"",l,p);le(m,t,"popup-blocked");try{m.focus()}catch{}return new Kx(m)}function aoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe="__/auth/handler",uoe="emulator/auth/handler",coe=encodeURIComponent("fac");async function ZI(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:i};if(e instanceof jo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))o[p]=m}if(e instanceof rf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${coe}=${encodeURIComponent(u)}`:"";return`${doe(t)}?${Xd(l).slice(1)}${d}`}function doe({config:t}){return t.emulator?vA(t,uoe):`https://${t.authDomain}/${loe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="webStorageSupport";class foe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cu,this._completeRedirectFn=gw,this._overrideRedirectResult=xA}async _openPopup(e,n,r,i){var s;ms((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ZI(e,n,r,Fp(),i);return ooe(e,o,Tm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ZI(e,n,r,Fp(),i);return Kie(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eoe(e),r=new vF(e);return n.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tT,{type:tT},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[tT];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qV()||BV()||ym()}}const hoe=foe;class poe{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ms("unexpected MultiFactorSessionType")}}}class NA extends poe{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new NA(e)}_finalizeEnroll(e,n,r){return Bie(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ise(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class EF{constructor(){}static assertion(e){return NA._fromCredential(e)}}EF.FACTOR_ID="phone";var Qx="@firebase/auth",Yx="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _oe(t){Xa(new qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HV(t)},d=new Dre(r,i,s,u);return zre(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new qs("auth-internal",e=>{const n=An(e.getProvider("auth").getImmediate());return(r=>new moe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Qx,Yx,goe(t)),Hi(Qx,Yx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=5*60;Pte("authIdTokenMaxAge");function yoe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lre({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yoe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_oe("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=2e3;async function Eoe(t,e,n){var r;const{BuildInfo:i}=xu();ms(e.sessionId,"AuthEvent did not contain a session ID");const s=await Roe(e.sessionId),o={};return ym()?o.ibi=i.packageName:vm()?o.apn=i.packageName:mr(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ZI(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Toe(t){const{BuildInfo:e}=xu(),n={};ym()?n.iosBundleId=e.packageName:vm()?n.androidPackageName=e.packageName:mr(t,"operation-not-supported-in-this-environment"),await wF(t,n)}function Ioe(t){const{cordova:e}=xu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,bre()?"_blank":"_system","location=yes"),n(i)})})}async function Soe(t,e,n){const{cordova:r}=xu();let i=()=>{};try{await new Promise((s,o)=>{let l=null;function u(){var m;s();const _=(m=r.plugins.browsertab)===null||m===void 0?void 0:m.close;typeof _=="function"&&_(),typeof n?.close=="function"&&n.close()}function d(){l||(l=window.setTimeout(()=>{o(Hn(t,"redirect-cancelled-by-user"))},woe))}function p(){document?.visibilityState==="visible"&&d()}e.addPassiveListener(u),document.addEventListener("resume",d,!1),vm()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",p,!1),l&&window.clearTimeout(l)}})}finally{i()}}function Aoe(t){var e,n,r,i,s,o,l,u,d,p;const m=xu();le(typeof((e=m?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof((n=m?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le(typeof((s=(i=(r=m?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le(typeof((u=(l=(o=m?.cordova)===null||o===void 0?void 0:o.plugins)===null||l===void 0?void 0:l.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le(typeof((p=(d=m?.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Roe(t){const e=boe(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function boe(t){if(ms(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=20;class Coe extends vF{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function koe(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Ooe(),postBody:null,tenantId:t.tenantId,error:Hn(t,"no-auth-event")}}function xoe(t,e){return JI()._set(XI(t),e)}async function Zx(t){const e=await JI()._get(XI(t));return e&&await JI()._remove(XI(t)),e}function Noe(t,e){var n,r;const i=Loe(e);if(i.includes("/__/auth/callback")){const s=K_(i),o=s.firebaseError?Doe(decodeURIComponent(s.firebaseError)):null,l=(r=(n=o?.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=l?Hn(l):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Ooe(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Poe;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function JI(){return _i(RA)}function XI(t){return du("authEvent",t.config.apiKey,t.name)}function Doe(t){try{return JSON.parse(t)}catch{return null}}function Loe(t){const e=K_(t),n=e.link?decodeURIComponent(e.link):void 0,r=K_(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return K_(i).link||i||r||n||t}function K_(t){if(!t?.includes("?"))return{};const[e,...n]=t.split("?");return Qc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=500;class Voe{constructor(){this._redirectPersistence=Cu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gw,this._overrideRedirectResult=xA}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Coe(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){mr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Aoe(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),xse(),await this._originValidation(e);const o=koe(e,r,i);await xoe(e,o);const l=await Eoe(e,o,n),u=await Ioe(l);return Soe(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Toe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xu(),o=setTimeout(async()=>{await Zx(e),n.onEvent(Jx())},Moe),l=async p=>{clearTimeout(o);const m=await Zx(e);let _=null;m&&p?.url&&(_=Noe(m,p.url)),n.onEvent(_||Jx())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const u=i,d=`${s.packageName.toLowerCase()}://`;xu().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(d)&&l({url:p}),typeof u=="function")try{u(p)}catch(m){console.error(m)}}}}const Foe=Voe;function Jx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(t,e){An(t)._logFramework(e)}var $oe="@firebase/auth-compat",Boe="0.5.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe=1e3;function Hh(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function joe(){return Hh()==="http:"||Hh()==="https:"}function TF(t=wn()){return!!((Hh()==="file:"||Hh()==="ionic:"||Hh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Woe(){return uA()||lA()}function Goe(){return gV()&&document?.documentMode===11}function qoe(t=wn()){return/Edge\/\d+/.test(t)}function Hoe(t=wn()){return Goe()||qoe(t)}function IF(){try{const t=self.localStorage,e=Tm();if(t)return t.setItem(e,"1"),t.removeItem(e),Hoe()?Dp():!0}catch{return OA()&&Dp()}return!1}function OA(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nT(){return(joe()||mV()||TF())&&!Woe()&&IF()&&!OA()}function SF(){return TF()&&typeof document<"u"}async function Koe(){return SF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},zoe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Qoe(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={LOCAL:"local",NONE:"none",SESSION:"session"},ah=le,AF="persistence";function Yoe(t,e){if(ah(Object.values(mi).includes(e),t,"invalid-persistence-type"),uA()){ah(e!==mi.SESSION,t,"unsupported-persistence-type");return}if(lA()){ah(e===mi.NONE,t,"unsupported-persistence-type");return}if(OA()){ah(e===mi.NONE||e===mi.LOCAL&&Dp(),t,"unsupported-persistence-type");return}ah(e===mi.NONE||IF(),t,"unsupported-persistence-type")}async function eS(t){await t._initializationPromise;const e=RF(),n=du(AF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Zoe(t,e){const n=RF();if(!n)return[];const r=du(AF,t,e);switch(n.getItem(r)){case mi.NONE:return[Nd];case mi.LOCAL:return[zp,Cu];case mi.SESSION:return[Cu];default:return[]}}function RF(){var t;try{return((t=Qoe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=le;class Na{constructor(){this.browserResolver=_i(hoe),this.cordovaResolver=_i(Foe),this.underlyingResolver=null,this._redirectPersistence=Cu,this._completeRedirectFn=gw,this._overrideRedirectResult=xA}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return SF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Joe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Koe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return t.unwrap()}function Xoe(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eae(t){return PF(t)}function tae(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const i=e;i.resolver=new nae(t,Uie(t,e))}else if(r){const i=PF(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function PF(t){const{_tokenResponse:e}=t instanceof Mr?t.customData:t;if(!e)return null;if(!(t instanceof Mr)&&"temporaryProof"in e&&"phoneNumber"in e)return ku.credentialFromResult(t);const n=e.providerId;if(!n||n===oh.PASSWORD)return null;let r;switch(n){case oh.GOOGLE:r=xs;break;case oh.FACEBOOK:r=ks;break;case oh.GITHUB:r=Ns;break;case oh.TWITTER:r=Os;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:l,nonce:u}=e;return!s&&!o&&!i&&!l?null:l?n.startsWith("saml.")?Od._create(n,l):Hs._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:s}):new ad(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof Mr?r.credentialFromError(t):r.credentialFromResult(t)}function Kr(t,e){return e.catch(n=>{throw n instanceof Mr&&tae(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:eae(n),additionalUserInfo:Fie(n),user:_w.getOrCreate(i)}})}async function tS(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Kr(t,n.confirm(r))}}class nae{constructor(e,n){this.resolver=n,this.auth=Xoe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Kr(bF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _w=class Sh{constructor(e){this._delegate=e,this.multiFactor=jie(e)}static getOrCreate(e){return Sh.USER_MAP.has(e)||Sh.USER_MAP.set(e,new Sh(e)),Sh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Kr(this.auth,nF(this._delegate,e))}async linkWithPhoneNumber(e,n){return tS(this.auth,vse(this._delegate,e,n))}async linkWithPopup(e){return Kr(this.auth,bse(this._delegate,e,Na))}async linkWithRedirect(e){return await eS(An(this.auth)),Mse(this._delegate,e,Na)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Kr(this.auth,rF(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return tS(this.auth,yse(this._delegate,e,n))}reauthenticateWithPopup(e){return Kr(this.auth,Rse(this._delegate,e,Na))}async reauthenticateWithRedirect(e){return await eS(An(this.auth)),Dse(this._delegate,e,Na)}sendEmailVerification(e){return bie(this._delegate,e)}async unlink(e){return await hie(this._delegate,e),this}updateEmail(e){return xie(this._delegate,e)}updatePassword(e){return Nie(this._delegate,e)}updatePhoneNumber(e){return wse(this._delegate,e)}updateProfile(e){return kie(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Pie(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};_w.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=le;class nS{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;lh(r,"invalid-api-key",{appName:e.name}),lh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Na:void 0;this._delegate=n.initialize({options:{persistence:rae(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ore),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_w.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){jre(this._delegate,e,n)}applyActionCode(e){return vie(this._delegate,e)}checkActionCode(e){return iF(this._delegate,e)}confirmPasswordReset(e,n){return _ie(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Kr(this._delegate,wie(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Rie(this._delegate,e)}isSignInWithEmailLink(e){return Iie(this._delegate,e)}async getRedirectResult(){lh(nT(),this._delegate,"operation-not-supported-in-this-environment");const e=await Fse(this._delegate,Na);return e?Kr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Uoe(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=Xx(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=Xx(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Tie(this._delegate,e,n)}sendPasswordResetEmail(e,n){return gie(this._delegate,e,n||void 0)}async setPersistence(e){Yoe(this._delegate,e);let n;switch(e){case mi.SESSION:n=Cu;break;case mi.LOCAL:n=await _i(zp)._isAvailable()?zp:RA;break;case mi.NONE:n=Nd;break;default:return mr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Kr(this._delegate,fie(this._delegate))}signInWithCredential(e){return Kr(this._delegate,dw(this._delegate,e))}signInWithCustomToken(e){return Kr(this._delegate,mie(this._delegate,e))}signInWithEmailAndPassword(e,n){return Kr(this._delegate,Eie(this._delegate,e,n))}signInWithEmailLink(e,n){return Kr(this._delegate,Sie(this._delegate,e,n))}signInWithPhoneNumber(e,n){return tS(this._delegate,_se(this._delegate,e,n))}async signInWithPopup(e){return lh(nT(),this._delegate,"operation-not-supported-in-this-environment"),Kr(this._delegate,Ase(this._delegate,e,Na))}async signInWithRedirect(e){return lh(nT(),this._delegate,"operation-not-supported-in-this-environment"),await eS(this._delegate),Nse(this._delegate,e,Na)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yie(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}nS.Persistence=mi;function Xx(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&_w.getOrCreate(o)),error:e,complete:n}}function rae(t,e){const n=Zoe(t,e);if(typeof self<"u"&&!n.includes(zp)&&n.push(zp),typeof window<"u")for(const r of[RA,Cu])n.includes(r)||n.push(r);return n.includes(Nd)||n.push(Nd),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.providerId="phone",this._delegate=new ku(bF(ow.auth()))}static credential(e,n){return ku.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}DA.PHONE_SIGN_IN_METHOD=ku.PHONE_SIGN_IN_METHOD;DA.PROVIDER_ID=ku.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae=le;class sae{constructor(e,n,r=ow.app()){var i;iae((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new mse(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae="auth-compat";function aae(t){t.INTERNAL.registerComponent(new qs(oae,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new nS(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sc.EMAIL_SIGNIN,PASSWORD_RESET:Sc.PASSWORD_RESET,RECOVER_EMAIL:Sc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Sc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Sc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Sc.VERIFY_EMAIL}},EmailAuthProvider:pl,FacebookAuthProvider:ks,GithubAuthProvider:Ns,GoogleAuthProvider:xs,OAuthProvider:ad,SAMLAuthProvider:ey,PhoneAuthProvider:DA,PhoneMultiFactorGenerator:EF,RecaptchaVerifier:sae,TwitterAuthProvider:Os,Auth:nS,AuthCredential:nf,Error:Mr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion($oe,Boe)}aae(ow);var eN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hu,CF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function O(){}O.prototype=I.prototype,x.D=I.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(M,L,U){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return I.prototype[L].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,O){O||(O=0);var M=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)M[L]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(L=0;16>L;++L)M[L]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=x.g[0],O=x.g[1],L=x.g[2];var U=x.g[3],N=I+(U^O&(L^U))+M[0]+3614090360&4294967295;I=O+(N<<7&4294967295|N>>>25),N=U+(L^I&(O^L))+M[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(O^U&(I^O))+M[2]+606105819&4294967295,L=U+(N<<17&4294967295|N>>>15),N=O+(I^L&(U^I))+M[3]+3250441966&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(U^O&(L^U))+M[4]+4118548399&4294967295,I=O+(N<<7&4294967295|N>>>25),N=U+(L^I&(O^L))+M[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(O^U&(I^O))+M[6]+2821735955&4294967295,L=U+(N<<17&4294967295|N>>>15),N=O+(I^L&(U^I))+M[7]+4249261313&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(U^O&(L^U))+M[8]+1770035416&4294967295,I=O+(N<<7&4294967295|N>>>25),N=U+(L^I&(O^L))+M[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(O^U&(I^O))+M[10]+4294925233&4294967295,L=U+(N<<17&4294967295|N>>>15),N=O+(I^L&(U^I))+M[11]+2304563134&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(U^O&(L^U))+M[12]+1804603682&4294967295,I=O+(N<<7&4294967295|N>>>25),N=U+(L^I&(O^L))+M[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(O^U&(I^O))+M[14]+2792965006&4294967295,L=U+(N<<17&4294967295|N>>>15),N=O+(I^L&(U^I))+M[15]+1236535329&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(L^U&(O^L))+M[1]+4129170786&4294967295,I=O+(N<<5&4294967295|N>>>27),N=U+(O^L&(I^O))+M[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(U^I))+M[11]+643717713&4294967295,L=U+(N<<14&4294967295|N>>>18),N=O+(U^I&(L^U))+M[0]+3921069994&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(O^L))+M[5]+3593408605&4294967295,I=O+(N<<5&4294967295|N>>>27),N=U+(O^L&(I^O))+M[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(U^I))+M[15]+3634488961&4294967295,L=U+(N<<14&4294967295|N>>>18),N=O+(U^I&(L^U))+M[4]+3889429448&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(O^L))+M[9]+568446438&4294967295,I=O+(N<<5&4294967295|N>>>27),N=U+(O^L&(I^O))+M[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(U^I))+M[3]+4107603335&4294967295,L=U+(N<<14&4294967295|N>>>18),N=O+(U^I&(L^U))+M[8]+1163531501&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(O^L))+M[13]+2850285829&4294967295,I=O+(N<<5&4294967295|N>>>27),N=U+(O^L&(I^O))+M[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(U^I))+M[7]+1735328473&4294967295,L=U+(N<<14&4294967295|N>>>18),N=O+(U^I&(L^U))+M[12]+2368359562&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(O^L^U)+M[5]+4294588738&4294967295,I=O+(N<<4&4294967295|N>>>28),N=U+(I^O^L)+M[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^O)+M[11]+1839030562&4294967295,L=U+(N<<16&4294967295|N>>>16),N=O+(L^U^I)+M[14]+4259657740&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^U)+M[1]+2763975236&4294967295,I=O+(N<<4&4294967295|N>>>28),N=U+(I^O^L)+M[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^O)+M[7]+4139469664&4294967295,L=U+(N<<16&4294967295|N>>>16),N=O+(L^U^I)+M[10]+3200236656&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^U)+M[13]+681279174&4294967295,I=O+(N<<4&4294967295|N>>>28),N=U+(I^O^L)+M[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^O)+M[3]+3572445317&4294967295,L=U+(N<<16&4294967295|N>>>16),N=O+(L^U^I)+M[6]+76029189&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^U)+M[9]+3654602809&4294967295,I=O+(N<<4&4294967295|N>>>28),N=U+(I^O^L)+M[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^O)+M[15]+530742520&4294967295,L=U+(N<<16&4294967295|N>>>16),N=O+(L^U^I)+M[2]+3299628645&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(L^(O|~U))+M[0]+4096336452&4294967295,I=O+(N<<6&4294967295|N>>>26),N=U+(O^(I|~L))+M[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~O))+M[14]+2878612391&4294967295,L=U+(N<<15&4294967295|N>>>17),N=O+(U^(L|~I))+M[5]+4237533241&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~U))+M[12]+1700485571&4294967295,I=O+(N<<6&4294967295|N>>>26),N=U+(O^(I|~L))+M[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~O))+M[10]+4293915773&4294967295,L=U+(N<<15&4294967295|N>>>17),N=O+(U^(L|~I))+M[1]+2240044497&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~U))+M[8]+1873313359&4294967295,I=O+(N<<6&4294967295|N>>>26),N=U+(O^(I|~L))+M[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~O))+M[6]+2734768916&4294967295,L=U+(N<<15&4294967295|N>>>17),N=O+(U^(L|~I))+M[13]+1309151649&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~U))+M[4]+4149444226&4294967295,I=O+(N<<6&4294967295|N>>>26),N=U+(O^(I|~L))+M[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~O))+M[2]+718787259&4294967295,L=U+(N<<15&4294967295|N>>>17),N=O+(U^(L|~I))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var O=I-this.blockSize,M=this.B,L=this.h,U=0;U<I;){if(L==0)for(;U<=O;)i(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<I;)if(M[L++]=x.charCodeAt(U++),L==this.blockSize){i(this,M),L=0;break}}else for(;U<I;)if(M[L++]=x[U++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var O=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=O&255,O/=256;for(this.u(x),x=Array(16),I=O=0;4>I;++I)for(var M=0;32>M;M+=8)x[O++]=this.g[I]>>>M&255;return x};function s(x,I){var O=l;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=I(x)}function o(x,I){this.h=I;for(var O=[],M=!0,L=x.length-1;0<=L;L--){var U=x[L]|0;M&&U==I||(O[L]=U,M=!1)}this.g=O}var l={};function u(x){return-128<=x&&128>x?s(x,function(I){return new o([I|0],0>I?-1:0)}):new o([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return m;if(0>x)return D(d(-x));for(var I=[],O=1,M=0;x>=O;M++)I[M]=x/O|0,O*=4294967296;return new o(I,0)}function p(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return D(p(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(I,8)),M=m,L=0;L<x.length;L+=8){var U=Math.min(8,x.length-L),N=parseInt(x.substring(L,L+U),I);8>U?(U=d(Math.pow(I,U)),M=M.j(U).add(d(N))):(M=M.j(O),M=M.add(d(N)))}return M}var m=u(0),_=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-D(this).m();for(var x=0,I=1,O=0;O<this.g.length;O++){var M=this.i(O);x+=(0<=M?M:4294967296+M)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(R(this))return"-"+D(this).toString(x);for(var I=d(Math.pow(x,6)),O=this,M="";;){var L=F(O,I).g;O=T(O,L.j(I));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=L,S(O))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function R(x){return x.h==-1}t.l=function(x){return x=T(this,x),R(x)?-1:S(x)?0:1};function D(x){for(var I=x.g.length,O=[],M=0;M<I;M++)O[M]=~x.g[M];return new o(O,~x.h).add(_)}t.abs=function(){return R(this)?D(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],M=0,L=0;L<=I;L++){var U=M+(this.i(L)&65535)+(x.i(L)&65535),N=(U>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);M=N>>>16,U&=65535,N&=65535,O[L]=N<<16|U}return new o(O,O[O.length-1]&-2147483648?-1:0)};function T(x,I){return x.add(D(I))}t.j=function(x){if(S(this)||S(x))return m;if(R(this))return R(x)?D(this).j(D(x)):D(D(this).j(x));if(R(x))return D(this.j(D(x)));if(0>this.l(y)&&0>x.l(y))return d(this.m()*x.m());for(var I=this.g.length+x.g.length,O=[],M=0;M<2*I;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<x.g.length;L++){var U=this.i(M)>>>16,N=this.i(M)&65535,We=x.i(L)>>>16,en=x.i(L)&65535;O[2*M+2*L]+=N*en,A(O,2*M+2*L),O[2*M+2*L+1]+=U*en,A(O,2*M+2*L+1),O[2*M+2*L+1]+=N*We,A(O,2*M+2*L+1),O[2*M+2*L+2]+=U*We,A(O,2*M+2*L+2)}for(M=0;M<I;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=I;M<2*I;M++)O[M]=0;return new o(O,0)};function A(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function b(x,I){this.g=x,this.h=I}function F(x,I){if(S(I))throw Error("division by zero");if(S(x))return new b(m,m);if(R(x))return I=F(D(x),I),new b(D(I.g),D(I.h));if(R(I))return I=F(x,D(I)),new b(D(I.g),I.h);if(30<x.g.length){if(R(x)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var O=_,M=I;0>=M.l(x);)O=B(O),M=B(M);var L=z(O,1),U=z(M,1);for(M=z(M,2),O=z(O,2);!S(M);){var N=U.add(M);0>=N.l(x)&&(L=L.add(O),U=N),M=z(M,1),O=z(O,1)}return I=T(x,L.j(I)),new b(L,I)}for(L=m;0<=x.l(I);){for(O=Math.max(1,Math.floor(x.m()/I.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=d(O),N=U.j(I);R(N)||0<N.l(x);)O-=M,U=d(O),N=U.j(I);S(U)&&(U=_),L=L.add(U),x=T(x,N)}return new b(L,x)}t.A=function(x){return F(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)&x.i(M);return new o(O,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)|x.i(M);return new o(O,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)^x.i(M);return new o(O,this.h^x.h)};function B(x){for(var I=x.g.length+1,O=[],M=0;M<I;M++)O[M]=x.i(M)<<1|x.i(M-1)>>>31;return new o(O,x.h)}function z(x,I){var O=I>>5;I%=32;for(var M=x.g.length-O,L=[],U=0;U<M;U++)L[U]=0<I?x.i(U+O)>>>I|x.i(U+O+1)<<32-I:x.i(U+O);return new o(L,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CF=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,hu=o}).apply(typeof eN<"u"?eN:typeof self<"u"?self:typeof window<"u"?window:{});var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kF,xF,Ah,NF,Q_,rS,OF,DF,LF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,w){return f==Array.prototype||f==Object.prototype||(f[g]=w.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof w_=="object"&&w_];for(var g=0;g<f.length;++g){var w=f[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(f,g){if(g)e:{var w=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var H=f[C];if(!(H in w))break e;w=w[H]}f=f[f.length-1],C=w[f],g=g(C),g!=C&&g!=null&&e(w,f,{configurable:!0,writable:!0,value:g})}}function s(f,g){f instanceof String&&(f+="");var w=0,C=!1,H={next:function(){if(!C&&w<f.length){var J=w++;return{value:g(J,f[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(f){return f||function(){return s(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(f){var g=typeof f;return g=g!="object"?g:f?Array.isArray(f)?"array":g:"null",g=="array"||g=="object"&&typeof f.length=="number"}function d(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function p(f,g,w){return f.call.apply(f.bind,arguments)}function m(f,g,w){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),f.apply(g,H)}}return function(){return f.apply(g,arguments)}}function _(f,g,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function y(f,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function S(f,g){function w(){}w.prototype=g.prototype,f.aa=g.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(C,H,J){for(var fe=Array(arguments.length-2),It=2;It<arguments.length;It++)fe[It-2]=arguments[It];return g.prototype[H].apply(C,fe)}}function R(f){const g=f.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=f[C];return w}return[]}function D(f,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(u(C)){const H=f.length||0,J=C.length||0;f.length=H+J;for(let fe=0;fe<J;fe++)f[H+fe]=C[fe]}else f.push(C)}}class T{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function A(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var B=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function z(f,g,w){for(const C in f)g.call(w,f[C],C,f)}function x(f,g){for(const w in f)g.call(void 0,f[w],w,f)}function I(f){const g={};for(const w in f)g[w]=f[w];return g}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,g){let w,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(w in C)f[w]=C[w];for(let J=0;J<O.length;J++)w=O[J],Object.prototype.hasOwnProperty.call(C,w)&&(f[w]=C[w])}}function L(f){var g=1;f=f.split(":");const w=[];for(;0<g&&f.length;)w.push(f.shift()),g--;return f.length&&w.push(f.join(":")),w}function U(f){l.setTimeout(()=>{throw f},0)}function N(){var f=we;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class We{constructor(){this.h=this.g=null}add(g,w){const C=en.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var en=new T(()=>new qt,f=>f.reset());class qt{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,ce=!1,we=new We,ue=()=>{const f=l.Promise.resolve(void 0);wt=()=>{f.then(Ie)}};var Ie=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(w){U(w)}var g=en;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}ce=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};l.addEventListener("test",w,g),l.removeEventListener("test",w,g)}catch{}return f}();function Pe(f,g){if(ne.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(B){e:{try{F(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else w=="mouseover"?g=f.fromElement:w=="mouseout"&&(g=f.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ye[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Pe.aa.h.call(this)}}S(Pe,ne);var ye={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Ce(f,g,w,C,H){this.listener=f,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=H,this.key=++Ge,this.da=this.fa=!1}function Et(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ct(f){this.src=f,this.g={},this.h=0}Ct.prototype.add=function(f,g,w,C,H){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var fe=Rt(f,g,C,H);return-1<fe?(g=f[fe],w||(g.fa=!1)):(g=new Ce(g,this.src,J,!!C,H),g.fa=w,f.push(g)),g};function st(f,g){var w=g.type;if(w in f.g){var C=f.g[w],H=Array.prototype.indexOf.call(C,g,void 0),J;(J=0<=H)&&Array.prototype.splice.call(C,H,1),J&&(Et(g),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Rt(f,g,w,C){for(var H=0;H<f.length;++H){var J=f[H];if(!J.da&&J.listener==g&&J.capture==!!w&&J.ha==C)return H}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),sr={};function or(f,g,w,C,H){if(Array.isArray(g)){for(var J=0;J<g.length;J++)or(f,g[J],w,C,H);return null}return w=bi(w),f&&f[Be]?f.K(g,w,d(C)?!!C.capture:!!C,H):Ht(f,g,w,!1,C,H)}function Ht(f,g,w,C,H,J){if(!g)throw Error("Invalid event type");var fe=d(H)?!!H.capture:!!H,It=vs(f);if(It||(f[Ft]=It=new Ct(f)),w=It.add(g,w,C,fe,J),w.proxy)return w;if(C=yl(),w.proxy=C,C.src=f,C.listener=w,f.addEventListener)de||(H=fe),H===void 0&&(H=!1),f.addEventListener(g.toString(),C,H);else if(f.attachEvent)f.attachEvent(ar(g.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function yl(){function f(w){return g.call(f.src,f.listener,w)}const g=_s;return f}function Xu(f,g,w,C,H){if(Array.isArray(g))for(var J=0;J<g.length;J++)Xu(f,g[J],w,C,H);else C=d(C)?!!C.capture:!!C,w=bi(w),f&&f[Be]?(f=f.i,g=String(g).toString(),g in f.g&&(J=f.g[g],w=Rt(J,w,C,H),-1<w&&(Et(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[g],f.h--)))):f&&(f=vs(f))&&(g=f.g[g.toString()],f=-1,g&&(f=Rt(g,w,C,H)),(w=-1<f?g[f]:null)&&oi(w))}function oi(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[Be])st(g.i,f);else{var w=f.type,C=f.proxy;g.removeEventListener?g.removeEventListener(w,C,f.capture):g.detachEvent?g.detachEvent(ar(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=vs(g))?(st(w,f),w.h==0&&(w.src=null,g[Ft]=null)):Et(f)}}}function ar(f){return f in sr?sr[f]:sr[f]="on"+f}function _s(f,g){if(f.da)f=!0;else{g=new Pe(g,this);var w=f.listener,C=f.ha||f.src;f.fa&&oi(f),f=w.call(C,g)}return f}function vs(f){return f=f[Ft],f instanceof Ct?f:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(f){return typeof f=="function"?f:(f[Xs]||(f[Xs]=function(g){return f.handleEvent(g)}),f[Xs])}function Mn(){q.call(this),this.i=new Ct(this),this.M=this,this.F=null}S(Mn,q),Mn.prototype[Be]=!0,Mn.prototype.removeEventListener=function(f,g,w,C){Xu(this,f,g,w,C)};function hn(f,g){var w,C=f.F;if(C)for(w=[];C;C=C.F)w.push(C);if(f=f.M,C=g.type||g,typeof g=="string")g=new ne(g,f);else if(g instanceof ne)g.target=g.target||f;else{var H=g;g=new ne(C,f),M(g,H)}if(H=!0,w)for(var J=w.length-1;0<=J;J--){var fe=g.g=w[J];H=ai(fe,C,!0,g)&&H}if(fe=g.g=f,H=ai(fe,C,!0,g)&&H,H=ai(fe,C,!1,g)&&H,w)for(J=0;J<w.length;J++)fe=g.g=w[J],H=ai(fe,C,!1,g)&&H}Mn.prototype.N=function(){if(Mn.aa.N.call(this),this.i){var f=this.i,g;for(g in f.g){for(var w=f.g[g],C=0;C<w.length;C++)Et(w[C]);delete f.g[g],f.h--}}this.F=null},Mn.prototype.K=function(f,g,w,C){return this.i.add(String(f),g,!1,w,C)},Mn.prototype.L=function(f,g,w,C){return this.i.add(String(f),g,!0,w,C)};function ai(f,g,w,C){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,J=0;J<g.length;++J){var fe=g[J];if(fe&&!fe.da&&fe.capture==w){var It=fe.listener,zn=fe.ha||fe.src;fe.fa&&st(f.i,fe),H=It.call(zn,C)!==!1&&H}}return H&&!C.defaultPrevented}function Ho(f,g,w){if(typeof f=="function")w&&(f=_(f,w));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:l.setTimeout(f,g||0)}function Ko(f){f.g=Ho(()=>{f.g=null,f.i&&(f.i=!1,Ko(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class wl extends q{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(f){q.call(this),this.h=f,this.g={}}S(Pi,q);var Qo=[];function Yo(f){z(f.g,function(g,w){this.g.hasOwnProperty(w)&&oi(g)},f),f.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Yo(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var K=l.JSON.stringify,W=l.JSON.parse,oe=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function pe(){}pe.prototype.h=null;function ge(f){return f.h||(f.h=f.i())}function Ee(){}var De={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Le(){ne.call(this,"d")}S(Le,ne);function Me(){ne.call(this,"c")}S(Me,ne);var ze={},kt=null;function kn(){return kt=kt||new Mn}ze.La="serverreachability";function tn(f){ne.call(this,ze.La,f)}S(tn,ne);function Vn(f){const g=kn();hn(g,new tn(g))}ze.STAT_EVENT="statevent";function gr(f,g){ne.call(this,ze.STAT_EVENT,f),this.stat=g}S(gr,ne);function nn(f){const g=kn();hn(g,new gr(g,f))}ze.Ma="timingevent";function Ji(f,g){ne.call(this,ze.Ma,f),this.size=g}S(Ji,ne);function li(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},g)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Bw(f,g,w,C,H,J){f.info(function(){if(f.g)if(J)for(var fe="",It=J.split("&"),zn=0;zn<It.length;zn++){var pt=It[zn].split("=");if(1<pt.length){var bt=pt[0];pt=pt[1];var Fn=bt.split("_");fe=2<=Fn.length&&Fn[1]=="type"?fe+(bt+"="+pt+"&"):fe+(bt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+g+`
`+w+`
`+fe})}function zw(f,g,w,C,H,J,fe){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+g+`
`+w+`
`+J+" "+fe})}function Zo(f,g,w,C){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ww(f,w)+(C?" "+C:"")})}function jw(f,g){f.info(function(){return"TIMEOUT: "+g})}br.prototype.info=function(){};function Ww(f,g){if(!f.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var C=w[f];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<H.length;fe++)H[fe]=""}}}}return K(w)}catch{return g}}var ec={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function El(){}S(El,pe),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},hf=new El;function ys(f,g,w,C){this.j=f,this.i=g,this.l=w,this.R=C||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}var Um={},pf={};function mf(f,g,w){f.L=1,f.v=Xo(Ci(g)),f.m=w,f.P=!0,$m(f,null)}function $m(f,g){f.F=Date.now(),eo(f),f.A=Ci(f.v);var w=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),If(w.i,"t",C),f.C=0,w=f.j.J,f.h=new Fm,f.g=ag(f.j,w?g:null,!f.m),0<f.O&&(f.M=new wl(_(f.Y,f,f.g),f.O)),g=f.U,w=f.g,C=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Qo[0]=H.toString()),H=Qo);for(var J=0;J<H.length;J++){var fe=or(w,H[J],C||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),Vn(),Bw(f.i,f.u,f.A,f.l,f.R,f.m)}ys.prototype.ca=function(f){f=f.target;const g=this.M;g&&lr(f)==3?g.j():this.Y(f)},ys.prototype.Y=function(f){try{if(f==this.g)e:{const Fn=lr(this.g);var g=this.g.Ba();const Oi=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||Rf(this.g)))){this.J||Fn!=4||g==7||(g==8||0>=Oi?Vn(3):Vn(2)),gf(this);var w=this.g.Z();this.X=w;t:if(Tl(this)){var C=Rf(this.g);f="";var H=C.length,J=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Il(this);var fe="";break t}this.h.i=new l.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,f+=this.h.i.decode(C[g],{stream:!(J&&g==H-1)});C.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,zw(this.i,this.u,this.A,this.l,this.R,Fn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var It,zn=this.g;if((It=zn.g?zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(It)){var pt=It;break t}}pt=null}if(w=pt)Zo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tc(this,w);else{this.o=!1,this.s=3,nn(12),ws(this),Il(this);break e}}if(this.P){w=!0;let jr;for(;!this.J&&this.C<fe.length;)if(jr=Gw(this,fe),jr==pf){Fn==4&&(this.s=4,nn(14),w=!1),Zo(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==Um){this.s=4,nn(15),Zo(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Zo(this.i,this.l,jr,null),tc(this,jr);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||fe.length!=0||this.h.h||(this.s=1,nn(16),w=!1),this.o=this.o&&w,!w)Zo(this.i,this.l,fe,"[Invalid Chunked Response]"),ws(this),Il(this);else if(0<fe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ni(bt),bt.M=!0,nn(11))}}else Zo(this.i,this.l,fe,null),tc(this,fe);Fn==4&&ws(this),this.o&&!this.J&&(Fn==4?Ut(this.j,this):(this.o=!1,eo(this)))}else bf(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),ws(this),Il(this)}}}catch{}finally{}};function Tl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Gw(f,g){var w=f.C,C=g.indexOf(`
`,w);return C==-1?pf:(w=Number(g.substring(w,C)),isNaN(w)?Um:(C+=1,C+w>g.length?pf:(g=g.slice(C,C+w),f.C=C+w,g)))}ys.prototype.cancel=function(){this.J=!0,ws(this)};function eo(f){f.S=Date.now()+f.I,Bm(f,f.I)}function Bm(f,g){if(f.B!=null)throw Error("WatchDog timer not null");f.B=li(_(f.ba,f),g)}function gf(f){f.B&&(l.clearTimeout(f.B),f.B=null)}ys.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(jw(this.i,this.A),this.L!=2&&(Vn(),nn(17)),ws(this),this.s=2,Il(this)):Bm(this,this.S-f)};function Il(f){f.j.G==0||f.J||Ut(f.j,f)}function ws(f){gf(f);var g=f.M;g&&typeof g.ma=="function"&&g.ma(),f.M=null,Yo(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function tc(f,g){try{var w=f.j;if(w.G!=0&&(w.g==f||_f(w.h,f))){if(!f.K&&_f(w.h,f)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)na(w),bl(w);else break e;oc(w),nn(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=li(_(w.Za,w),6e3));if(1>=Gm(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else es(w,11)}else if((f.K||w.g==f)&&na(w),!A(g))for(H=w.Da.g.parse(g),g=0;g<H.length;g++){let pt=H[g];if(w.T=pt[0],pt=pt[1],w.G==2)if(pt[0]=="c"){w.K=pt[1],w.ia=pt[2];const bt=pt[3];bt!=null&&(w.la=bt,w.j.info("VER="+w.la));const Fn=pt[4];Fn!=null&&(w.Aa=Fn,w.j.info("SVER="+w.Aa));const Oi=pt[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(C=1.5*Oi,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const jr=f.g;if(jr){const Nl=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var J=C.h;J.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(nc(J,J.h),J.h=null))}if(C.D){const kf=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;kf&&(C.ya=kf,Dt(C.I,C.D,kf))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var fe=f;if(C.qa=ac(C,C.J?C.ia:null,C.W),fe.K){vf(C.h,fe);var It=fe,zn=C.L;zn&&(It.I=zn),It.B&&(gf(It),eo(It)),C.g=fe}else sg(C);0<w.i.length&&Pl(w)}else pt[0]!="stop"&&pt[0]!="close"||es(w,7);else w.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?es(w,7):sc(w):pt[0]!="noop"&&w.l&&w.l.ta(pt),w.v=0)}}Vn(4)}catch{}}var zm=class{constructor(f,g){this.g=f,this.map=g}};function jm(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wm(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Gm(f){return f.h?1:f.g?f.g.size:0}function _f(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function nc(f,g){f.g?f.g.add(g):f.h=g}function vf(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}jm.prototype.cancel=function(){if(this.i=yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const w of f.g.values())g=g.concat(w.D);return g}return R(f.i)}function wf(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var g=[],w=f.length,C=0;C<w;C++)g.push(f[C]);return g}g=[],w=0;for(C in f)g[w++]=f[C];return g}function qw(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var g=[];f=f.length;for(var w=0;w<f;w++)g.push(w);return g}g=[],w=0;for(const C in f)g[w++]=C;return g}}}function Ef(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,g,void 0);else for(var w=qw(f),C=wf(f),H=C.length,J=0;J<H;J++)g.call(void 0,C[J],w&&w[J],f)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qm(f,g){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var C=f[w].indexOf("="),H=null;if(0<=C){var J=f[w].substring(0,C);H=f[w].substring(C+1)}else J=f[w];g(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function to(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof to){this.h=f.h,Al(this,f.j),this.o=f.o,this.g=f.g,Jo(this,f.s),this.l=f.l;var g=f.i,w=new ea;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Hm(this,w),this.m=f.m}else f&&(g=String(f).match(Sl))?(this.h=!1,Al(this,g[1]||"",!0),this.o=no(g[2]||""),this.g=no(g[3]||"",!0),Jo(this,g[4]),this.l=no(g[5]||"",!0),Hm(this,g[6]||"",!0),this.m=no(g[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}to.prototype.toString=function(){var f=[],g=this.j;g&&f.push(ki(g,Tf,!0),":");var w=this.g;return(w||g=="file")&&(f.push("//"),(g=this.o)&&f.push(ki(g,Tf,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ki(w,w.charAt(0)=="/"?Qm:Hw,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ki(w,Zm)),f.join("")};function Ci(f){return new to(f)}function Al(f,g,w){f.j=w?no(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function Jo(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function Hm(f,g,w){g instanceof ea?(f.i=g,Kw(f.i,f.h)):(w||(g=ki(g,Ym)),f.i=new ea(g,f.h))}function Dt(f,g,w){f.i.set(g,w)}function Xo(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function no(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ki(f,g,w){return typeof f=="string"?(f=encodeURI(f).replace(g,Km),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Km(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Tf=/[#\/\?@]/g,Hw=/[#\?:]/g,Qm=/[#\?]/g,Ym=/[#\?@]/g,Zm=/#/g;function ea(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function Es(f){f.g||(f.g=new Map,f.h=0,f.i&&qm(f.i,function(g,w){f.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=ea.prototype,t.add=function(f,g){Es(this),this.i=null,f=ta(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(g),this.h+=1,this};function Jm(f,g){Es(f),g=ta(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function Xm(f,g){return Es(f),g=ta(f,g),f.g.has(g)}t.forEach=function(f,g){Es(this),this.g.forEach(function(w,C){w.forEach(function(H){f.call(g,H,C,this)},this)},this)},t.na=function(){Es(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const H=f[C];for(let J=0;J<H.length;J++)w.push(g[C])}return w},t.V=function(f){Es(this);let g=[];if(typeof f=="string")Xm(this,f)&&(g=g.concat(this.g.get(ta(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)g=g.concat(f[w])}return g},t.set=function(f,g){return Es(this),this.i=null,f=ta(this,f),Xm(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=this.V(f),0<f.length?String(f[0]):g):g};function If(f,g,w){Jm(f,g),0<w.length&&(f.i=null,f.g.set(ta(f,g),R(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const J=encodeURIComponent(String(C)),fe=this.V(C);for(C=0;C<fe.length;C++){var H=J;fe[C]!==""&&(H+="="+encodeURIComponent(String(fe[C]))),f.push(H)}}return this.i=f.join("&")};function ta(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function Kw(f,g){g&&!f.j&&(Es(f),f.i=null,f.g.forEach(function(w,C){var H=C.toLowerCase();C!=H&&(Jm(this,C),If(this,H,w))},f)),f.j=g}function Qw(f,g){const w=new br;if(l.Image){const C=new Image;C.onload=y(xi,w,"TestLoadImage: loaded",!0,g,C),C.onerror=y(xi,w,"TestLoadImage: error",!1,g,C),C.onabort=y(xi,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=y(xi,w,"TestLoadImage: timeout",!1,g,C),l.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else g(!1)}function Yw(f,g){const w=new br,C=new AbortController,H=setTimeout(()=>{C.abort(),xi(w,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:C.signal}).then(J=>{clearTimeout(H),J.ok?xi(w,"TestPingServer: ok",!0,g):xi(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),xi(w,"TestPingServer: error",!1,g)})}function xi(f,g,w,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(w)}catch{}}function Zw(){this.g=new oe}function Jw(f,g,w){const C=w||"";try{Ef(f,function(H,J){let fe=H;d(H)&&(fe=K(H)),g.push(C+J+"="+encodeURIComponent(fe))})}catch(H){throw g.push(C+"type="+encodeURIComponent("_badmap")),H}}function Rl(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Rl,pe),Rl.prototype.g=function(){return new rc(this.l,this.j)},Rl.prototype.i=function(f){return function(){return f}}({});function rc(f,g){Mn.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(rc,Mn),t=rc.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,yt(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||l).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tt(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yt(this)),this.g&&(this.readyState=3,yt(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eg(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function eg(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?Tt(this):yt(this),this.readyState==3&&eg(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Tt(this))},t.Qa=function(f){this.g&&(this.response=f,Tt(this))},t.ga=function(){this.g&&Tt(this)};function Tt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,yt(f)}t.setRequestHeader=function(f,g){this.u.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=g.next();return f.join(`\r
`)};function yt(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function tg(f){let g="";return z(f,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function Sf(f,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=tg(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):Dt(f,g,w))}function rn(f){Mn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(rn,Mn);var Xw=/^https?$/i,e0=["POST","PUT"];t=rn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?ge(this.o):ge(hf),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(J){ng(this,J);return}if(f=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)w.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())w.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),H=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(e0,g,void 0))||C||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of w)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ic(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){ng(this,J)}};function ng(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,Af(f),En(f)}function Af(f){f.A||(f.A=!0,hn(f,"complete"),hn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,hn(this,"complete"),hn(this,"abort"),En(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),rn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rg(this):this.bb())},t.bb=function(){rg(this)};function rg(f){if(f.h&&typeof o<"u"&&(!f.v[1]||lr(f)!=4||f.Z()!=2)){if(f.u&&lr(f)==4)Ho(f.Ea,0,f);else if(hn(f,"readystatechange"),lr(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=fe===0){var H=String(f.D).match(Sl)[1]||null;!H&&l.self&&l.self.location&&(H=l.self.location.protocol.slice(0,-1)),C=!Xw.test(H?H.toLowerCase():"")}w=C}if(w)hn(f,"complete"),hn(f,"success");else{f.m=6;try{var J=2<lr(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Af(f)}}finally{En(f)}}}}function En(f,g){if(f.g){ic(f);const w=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||hn(f,"ready");try{w.onreadystatechange=C}catch{}}}function ic(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),W(g)}};function Rf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(f){const g={};f=(f.g&&2<=lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(A(f[C]))continue;var w=L(f[C]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=g[H]||[];g[H]=J,J.push(w)}x(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(f,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||g}function Pf(f){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,f),this.cb=Qn("retryDelaySeedMs",1e4,f),this.Wa=Qn("forwardChannelMaxRetries",2,f),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jm(f&&f.concurrentRequestLimit),this.Da=new Zw,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pf.prototype,t.la=8,t.G=1,t.connect=function(f,g,w,C){nn(0),this.W=f,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ac(this,null,this.W),Pl(this)};function sc(f){if(Cf(f),f.G==3){var g=f.U++,w=Ci(f.I);if(Dt(w,"SID",f.K),Dt(w,"RID",g),Dt(w,"TYPE","terminate"),Cl(f,w),g=new ys(f,f.j,g),g.L=2,g.v=Xo(Ci(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=g.v,w=!0),w||(g.g=ag(g.j,null),g.g.ea(g.v)),g.F=Date.now(),eo(g)}og(f)}function bl(f){f.g&&(Ni(f),f.g.cancel(),f.g=null)}function Cf(f){bl(f),f.u&&(l.clearTimeout(f.u),f.u=null),na(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Pl(f){if(!Wm(f.h)&&!f.s){f.s=!0;var g=f.Ga;wt||ue(),ce||(wt(),ce=!0),we.add(g,f),f.B=0}}function ig(f,g){return Gm(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=g.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=li(_(f.Ga,f,g),Xi(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new ys(this,this.j,f);let J=this.o;if(this.S&&(J?(J=I(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Pr(this,H,g),w=Ci(this.I),Dt(w,"RID",f),Dt(w,"CVER",22),this.D&&Dt(w,"X-HTTP-Session-Id",this.D),Cl(this,w),J&&(this.O?g="headers="+encodeURIComponent(String(tg(J)))+"&"+g:this.m&&Sf(w,this.m,J)),nc(this.h,H),this.Ua&&Dt(w,"TYPE","init"),this.P?(Dt(w,"$req",g),Dt(w,"SID","null"),H.T=!0,mf(H,w,null)):mf(H,w,g),this.G=2}}else this.G==3&&(f?_r(this,f):this.i.length==0||Wm(this.h)||_r(this))};function _r(f,g){var w;g?w=g.l:w=f.U++;const C=Ci(f.I);Dt(C,"SID",f.K),Dt(C,"RID",w),Dt(C,"AID",f.T),Cl(f,C),f.m&&f.o&&Sf(C,f.m,f.o),w=new ys(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),g&&(f.i=g.D.concat(f.i)),g=Pr(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),nc(f.h,w),mf(w,C,g)}function Cl(f,g){f.H&&z(f.H,function(w,C){Dt(g,C,w)}),f.l&&Ef({},function(w,C){Dt(g,C,w)})}function Pr(f,g,w){w=Math.min(f.i.length,w);var C=f.l?_(f.l.Na,f.l,f):null;e:{var H=f.i;let J=-1;for(;;){const fe=["count="+w];J==-1?0<w?(J=H[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let It=!0;for(let zn=0;zn<w;zn++){let pt=H[zn].g;const bt=H[zn].map;if(pt-=J,0>pt)J=Math.max(0,H[zn].g-100),It=!1;else try{Jw(bt,fe,"req"+pt+"_")}catch{C&&C(bt)}}if(It){C=fe.join("&");break e}}}return f=f.i.splice(0,w),g.D=f,C}function sg(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;wt||ue(),ce||(wt(),ce=!0),we.add(g,f),f.v=0}}function oc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=li(_(f.Fa,f),Xi(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=li(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),bl(this),kl(this))};function Ni(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function kl(f){f.g=new ys(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var g=Ci(f.qa);Dt(g,"RID","rpc"),Dt(g,"SID",f.K),Dt(g,"AID",f.T),Dt(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(g,"TO",f.ja),Dt(g,"TYPE","xmlhttp"),Cl(f,g),f.m&&f.o&&Sf(g,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Xo(Ci(g)),w.m=null,w.P=!0,$m(w,f)}t.Za=function(){this.C!=null&&(this.C=null,bl(this),oc(this),nn(19))};function na(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Ut(f,g){var w=null;if(f.g==g){na(f),Ni(f),f.g=null;var C=2}else if(_f(f.h,g))w=g.D,vf(f.h,g),C=1;else return;if(f.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var H=f.B;C=kn(),hn(C,new Ji(C,w)),Pl(f)}else sg(f);else if(H=g.s,H==3||H==0&&0<g.X||!(C==1&&ig(f,g)||C==2&&oc(f)))switch(w&&0<w.length&&(g=f.h,g.i=g.i.concat(w)),H){case 1:es(f,5);break;case 4:es(f,10);break;case 3:es(f,6);break;default:es(f,2)}}}function Xi(f,g){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*g}function es(f,g){if(f.j.info("Error code "+g),g==2){var w=_(f.fb,f),C=f.Xa;const H=!C;C=new to(C||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Al(C,"https"),Xo(C),H?Qw(C.toString(),w):Yw(C.toString(),w)}else nn(2);f.G=0,f.l&&f.l.sa(g),og(f),Cf(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function og(f){if(f.G=0,f.ka=[],f.l){const g=yf(f.h);(g.length!=0||f.i.length!=0)&&(D(f.ka,g),D(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function ac(f,g,w){var C=w instanceof to?Ci(w):new to(w);if(C.g!="")g&&(C.g=g+"."+C.g),Jo(C,C.s);else{var H=l.location;C=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var J=new to(null);C&&Al(J,C),g&&(J.g=g),H&&Jo(J,H),w&&(J.l=w),C=J}return w=f.D,g=f.ya,w&&g&&Dt(C,w,g),Dt(C,"VER",f.la),Cl(f,C),C}function ag(f,g,w){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Ca&&!f.pa?new rn(new Rl({eb:w})):new rn(f.pa),g.Ha(f.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lg(){}t=lg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(f,g){return new vr(f,g)};function vr(f,g){Mn.call(this),this.g=new Pf(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!A(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.D=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new ra(this)}S(vr,Mn),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){sc(this.g)},vr.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=K(f),f=w);g.i.push(new zm(g.Ya++,f)),g.G==3&&Pl(g)},vr.prototype.N=function(){this.g.l=null,delete this.j,sc(this.g),delete this.g,vr.aa.N.call(this)};function xl(f){Le.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const w in g){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}S(xl,Le);function ro(){Me.call(this),this.status=1}S(ro,Me);function ra(f){this.g=f}S(ra,lg),ra.prototype.ua=function(){hn(this.g,"a")},ra.prototype.ta=function(f){hn(this.g,new xl(f))},ra.prototype.sa=function(f){hn(this.g,new ro)},ra.prototype.ra=function(){hn(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,LF=function(){return new lc},DF=function(){return kn()},OF=ze,rS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,Q_=ec,Vm.COMPLETE="complete",NF=Vm,Ee.EventType=De,De.OPEN="a",De.CLOSE="b",De.ERROR="c",De.MESSAGE="d",Mn.prototype.listen=Mn.prototype.K,Ah=Ee,xF=Rl,rn.prototype.listenOnce=rn.prototype.L,rn.prototype.getLastError=rn.prototype.Ka,rn.prototype.getLastErrorCode=rn.prototype.Ba,rn.prototype.getStatus=rn.prototype.Z,rn.prototype.getResponseJson=rn.prototype.Oa,rn.prototype.getResponseText=rn.prototype.oa,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Ha,kF=rn}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});const tN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new sw("@firebase/firestore");function kc(){return el.logLevel}function lae(t){el.setLogLevel(t)}function se(t,...e){if(el.logLevel<=lt.DEBUG){const n=e.map(LA);el.debug(`Firestore (${sf}): ${t}`,...n)}}function Dn(t,...e){if(el.logLevel<=lt.ERROR){const n=e.map(LA);el.error(`Firestore (${sf}): ${t}`,...n)}}function gs(t,...e){if(el.logLevel<=lt.WARN){const n=e.map(LA);el.warn(`Firestore (${sf}): ${t}`,...n)}}function LA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: `+t;throw Dn(e),new Error(e)}function Ne(t,e){t||Se()}function uae(t,e){t||Se()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class dae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fae{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new MF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Xn(e)}}class hae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mae{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new mae(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_ae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Dd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function FF(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new fn(0,0))}static max(){return new Oe(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends jp{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const vae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends jp{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return vae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ft.fromString(e))}static fromName(e){return new me(ft.fromString(e).popFirst(5))}static empty(){return new me(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function iS(t){return t.fields.find(e=>e.kind===2)}function Gl(t){return t.fields.filter(e=>e.kind!==2)}iy.UNKNOWN_ID=-1;class Y_{constructor(e,n){this.fieldPath=e,this.kind=n}}class Wp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Wp(0,Ti.min())}}function UF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Ti(i,me.empty(),e)}function $F(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(Oe.min(),me.empty(),-1)}static max(){return new Ti(Oe.max(),me.empty(),-1)}}function MA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==BF)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{o[d]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new rr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Kh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=VA(r.target.error);this.V.reject(new Kh(e,i))}}static open(e,n,r,i){try{return new vw(n,e.transaction(i,r))}catch(s){throw new Kh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wae(n)}}class Bs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Bs.S(wn())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Kl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dp())return!1;if(Bs.v())return!0;const e=wn(),n=Bs.S(e),r=0<n&&n<10,i=jF(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Kh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new re(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new re(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Kh(e,o))},i.onupgradeneeded=s=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const l=vw.open(this.db,e,s?"readonly":"readwrite",r),u=i(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),Q.reject(d))).toPromise();return u.catch(()=>{}),await l.m,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&o<3;if(se("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function jF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class yae{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Kl(this.B.delete())}}class Kh extends re{constructor(e,n){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function gl(t){return t.name==="IndexedDbTransactionError"}class wae{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kl(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Kl(this.store.add(e))}get(e){return Kl(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Kl(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Kl(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q((o,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(l,u)=>{o.push(u)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,l)=>l.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new Q((r,i)=>{n.onerror=s=>{const o=VA(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}W(e,n){const r=[];return new Q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const u=new yae(l),d=n(l.primaryKey,l.value,u);if(d instanceof Q){const p=d.catch(m=>(u.done(),Q.reject(m)));r.push(p)}u.isDone?i():u.K===null?l.continue():l.continue(u.K)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Kl(t){return new Q((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=VA(r.target.error);n(i)}})}let nN=!1;function VA(t){const e=Bs.S(wn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nN||(nN=!0,setTimeout(()=>{throw r},0)),r}}return t}class Eae{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){se("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{se("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){gl(n)?se("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ml(n)}await this.X(6e4)})}}class Tae{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return se("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(l=>(se("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=$F(s);MA(o,r)>0&&(r=o)}),new Ti(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jr.oe=-1;function Sm(t){return t==null}function Gp(t){return t===0&&1/t==-1/0}function WF(t){return typeof t=="number"&&Number.isInteger(t)&&!Gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rN(e)),e=Iae(t.get(n),e);return rN(e)}function Iae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function rN(t){return t+""}function Vs(t){const e=t.length;if(Ne(e>=2),e===2)return Ne(t.charAt(0)===""&&t.charAt(1)===""),ft.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Se(),t.charAt(o+1)){case"":const l=t.substring(s,o);let u;i.length===0?u=l:(i+=l,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Se()}s=o+2}return new ft(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){return[t,Vr(e)]}function GF(t,e,n){return[t,Vr(e),n]}const Sae={},Aae=["prefixPath","collectionGroup","readTime","documentId"],Rae=["prefixPath","collectionGroup","documentId"],bae=["collectionGroup","readTime","prefixPath","documentId"],Pae=["canonicalId","targetId"],Cae=["targetId","path"],kae=["path","targetId"],xae=["collectionId","parent"],Nae=["indexId","uid"],Oae=["uid","sequenceNumber"],Dae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lae=["indexId","uid","orderedDocumentKey"],Mae=["userId","collectionPath","documentId"],Vae=["userId","collectionPath","largestBatchId"],Fae=["userId","collectionGroup","largestBatchId"],qF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uae=[...qF,"documentOverlays"],HF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KF=HF,FA=[...KF,"indexConfiguration","indexState","indexEntries"],$ae=FA,Bae=[...FA,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends zF{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Kn(t,e){const n=_e(t);return Bs.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ku(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new E_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new E_(this.root,e,this.comparator,!1)}getReverseIterator(){return new E_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new E_(this.root,e,this.comparator,!0)}}class E_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??dr.EMPTY,this.right=s??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oN(this.data.getIterator())}getIteratorFrom(e){return new oN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class oN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ac(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new Vt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YF("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const jae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=jae.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UA(t){const e=t.mapValue.fields.__previous_value__;return yw(e)?UA(e):e}function qp(t){const e=Vo(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},J_={nullValue:"NULL_VALUE"};function Nu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yw(t)?4:ZF(t)?9007199254740991:ww(t)?10:11:Se()}function Ks(t,e){if(t===e)return!0;const n=Nu(t);if(n!==Nu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qp(t).isEqual(qp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vo(i.timestampValue),l=Vo(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return tl(i.bytesValue).isEqual(tl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return on(i.geoPointValue.latitude)===on(s.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return on(i.integerValue)===on(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=on(i.doubleValue),l=on(s.doubleValue);return o===l?Gp(o)===Gp(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Dd(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(sN(o)!==sN(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Ks(o[u],l[u])))return!1;return!0}(t,e);default:return Se()}}function Hp(t,e){return(t.values||[]).find(n=>Ks(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Nu(t),r=Nu(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=on(s.integerValue||s.doubleValue),u=on(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return aN(t.timestampValue,e.timestampValue);case 4:return aN(qp(t),qp(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(s,o){const l=tl(s),u=tl(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=Ke(l[d],u[d]);if(p!==0)return p}return Ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ke(on(s.latitude),on(o.latitude));return l!==0?l:Ke(on(s.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lN(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,d,p;const m=s.fields||{},_=o.fields||{},y=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,R=Ke(((d=y?.values)===null||d===void 0?void 0:d.length)||0,((p=S?.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:lN(y,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Oa.mapValue&&o===Oa.mapValue)return 0;if(s===Oa.mapValue)return 1;if(o===Oa.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const _=Ke(u[m],p[m]);if(_!==0)return _;const y=rl(l[u[m]],d[p[m]]);if(y!==0)return y}return Ke(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Se()}}function aN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Vo(t),r=Vo(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function lN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rl(n[i],r[i]);if(s)return s}return Ke(n.length,r.length)}function Ld(t){return oS(t)}function oS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=oS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${oS(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function Ou(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aS(t){return!!t&&"integerValue"in t}function Kp(t){return!!t&&"arrayValue"in t}function uN(t){return!!t&&"nullValue"in t}function cN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function X_(t){return!!t&&"mapValue"in t}function ww(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ku(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const JF={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Gae(t){return"nullValue"in t?J_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ou(nl.empty(),me.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ww(t)?JF:{mapValue:{}}:Se()}function qae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ou(nl.empty(),me.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?JF:"mapValue"in t?ww(t)?{mapValue:{}}:Oa:Se()}function dN(t,e){const n=rl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function fN(t,e){const n=rl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!X_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qh(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Qh(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());X_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];X_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ku(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fr(Qh(this.value))}}function XF(t){const e=[];return Ku(t.fields,(n,r)=>{const i=new un([n]);if(X_(r)){const s=XF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Yt(e,0,Oe.min(),Oe.min(),Oe.min(),fr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Oe.min(),Oe.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Oe.min(),Oe.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.position=e,this.inclusive=n}}function hN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=rl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{}class ht extends eU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kae(e,n,r):n==="array-contains"?new Zae(e,r):n==="in"?new oU(e,r):n==="not-in"?new Jae(e,r):n==="array-contains-any"?new Xae(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qae(e,r):new Yae(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Nu(this.value)===Nu(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nt extends eU{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nt(e,n)}matches(e){return Md(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Md(t){return t.op==="and"}function lS(t){return t.op==="or"}function $A(t){return tU(t)&&Md(t)}function tU(t){for(const e of t.filters)if(e instanceof Nt)return!1;return!0}function uS(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Ld(t.value);if($A(t))return t.filters.map(e=>uS(e)).join(",");{const e=t.filters.map(n=>uS(n)).join(",");return`${t.op}(${e})`}}function nU(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&Ks(r.value,i.value)}(t,e):t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&nU(o,i.filters[l]),!0):!1}(t,e):void Se()}function rU(t,e){const n=t.filters.concat(e);return Nt.create(n,t.op)}function iU(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ld(n.value)}`}(t):t instanceof Nt?function(n){return n.op.toString()+" {"+n.getFilters().map(iU).join(" ,")+"}"}(t):"Filter"}class Kae extends ht{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qae extends ht{constructor(e,n){super(e,"in",n),this.keys=sU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yae extends ht{constructor(e,n){super(e,"not-in",n),this.keys=sU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class Zae extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&Hp(n.arrayValue,this.value)}}class oU extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hp(this.value.arrayValue,n)}}class Jae extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hp(this.value.arrayValue,n)}}class Xae extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function cS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ele(t,e,n,r,i,s,o)}function Du(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ld(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ld(r)).join(",")),e.ue=n}return e.ue}function Am(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pN(t.startAt,e.startAt)&&pN(t.endAt,e.endAt)}function sy(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function oy(t,e){return t.filters.filter(n=>n instanceof ht&&n.field.isEqual(e))}function mN(t,e,n){let r=J_,i=!0;for(const s of oy(t,e)){let o=J_,l=!0;switch(s.op){case"<":case"<=":o=Gae(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=J_}dN({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];dN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function gN(t,e,n){let r=Oa,i=!0;for(const s of oy(t,e)){let o=Oa,l=!0;switch(s.op){case">=":case">":o=qae(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Oa}fN({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];fN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aU(t,e,n,r,i,s,o,l){return new Wo(t,e,n,r,i,s,o,l)}function of(t){return new Wo(t)}function _N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BA(t){return t.collectionGroup!==null}function ud(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(un.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qp(s,r))}),n.has(un.keyField().canonicalString())||e.ce.push(new Qp(un.keyField(),r))}return e.ce}function Fr(t){const e=_e(t);return e.le||(e.le=tle(e,ud(t))),e.le}function tle(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qp(i.field,s)});const n=t.endAt?new il(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new il(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dS(t,e){const n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rm(t,e){return Am(Fr(t),Fr(e))&&t.limitType===e.limitType}function lU(t){return`${Du(Fr(t))}|lt:${t.limitType}`}function xc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iU(i)).join(", ")}]`),Sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ld(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ld(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function bm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ud(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=hN(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,ud(r),i)||r.endAt&&!function(o,l,u){const d=hN(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,ud(r),i))}(t,e)}function uU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cU(t){return(e,n)=>{let r=!1;for(const i of ud(t)){const s=nle(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nle(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?rl(u,d):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ku(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=new Gt(me.comparator);function ei(){return rle}const dU=new Gt(me.comparator);function Rh(...t){let e=dU;for(const n of t)e=e.insert(n.key,n);return e}function fU(t){let e=dU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fs(){return Yh()}function hU(){return Yh()}function Yh(){return new _l(t=>t.toString(),(t,e)=>t.isEqual(e))}const ile=new Gt(me.comparator),sle=new Vt(me.comparator);function Je(...t){let e=sle;for(const n of t)e=e.add(n);return e}const ole=new Vt(Ke);function zA(){return ole}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(e)?"-0":e}}function pU(t){return{integerValue:""+t}}function mU(t,e){return WF(e)?pU(e):jA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this._=void 0}}function ale(t,e,n){return t instanceof Vd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yw(s)&&(s=UA(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Lu?_U(t,e):t instanceof Mu?vU(t,e):function(i,s){const o=gU(i,s),l=vN(o)+vN(i.Pe);return aS(o)&&aS(i.Pe)?pU(l):jA(i.serializer,l)}(t,e)}function lle(t,e,n){return t instanceof Lu?_U(t,e):t instanceof Mu?vU(t,e):n}function gU(t,e){return t instanceof Fd?function(r){return aS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vd extends Ew{}class Lu extends Ew{constructor(e){super(),this.elements=e}}function _U(t,e){const n=yU(e);for(const r of t.elements)n.some(i=>Ks(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mu extends Ew{constructor(e){super(),this.elements=e}}function vU(t,e){let n=yU(e);for(const r of t.elements)n=n.filter(i=>!Ks(i,r));return{arrayValue:{values:n}}}class Fd extends Ew{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function vN(t){return on(t.integerValue||t.doubleValue)}function yU(t){return Kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.field=e,this.transform=n}}function ule(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lu&&i instanceof Lu||r instanceof Mu&&i instanceof Mu?Dd(r.elements,i.elements,Ks):r instanceof Fd&&i instanceof Fd?Ks(r.Pe,i.Pe):r instanceof Vd&&i instanceof Vd}(t.transform,e.transform)}class cle{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ev(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tw{}function wU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lf(t.key,cn.none()):new af(t.key,t.data,cn.none());{const n=t.data,r=fr.empty();let i=new Vt(un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Go(t.key,r,new Xr(i.toArray()),cn.none())}}function dle(t,e,n){t instanceof af?function(i,s,o){const l=i.value.clone(),u=wN(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Go?function(i,s,o){if(!ev(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=wN(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(EU(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zh(t,e,n,r){return t instanceof af?function(s,o,l,u){if(!ev(s.precondition,o))return l;const d=s.value.clone(),p=EN(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Go?function(s,o,l,u){if(!ev(s.precondition,o))return l;const d=EN(s.fieldTransforms,u,o),p=o.data;return p.setAll(EU(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return ev(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function fle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gU(r.transform,i||null);s!=null&&(n===null&&(n=fr.empty()),n.set(r.field,s))}return n||null}function yN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dd(r,i,(s,o)=>ule(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class af extends Tw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Go extends Tw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wN(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,lle(o,l,n[i]))}return r}function EN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ale(s,o,e))}return r}class lf extends Tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends Tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dle(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=wU(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,(n,r)=>yN(n,r))&&Dd(this.baseMutations,e.baseMutations,(n,r)=>yN(n,r))}}class qA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return ile}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,gt;function TU(t){switch(t){default:return Se();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function IU(t){if(t===void 0)return Dn("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Un.OK:return Z.OK;case Un.CANCELLED:return Z.CANCELLED;case Un.UNKNOWN:return Z.UNKNOWN;case Un.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Un.INTERNAL:return Z.INTERNAL;case Un.UNAVAILABLE:return Z.UNAVAILABLE;case Un.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Un.NOT_FOUND:return Z.NOT_FOUND;case Un.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Un.ABORTED:return Z.ABORTED;case Un.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Un.DATA_LOSS:return Z.DATA_LOSS;default:return Se()}}(gt=Un||(Un={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple=new hu([4294967295,4294967295],0);function TN(t){const e=SU().encode(t),n=new CF;return n.update(e),new Uint8Array(n.digest())}function IN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hu([n,r],0),new hu([i,s],0)]}class KA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bh(`Invalid padding: ${n}`);if(r<0)throw new bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hu.fromNumber(r)));return i.compare(ple)===1&&(i=new hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=TN(e),[r,i]=IN(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new KA(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=TN(e),[r,i]=IN(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,km.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cm(Oe.min(),i,new Gt(Ke),ei(),Je())}}class km{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new km(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class AU{constructor(e,n){this.targetId=e,this.me=n}}class RU{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SN{constructor(){this.fe=0,this.ge=RN(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),n=Je(),r=Je();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new km(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=RN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mle{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=AN(),this.Qe=new Gt(Ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(sy(s))if(r===0){const o=new me(s.path);this.Ue(n,o,Yt.newNoDocument(o,Oe.min()))}else Ne(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=tl(r).toUint8Array()}catch(u){if(u instanceof YF)return gs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new KA(o,i,s)}catch(u){return gs(u instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&sy(l.target)){const u=new me(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Yt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Je();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Cm(e,n,this.Qe,this.ke,r);return this.ke=ei(),this.qe=AN(),this.Qe=new Gt(Ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new SN,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new SN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AN(){return new Gt(me.comparator)}function RN(){return new Gt(me.comparator)}const gle={asc:"ASCENDING",desc:"DESCENDING"},_le={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vle={and:"AND",or:"OR"};class yle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fS(t,e){return t.useProto3Json||Sm(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wle(t,e){return Ud(t,e.toTimestamp())}function Ln(t){return Ne(!!t),Oe.fromTimestamp(function(n){const r=Vo(n);return new fn(r.seconds,r.nanos)}(t))}function QA(t,e){return hS(t,e).canonicalString()}function hS(t,e){const n=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PU(t){const e=ft.fromString(t);return Ne(FU(e)),e}function Yp(t,e){return QA(t.databaseId,e.path)}function zs(t,e){const n=PU(e);if(n.get(1)!==t.databaseId.projectId)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(xU(n))}function CU(t,e){return QA(t.databaseId,e)}function kU(t){const e=PU(t);return e.length===4?ft.emptyPath():xU(e)}function pS(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xU(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bN(t,e,n){return{name:Yp(t,e),fields:n.value.mapValue.fields}}function NU(t,e,n){const r=zs(t,e.name),i=Ln(e.updateTime),s=e.createTime?Ln(e.createTime):Oe.min(),o=new fr({mapValue:{fields:e.fields}}),l=Yt.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Ele(t,e){return"found"in e?function(r,i){Ne(!!i.found),i.found.name,i.found.updateTime;const s=zs(r,i.found.name),o=Ln(i.found.updateTime),l=i.found.createTime?Ln(i.found.createTime):Oe.min(),u=new fr({mapValue:{fields:i.found.fields}});return Yt.newFoundDocument(s,o,l,u)}(t,e):"missing"in e?function(r,i){Ne(!!i.missing),Ne(!!i.readTime);const s=zs(r,i.missing),o=Ln(i.readTime);return Yt.newNoDocument(s,o)}(t,e):Se()}function Tle(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ne(p===void 0||typeof p=="string"),Rn.fromBase64String(p||"")):(Ne(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Rn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const p=d.code===void 0?Z.UNKNOWN:IU(d.code);return new re(p,d.message||"")}(o);n=new RU(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zs(t,r.document.name),s=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):Oe.min(),l=new fr({mapValue:{fields:r.document.fields}}),u=Yt.newFoundDocument(i,s,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new tv(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zs(t,r.document),s=r.readTime?Ln(r.readTime):Oe.min(),o=Yt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new tv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zs(t,r.document),s=r.removedTargetIds||[];n=new tv([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hle(i,s),l=r.targetId;n=new AU(l,o)}}return n}function Zp(t,e){let n;if(e instanceof af)n={update:bN(t,e.key,e.value)};else if(e instanceof lf)n={delete:Yp(t,e.key)};else if(e instanceof Go)n={update:bN(t,e.key,e.data),updateMask:Ple(e.fieldMask)};else{if(!(e instanceof WA))return Se();n={verify:Yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Vd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Lu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fd)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wle(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function mS(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?cn.updateTime(Ln(s.updateTime)):s.exists!==void 0?cn.exists(s.exists):cn.none()}(e.currentDocument):cn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let u=null;if("setToServerValue"in l)Ne(l.setToServerValue==="REQUEST_TIME"),u=new Vd;else if("appendMissingElements"in l){const p=l.appendMissingElements.values||[];u=new Lu(p)}else if("removeAllFromArray"in l){const p=l.removeAllFromArray.values||[];u=new Mu(p)}else"increment"in l?u=new Fd(o,l.increment):Se();const d=un.fromServerFormat(l.fieldPath);return new Pm(d,u)}(t,i)):[];if(e.update){e.update.name;const i=zs(t,e.update.name),s=new fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const d=u.fieldPaths||[];return new Xr(d.map(p=>un.fromServerFormat(p)))}(e.updateMask);return new Go(i,s,o,n,r)}return new af(i,s,n,r)}if(e.delete){const i=zs(t,e.delete);return new lf(i,n)}if(e.verify){const i=zs(t,e.verify);return new WA(i,n)}return Se()}function Ile(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ln(i.updateTime):Ln(s);return o.isEqual(Oe.min())&&(o=Ln(s)),new cle(o,i.transformResults||[])}(n,e))):[]}function OU(t,e){return{documents:[CU(t,e.path)]}}function DU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CU(t,i);const s=function(d){if(d.length!==0)return VU(Nt.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Nc(_.field),direction:Ale(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=fS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function LU(t){let e=kU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const _=MU(m);return _ instanceof Nt&&$A(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(S){return new Qp(Oc(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,Sm(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(m){const _=!!m.before,y=m.values||[];return new il(y,_)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const _=!m.before,y=m.values||[];return new il(y,_)}(n.endAt)),aU(e,i,o,s,l,"F",u,d)}function Sle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oc(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oc(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oc(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oc(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Oc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nt.create(n.compositeFilter.filters.map(r=>MU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function Ale(t){return gle[t]}function Rle(t){return _le[t]}function ble(t){return vle[t]}function Nc(t){return{fieldPath:t.canonicalString()}}function Oc(t){return un.fromServerFormat(t.fieldPath)}function VU(t){return t instanceof ht?function(n){if(n.op==="=="){if(cN(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NAN"}};if(uN(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cN(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NAN"}};if(uN(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(n.field),op:Rle(n.op),value:n.value}}}(t):t instanceof Nt?function(n){const r=n.getFilters().map(i=>VU(i));return r.length===1?r[0]:{compositeFilter:{op:ble(n.op),filters:r}}}(t):Se()}function Ple(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),l=Rn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.ct=e}}function Cle(t,e){let n;if(e.document)n=NU(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=me.fromSegments(e.noDocument.path),i=Fu(e.noDocument.readTime);n=Yt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const r=me.fromSegments(e.unknownDocument.path),i=Fu(e.unknownDocument.version);n=Yt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new fn(i[0],i[1]);return Oe.fromTimestamp(s)}(e.readTime)),n}function PN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ly(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Yp(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ud(s,o.version.toTimestamp()),createTime:Ud(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vu(e.version)};else{if(!e.isUnknownDocument())return Se();r.unknownDocument={path:n.path.toArray(),version:Vu(e.version)}}return r}function ly(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fu(t){const e=new fn(t.seconds,t.nanoseconds);return Oe.fromTimestamp(e)}function Ql(t,e){const n=(e.baseMutations||[]).map(s=>mS(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>mS(t.ct,s)),i=fn.fromMillis(e.localWriteTimeMs);return new GA(e.batchId,i,n,r)}function Ph(t){const e=Fu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fu(t.lastLimboFreeSnapshotVersion):Oe.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Ne(s.documents.length===1),Fr(of(kU(s.documents[0])))}(t.query):function(s){return Fr(LU(s))}(t.query),new Io(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Rn.fromBase64String(t.resumeToken))}function $U(t,e){const n=Vu(e.snapshotVersion),r=Vu(e.lastLimboFreeSnapshotVersion);let i;i=sy(e.target)?OU(t.ct,e.target):DU(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Du(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function YA(t){const e=LU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}function rT(t,e){return new HA(e.largestBatchId,mS(t.ct,e.overlayMutation))}function CN(t,e){const n=e.path.lastSegment();return[t,Vr(e.path.popLast()),n]}function kN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vu(r.readTime),documentKey:Vr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{getBundleMetadata(e,n){return xN(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Fu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return xN(e).put(function(i){return{bundleId:i.id,createTime:Vu(Ln(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return NN(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:YA(s.bundledQuery),readTime:Fu(s.readTime)}}(r)})}saveNamedQuery(e,n){return NN(e).put(function(i){return{name:i.name,readTime:Vu(Ln(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function xN(t){return Kn(t,"bundles")}function NN(t){return Kn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Iw(e,r)}getOverlay(e,n){return uh(e).get(CN(this.userId,n)).next(r=>r?rT(this.serializer,r):null)}getOverlays(e,n){const r=Fs();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const l=new HA(n,o);i.push(this.ht(e,l))}),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Vr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(uh(e).j("collectionPathOverlayIndex",l))}),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Fs(),s=Vr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uh(e).U("collectionPathOverlayIndex",o).next(l=>{for(const u of l){const d=rT(this.serializer,u);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Fs();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uh(e).J({index:"collectionGroupOverlayIndex",range:l},(u,d,p)=>{const m=rT(this.serializer,d);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):p.done()}).next(()=>s)}ht(e,n){return uh(e).put(function(i,s,o){const[l,u,d]=CN(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Zp(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function uh(t){return Kn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{Pt(e){return Kn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n?.value;return r?Rn.fromUint8Array(r):Rn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(on(e.integerValue));else if("doubleValue"in e){const r=on(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Gp(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Vo(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(tl(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?ZF(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ww(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",l=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(on(l)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),me.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Yl.vt=new Yl;function Nle(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ON(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Nle(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Ole{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=ON(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=ON(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Dle{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Lle{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ch{constructor(){this.jt=new Ole,this.Ht=new Dle(this.jt),this.Jt=new Lle(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zl(this.indexId,this.documentKey,this.arrayValue,r)}}function ma(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=DN(t.arrayValue,e.arrayValue),n!==0?n:(n=DN(t.directionalValue,e.directionalValue),n!==0?n:me.comparator(t.documentKey,e.documentKey)))}function DN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.Xt=new Vt((n,r)=>un.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Ne(e.collectionGroup===this.collectionId),this.nn)return!1;const n=iS(e);if(n!==void 0&&!this.sn(n))return!1;const r=Gl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!i.has(l.field.canonicalString())){const u=r[s];if(!this.on(l,u)||!this._n(this.en[o++],u))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.en.length||!this._n(this.en[o++],l))return!1}return!0}an(){if(this.nn)return null;let e=new Vt(un.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Y_(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Y_(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Y_(r.field,r.dir==="asc"?0:1)));return new iy(iy.UNKNOWN_ID,this.collectionId,n,Wp.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){var e,n;if(Ne(t instanceof ht||t instanceof Nt),t instanceof ht){if(t instanceof oU){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ht.create(t.field,"==",s)))||[];return Nt.create(i,"or")}return t}const r=t.filters.map(i=>BU(i));return Nt.create(r,t.op)}function Mle(t){if(t.getFilters().length===0)return[];const e=vS(BU(t));return Ne(zU(e)),gS(e)||_S(e)?[e]:e.getFilters()}function gS(t){return t instanceof ht}function _S(t){return t instanceof Nt&&$A(t)}function zU(t){return gS(t)||_S(t)||function(n){if(n instanceof Nt&&lS(n)){for(const r of n.getFilters())if(!gS(r)&&!_S(r))return!1;return!0}return!1}(t)}function vS(t){if(Ne(t instanceof ht||t instanceof Nt),t instanceof ht)return t;if(t.filters.length===1)return vS(t.filters[0]);const e=t.filters.map(r=>vS(r));let n=Nt.create(e,t.op);return n=uy(n),zU(n)?n:(Ne(n instanceof Nt),Ne(Md(n)),Ne(n.filters.length>1),n.filters.reduce((r,i)=>ZA(r,i)))}function ZA(t,e){let n;return Ne(t instanceof ht||t instanceof Nt),Ne(e instanceof ht||e instanceof Nt),n=t instanceof ht?e instanceof ht?function(i,s){return Nt.create([i,s],"and")}(t,e):MN(t,e):e instanceof ht?MN(e,t):function(i,s){if(Ne(i.filters.length>0&&s.filters.length>0),Md(i)&&Md(s))return rU(i,s.getFilters());const o=lS(i)?i:s,l=lS(i)?s:i,u=o.filters.map(d=>ZA(d,l));return Nt.create(u,"or")}(t,e),uy(n)}function MN(t,e){if(Md(e))return rU(e,t.getFilters());{const n=e.filters.map(r=>ZA(t,r));return Nt.create(n,"or")}}function uy(t){if(Ne(t instanceof ht||t instanceof Nt),t instanceof ht)return t;const e=t.getFilters();if(e.length===1)return uy(e[0]);if(tU(t))return t;const n=e.map(i=>uy(i)),r=[];return n.forEach(i=>{i instanceof ht?r.push(i):i instanceof Nt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Nt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(){this.un=new JA}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ti.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Uint8Array(0);class Fle{constructor(e,n){this.databaseId=n,this.cn=new JA,this.ln=new _l(r=>Du(r),(r,i)=>Am(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:Vr(i)};return VN(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[FF(n),""],!1,!0);return VN(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Vs(o.parent))}return r})}addFieldIndex(e,n){const r=dh(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=bc(e);return s.next(l=>{o.put(kN(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=dh(e),i=bc(e),s=Rc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=dh(e),r=Rc(e),i=bc(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return Q.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new LN(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Rc(e);let i=!0;const s=new Map;return Q.forEach(this.hn(n),o=>this.Pn(e,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=Je();const l=[];return Q.forEach(s,(u,d)=>{se("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(F=>`${F.fieldPath}:${F.kind}`).join(",")}`}(u)} to execute ${Du(n)}`);const p=function(b,F){const B=iS(F);if(B===void 0)return null;for(const z of oy(b,B.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null}(d,u),m=function(b,F){const B=new Map;for(const z of Gl(F))for(const x of oy(b,z.fieldPath))switch(x.op){case"==":case"in":B.set(z.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return B.set(z.fieldPath.canonicalString(),x.value),Array.from(B.values())}return null}(d,u),_=function(b,F){const B=[];let z=!0;for(const x of Gl(F)){const I=x.kind===0?mN(b,x.fieldPath,b.startAt):gN(b,x.fieldPath,b.startAt);B.push(I.value),z&&(z=I.inclusive)}return new il(B,z)}(d,u),y=function(b,F){const B=[];let z=!0;for(const x of Gl(F)){const I=x.kind===0?gN(b,x.fieldPath,b.endAt):mN(b,x.fieldPath,b.endAt);B.push(I.value),z&&(z=I.inclusive)}return new il(B,z)}(d,u),S=this.In(u,d,_),R=this.In(u,d,y),D=this.Tn(u,d,m),T=this.En(u.indexId,p,S,_.inclusive,R,y.inclusive,D);return Q.forEach(T,A=>r.G(A,n.limit).next(b=>{b.forEach(F=>{const B=me.fromSegments(F.documentKey);o.has(B)||(o=o.add(B),l.push(B))})}))}).next(()=>l)}return Q.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=Mle(Nt.create(e.filters,"and")).map(r=>cS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,l){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),d=u/(n!=null?n.length:1),p=[];for(let m=0;m<u;++m){const _=n?this.dn(n[m/d]):T_,y=this.An(e,_,r[m%d],i),S=this.Rn(e,_,s[m%d],o),R=l.map(D=>this.An(e,_,D,!0));p.push(...this.createRange(y,S,R))}return p}An(e,n,r,i){const s=new Zl(e,me.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new Zl(e,me.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new LN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const l of s)r.rn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return Q.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let d=new Vt(un.comparator),p=!1;for(const m of u.filters)for(const _ of m.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?p=!0:d=d.add(_.field));for(const m of u.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new ch;for(const i of Gl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Yl.vt.It(s,o)}return r.zt()}dn(e){const n=new ch;return Yl.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new ch;return Yl.vt.It(Ou(this.databaseId,n),r.Yt(function(s){const o=Gl(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new ch);let s=0;for(const o of Gl(e)){const l=r[s++];for(const u of i)if(this.fn(n,o.fieldPath)&&Kp(l))i=this.gn(i,o,l);else{const d=u.Yt(o.kind);Yl.vt.It(l,d)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const u=new ch;u.seed(l.zt()),Yl.vt.It(o,u.Yt(n.kind)),s.push(u)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof ht&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=dh(e),i=bc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return Q.forEach(s,l=>i.get([l.indexId,this.uid]).next(u=>{o.push(function(p,m){const _=m?new Wp(m.sequenceNumber,new Ti(Fu(m.readTime),new me(Vs(m.documentKey)),m.largestBatchId)):Wp.empty(),y=p.fields.map(([S,R])=>new Y_(un.fromServerFormat(S),R));return new iy(p.indexId,p.collectionGroup,y,_)}(l,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=dh(e),s=bc(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>Q.forEach(l,u=>s.put(kN(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),Q.forEach(l,u=>this.wn(e,i,u).next(d=>{const p=this.Sn(s,u);return d.isEqual(p)?Q.resolve():this.bn(e,s,u,d,p)}))))})}Dn(e,n,r,i){return Rc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Rc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Rc(e);let s=new Vt(ma);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,l)=>{s=s.add(new Zl(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Vt(ma);const i=this.Vn(n,e);if(i==null)return r;const s=iS(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Kp(o))for(const l of o.arrayValue.values||[])r=r.add(new Zl(n.indexId,e.key,this.dn(l),i))}else r=r.add(new Zl(n.indexId,e.key,T_,i));return r}bn(e,n,r,i,s){se("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,d,p,m,_){const y=u.getIterator(),S=d.getIterator();let R=Ac(y),D=Ac(S);for(;R||D;){let T=!1,A=!1;if(R&&D){const b=p(R,D);b<0?A=!0:b>0&&(T=!0)}else R!=null?A=!0:T=!0;T?(m(D),D=Ac(S)):A?(_(R),R=Ac(y)):(R=Ac(y),D=Ac(S))}}(i,s,ma,l=>{o.push(this.Dn(e,n,r,l))},l=>{o.push(this.vn(e,n,r,l))}),Q.waitFor(o)}yn(e){let n=1;return bc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>ma(o,l)).filter((o,l,u)=>!l||ma(o,u[l-1])!==0);const i=[];i.push(e);for(const o of r){const l=ma(o,e),u=ma(o,n);if(l===0)i[0]=e.Zt();else if(l>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,T_,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,T_,[]];s.push(IDBKeyRange.bound(l,u))}return s}Cn(e,n){return ma(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FN)}getMinOffset(e,n){return Q.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Se())).next(FN)}}function VN(t){return Kn(t,"collectionParents")}function Rc(t){return Kn(t,"indexEntries")}function dh(t){return Kn(t,"indexConfiguration")}function bc(t){return Kn(t,"indexState")}function FN(t){Ne(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;MA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ti(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const u=r.J({range:o},(p,m,_)=>(l++,_.delete()));s.push(u.next(()=>{Ne(l===1)}));const d=[];for(const p of n.mutations){const m=GF(e,p.key.path,n.batchId);s.push(i.delete(m)),d.push(p.key)}return Q.waitFor(s).next(()=>d)}function cy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class Sw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){Ne(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Sw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Dc(e),o=ga(e);return o.add({}).next(l=>{Ne(typeof l=="number");const u=new GA(l,n,r,i),d=function(y,S,R){const D=R.baseMutations.map(A=>Zp(y.ct,A)),T=R.mutations.map(A=>Zp(y.ct,A));return{userId:S,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:D,mutations:T}}(this.serializer,this.userId,u),p=[];let m=new Vt((_,y)=>Ke(_.canonicalString(),y.canonicalString()));for(const _ of i){const y=GF(this.userId,_.key.path,l);m=m.add(_.key.path.popLast()),p.push(o.put(d)),p.push(s.put(y,Sae))}return m.forEach(_=>{p.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Fn[l]=u.keys()}),Q.waitFor(p).next(()=>u)})}lookupMutationBatch(e,n){return ga(e).get(n).next(r=>r?(Ne(r.userId===this.userId),Ql(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?Q.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ga(e).J({index:"userMutationsIndex",range:i},(o,l,u)=>{l.userId===this.userId&&(Ne(l.batchId>=r),s=Ql(this.serializer,l)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ga(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ql(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Z_(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Dc(e).J({range:i},(o,l,u)=>{const[d,p,m]=o,_=Vs(p);if(d===this.userId&&n.path.isEqual(_))return ga(e).get(m).next(y=>{if(!y)throw Se();Ne(y.userId===this.userId),s.push(Ql(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ke);const i=[];return n.forEach(s=>{const o=Z_(this.userId,s.path),l=IDBKeyRange.lowerBound(o),u=Dc(e).J({range:l},(d,p,m)=>{const[_,y,S]=d,R=Vs(y);_===this.userId&&s.path.isEqual(R)?r=r.add(S):m.done()});i.push(u)}),Q.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Z_(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Vt(Ke);return Dc(e).J({range:o},(u,d,p)=>{const[m,_,y]=u,S=Vs(_);m===this.userId&&r.isPrefixOf(S)?S.length===i&&(l=l.add(y)):p.done()}).next(()=>this.xn(e,l))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ga(e).get(s).next(o=>{if(o===null)throw Se();Ne(o.userId===this.userId),r.push(Ql(this.serializer,o))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return jU(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Dc(e).J({range:r},(s,o,l)=>{if(s[0]===this.userId){const u=Vs(s[1]);i.push(u)}else l.done()}).next(()=>{Ne(i.length===0)})})}containsKey(e,n){return WU(e,this.userId,n)}Nn(e){return GU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WU(t,e,n){const r=Z_(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Dc(t).J({range:s,H:!0},(l,u,d)=>{const[p,m,_]=l;p===e&&m===i&&(o=!0),d.done()}).next(()=>o)}function ga(t){return Kn(t,"mutations")}function Dc(t){return Kn(t,"documentMutations")}function GU(t){return Kn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uu(0)}static kn(){return new Uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Uu(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>Oe.fromTimestamp(new fn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Pc(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Pc(e).J((o,l)=>{const u=Ph(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>Q.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Pc(e).J((r,i)=>{const s=Ph(i);n(s)})}qn(e){return $N(e).get("targetGlobalKey").next(n=>(Ne(n!==null),n))}Qn(e,n){return $N(e).put("targetGlobalKey",n)}Kn(e,n){return Pc(e).put($U(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Du(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Pc(e).J({range:i,index:"queryTargetsIndex"},(o,l,u)=>{const d=Ph(l);Am(n,d.target)&&(s=d,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Aa(e);return n.forEach(o=>{const l=Vr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))}),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Aa(e);return Q.forEach(n,s=>{const o=Vr(s.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Aa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Aa(e);let s=Je();return i.J({range:r,H:!0},(o,l,u)=>{const d=Vs(o[1]),p=new me(d);s=s.add(p)}).next(()=>s)}containsKey(e,n){const r=Vr(n.path),i=IDBKeyRange.bound([r],[FF(r)],!1,!0);let s=0;return Aa(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,l],u,d)=>{o!==0&&(s++,d.done())}).next(()=>s>0)}ot(e,n){return Pc(e).get(n).next(r=>r?Ph(r):null)}}function Pc(t){return Kn(t,"targets")}function $N(t){return Kn(t,"targetGlobal")}function Aa(t){return Kn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN([t,e],[n,r]){const i=Ke(t,n);return i===0?Ke(e,r):i}class $le{constructor(e){this.Un=e,this.buffer=new Vt(BN),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ble{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Hn(3e5)})}}class zle{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Jr.oe);const r=new $le(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(UN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UN):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),kc()<=lt.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function jle(t,e){return new zle(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e,n){this.db=e,this.garbageCollector=jle(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return I_(e,r)}removeReference(e,n,r){return I_(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return I_(e,n)}nr(e,n){return function(i,s){let o=!1;return GU(i).Y(l=>WU(i,l,s).next(u=>(u&&(o=!0),Q.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,l)=>{if(l<=n){const u=this.nr(e,o).next(d=>{if(!d)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Oe.min()),Aa(e).delete(function(m){return[0,Vr(m.path)]}(o))))});i.push(u)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return I_(e,n)}tr(e,n){const r=Aa(e);let i,s=Jr.oe;return r.J({index:"documentTargetsIndex"},([o,l],{path:u,sequenceNumber:d})=>{o===0?(s!==Jr.oe&&n(new me(Vs(i)),s),s=d,i=u):s=Jr.oe}).next(()=>{s!==Jr.oe&&n(new me(Vs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function I_(t,e){return Aa(t).put(function(r,i){return{targetId:0,path:Vr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new _l(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Bl(e).put(r)}removeEntry(e,n,r){return Bl(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ly(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Yt.newInvalidDocument(n);return Bl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fh(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:Yt.newInvalidDocument(n)};return Bl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fh(n))},(i,s)=>{r={document:this.ir(n,s),size:cy(s)}}).next(()=>r)}getEntries(e,n){let r=ei();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=ei(),i=new Gt(me.comparator);return this._r(e,n,(s,o)=>{const l=this.ir(s,o);r=r.insert(s,l),i=i.insert(s,cy(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Vt(WN);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(fh(i.first()),fh(i.last())),o=i.getIterator();let l=o.getNext();return Bl(e).J({index:"documentKeyIndex",range:s},(u,d,p)=>{const m=me.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&WN(l,m)<0;)r(l,null),l=o.getNext();l&&l.isEqual(m)&&(r(l,d),l=o.hasNext()?o.getNext():null),l?p.$(fh(l)):p.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),ly(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bl(e).U(IDBKeyRange.bound(l,u,!0)).next(d=>{s?.incrementDocumentReadCount(d.length);let p=ei();for(const m of d){const _=this.ir(me.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);_.isFoundDocument()&&(bm(n,_)||i.has(_.key))&&(p=p.insert(_.key,_))}return p})}getAllFromCollectionGroup(e,n,r,i){let s=ei();const o=jN(n,r),l=jN(n,Ti.max());return Bl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(u,d,p)=>{const m=this.ir(me.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new qle(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return zN(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}rr(e,n){return zN(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Cle(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Oe.min())))return r}return Yt.newInvalidDocument(e)}}function HU(t){return new Gle(t)}class qle extends qU{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new _l(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Vt((s,o)=>Ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,l.readTime)),o.isValidDocument()){const u=PN(this.cr.serializer,o);i=i.add(s.path.popLast());const d=cy(u);r+=d-l.size,n.push(this.cr.addEntry(e,s,u))}else if(r-=l.size,this.trackRemovals){const u=PN(this.cr.serializer,o.convertToNoDocument(Oe.min()));n.push(this.cr.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function zN(t){return Kn(t,"remoteDocumentGlobal")}function Bl(t){return Kn(t,"remoteDocumentsV14")}function fh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jN(t,e){const n=e.documentKey.path.toArray();return[t,ly(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ke(n[s],r[s]),i)return i;return i=Ke(n.length,r.length),i||(i=Ke(n[n.length-2],r[r.length-2]),i||Ke(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zh(r.mutation,i,Xr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const i=Fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rh();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ei();const o=Yh(),l=function(){return Yh()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Go)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Zh(p.mutation,d,p.mutation.getFieldMask(),fn.now())):o.set(d.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var m;return l.set(d,new Hle(p,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Yh();let i=new Gt((o,l)=>o-l),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Xr.empty();p=l.applyToLocalView(d,p),r.set(u,p);const m=(i.get(l.batchId)||Je()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,m=hU();p.forEach(_=>{if(!s.has(_)){const y=wU(n.get(_),r.get(_));y!==null&&m.set(_,y),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Fs());let l=-1,u=s;return o.next(d=>Q.forEach(d,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Je())).next(p=>({batchId:l,changes:fU(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Rh();return this.indexManager.getCollectionParents(e,s).next(l=>Q.forEach(l,u=>{const d=function(m,_){return new Wo(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Yt.newInvalidDocument(p)))});let l=Rh();return o.forEach((u,d)=>{const p=s.get(u);p!==void 0&&Zh(p.mutation,d,Xr.empty(),fn.now()),bm(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YA(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(){this.overlays=new Gt(me.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Fs(),s=n.length+1,o=new me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gt((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Fs(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Fs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return Q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HA(n,r));let s=this.Ir.get(n);s===void 0&&(s=Je(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yle{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Tr=new Vt(Zn.Er),this.dr=new Vt(Zn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new ft([])),r=new Zn(n,e),i=new Zn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new ft([])),r=new Zn(n,e),i=new Zn(n,e+1);let s=Je();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Zn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Ke(e.wr,n.wr)}static Ar(e,n){return Ke(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(Zn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GA(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Zn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zn(n,0),i=new Zn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ke);return n.forEach(i=>{const s=new Zn(i,0),o=new Zn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Zn(new me(s),0);let l=new Vt(Ke);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.wr)),!0)},o),Q.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new Zn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zn(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(e){this.Mr=e,this.docs=function(){return new Gt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ei();const o=n.path,l=new me(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||MA($F(p),r)<=0||(i.has(p.key)||bm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xle(this)}getSize(e){return Q.resolve(this.size)}}class Xle extends qU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e){this.persistence=e,this.Nr=new _l(n=>Du(n),Am),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XA,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jr(0),this.Kr=!1,this.Kr=!0,this.$r=new Yle,this.referenceDelegate=e(this),this.Ur=new eue(this),this.indexManager=new Vle,this.remoteDocumentCache=function(i){return new Jle(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UU(n),this.Gr=new Kle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Zle(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new tue(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tue extends zF{constructor(e){super(),this.currentSequenceNumber=e}}class Aw{constructor(e){this.persistence=e,this.Jr=new XA,this.Yr=null}static Zr(e){return new Aw(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e){this.serializer=e}O(e,n,r,i){const s=new vw("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iN,{unique:!0}),u.createObjectStore("documentMutations")}(e),GN(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=Q.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),GN(e)),o=o.next(()=>function(u){const d=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Oe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,d){return d.store("mutations").U().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iN,{unique:!0});const m=d.store("mutations"),_=p.map(y=>m.put(y));return Q.waitFor(_)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const d=u.createObjectStore("documentOverlays",{keyPath:Mae});d.createIndex("collectionPathOverlayIndex",Vae,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",Fae,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const d=u.createObjectStore("remoteDocumentsV14",{keyPath:Aae});d.createIndex("documentKeyIndex",Rae),d.createIndex("collectionGroupIndex",bae)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Nae}).createIndex("sequenceNumberIndex",Oae,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Dae}).createIndex("documentKeyIndex",Lae,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=cy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>Q.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(l=>Q.forEach(l,u=>{Ne(u.userId===s.userId);const d=Ql(this.serializer,u);return jU(e,s.userId,d).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,l)=>{const u=new ft(o),d=function(m){return[0,Vr(m)]}(u);s.push(n.get(d).next(p=>p?Q.resolve():(m=>n.put({targetId:0,path:Vr(m),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>Q.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:xae});const r=n.store("collectionParents"),i=new JA,s=o=>{if(i.add(o)){const l=o.lastSegment(),u=o.popLast();return r.put({collectionId:l,parent:Vr(u)})}};return n.store("remoteDocuments").J({H:!0},(o,l)=>{const u=new ft(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,l,u],d)=>{const p=Vs(l);return s(p.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=Ph(i),o=$U(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const l=n.store("remoteDocumentsV14"),u=function(m){return m.document?new me(ft.fromString(m.document.name).popFirst(5)):m.noDocument?me.fromSegments(m.noDocument.path):m.unknownDocument?me.fromSegments(m.unknownDocument.path):Se()}(o).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(d))}).next(()=>Q.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=HU(this.serializer),s=new QU(Aw.Zr,this.serializer.ct);return r.U().next(o=>{const l=new Map;return o.forEach(u=>{var d;let p=(d=l.get(u.userId))!==null&&d!==void 0?d:Je();Ql(this.serializer,u).keys().forEach(m=>p=p.add(m)),l.set(u.userId,p)}),Q.forEach(l,(u,d)=>{const p=new Xn(d),m=Iw.lt(this.serializer,p),_=s.getIndexManager(p),y=Sw.lt(p,this.serializer,_,s.referenceDelegate);return new KU(i,y,m,_).recalculateAndSaveOverlaysForDocumentKeys(new sS(n,Jr.oe),u).next()})})}}function GN(t){t.createObjectStore("targetDocuments",{keyPath:Cae}).createIndex("documentTargetsIndex",kae,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pae,{unique:!0}),t.createObjectStore("targetGlobal")}const iT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eR{constructor(e,n,r,i,s,o,l,u,d,p,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=l,this.ci=d,this.li=p,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=_=>Promise.resolve(),!eR.D())throw new re(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wle(this,i),this.Ai=n+"main",this.serializer=new UU(u),this.Ri=new Bs(this.Ai,this.hi,new nue(this.serializer)),this.$r=new xle,this.Ur=new Ule(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HU(this.serializer),this.Gr=new kle,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,p===!1&&Dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(Z.FAILED_PRECONDITION,iT);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Jr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>S_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(gl(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return hh(e).get("owner").next(n=>Q.resolve(this.vi(n)))}Ci(e){return S_(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Kn(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return Q.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Q.resolve(!0):hh(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new re(Z.FAILED_PRECONDITION,iT);return!1}}return!(!this.networkEnabled||!this.inForeground)||S_(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&se("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new sS(e,Jr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>S_(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Sw.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fle(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Iw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===17?Bae:u===16?$ae:u===15?FA:u===14?KF:u===13?HF:u===12?Uae:u===11?qF:void Se()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,l=>(o=new sS(l,this.Qr?this.Qr.next():Jr.oe),n==="readwrite-primary"?this.wi(o).next(u=>!!u||this.Si(o)).next(u=>{if(!u)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new re(Z.FAILED_PRECONDITION,BF);return r(o)}).next(u=>this.Di(o).next(()=>u)):this.Ki(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e){return hh(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new re(Z.FAILED_PRECONDITION,iT)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hh(e).put("owner",n)}static D(){return Bs.D()}bi(e){const n=hh(e);return n.get("owner").next(r=>this.vi(r)?(se("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Q.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;_V()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hh(t){return Kn(t,"owner")}function S_(t){return Kn(t,"clientMetadata")}function tR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _V()?8:jF(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rue;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(kc()<=lt.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",xc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(kc()<=lt.DEBUG&&se("QueryEngine","Query:",xc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kc()<=lt.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",xc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):Q.resolve())}Yi(e,n){if(_N(n))return Q.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ay(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Je(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,l);return this.ns(n,d,o,u.readTime)?this.Yi(e,ay(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return _N(n)||i.isEqual(Oe.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(kc()<=lt.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(n)),this.rs(e,o,n,UF(i,-1)).next(l=>l))})}ts(e,n){let r=new Vt(cU(e));return n.forEach((i,s)=>{bm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return kc()<=lt.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",xc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Gt(Ke),this._s=new _l(s=>Du(s),Am),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZU(t,e,n,r){return new iue(t,e,n,r)}async function JU(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Je();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function sue(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const m=d.batch,_=m.keys();let y=Q.resolve();return _.forEach(S=>{y=y.next(()=>p.getEntry(u,S)).next(R=>{const D=d.docVersions.get(S);Ne(D!==null),R.version.compareTo(D)<0&&(m.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Je();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XU(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function oue(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,m)=>{const _=i.get(m);if(!_)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,m)));let y=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Rn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),i=i.insert(m,y),function(R,D,T){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,y,p)&&l.push(n.Ur.updateTargetData(s,y))});let u=ei(),d=Je();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(e$(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(Oe.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return Q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function e$(t,e,n){let r=Je(),i=Je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function aue(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $d(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Io(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Bd(t,e,n){const r=_e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gl(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function dy(t,e,n){const r=_e(t);let i=Oe.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const m=_e(u),_=m._s.get(p);return _!==void 0?Q.resolve(m.os.get(_)):m.Ur.getTargetData(d,p)}(r,o,Fr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:Je())).next(l=>(r$(r,uU(e),l),{documents:l,Ts:s})))}function t$(t,e){const n=_e(t),r=_e(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function n$(t,e){const n=_e(t),r=n.us.get(e)||Oe.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,UF(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(r$(n,e,i),i))}function r$(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function lue(t,e,n,r){const i=_e(t);let s=Je(),o=ei();for(const d of n){const p=e.Es(d.metadata.name);d.document&&(s=s.add(p));const m=e.ds(d);m.setReadTime(e.As(d.metadata.readTime)),o=o.insert(p,m)}const l=i.cs.newChangeBuffer({trackRemovals:!0}),u=await $d(i,function(p){return Fr(of(ft.fromString(`__bundle__/docs/${p}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>e$(d,l,o).next(p=>(l.apply(d),p)).next(p=>i.Ur.removeMatchingKeysForTargetId(d,u.targetId).next(()=>i.Ur.addMatchingKeys(d,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,p.Ps,p.Is)).next(()=>p.Ps)))}async function uue(t,e,n=Je()){const r=await $d(t,Fr(YA(e.bundledQuery))),i=_e(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ln(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const l=r.withResumeToken(Rn.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(l.targetId,l),i.Ur.updateTargetData(s,l).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function qN(t,e){return`firestore_clients_${t}_${e}`}function HN(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sT(t,e){return`firestore_targets_${t}_${e}`}class fy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new re(i.error.code,i.error.message))),o?new fy(e,n,i.state,s):(Dn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new re(r.error.code,r.error.message))),s?new Jh(e,r.state,i):(Dn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=zA();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=WF(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hy(e,s):(Dn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class rR{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new rR(n.clientId,n.onlineState):(Dn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yS{constructor(){this.activeTargetIds=zA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oT{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Gt(Ke),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=qN(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new yS),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(qN(this.persistenceKey,r));if(i){const s=hy.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sT(this.persistenceKey,e));if(r){const i=Jh.Rs(e,r);i&&(n=i.state)}}return this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sT(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return se("SharedClientState","READ",e,n),n}setItem(e,n){se("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(se("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Jr.oe;if(s!=null)try{const l=JSON.parse(s);Ne(typeof l=="number"),o=l}catch(l){Dn("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==Jr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new fy(this.currentUser,e,n,r),s=HN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=HN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=sT(this.persistenceKey,e),s=new Jh(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return hy.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return fy.Rs(new Xn(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Jh.Rs(i,n)}Ls(e){return rR.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],l=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||l.push(u)}),this.syncEngine.io(o,l).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=zA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class i${constructor(){this.so=new yS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_=null;function aT(){return A_===null?A_=function(){return 268435456+Math.round(2147483648*Math.random())}():A_++,"0x"+A_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class hue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=aT(),u=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(se("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw gs("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=due[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=aT();return new Promise((o,l)=>{const u=new kF;u.setWithCredentials(!0),u.listenOnce(NF.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Q_.NO_ERROR:const p=u.getResponseJson();se(Ir,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Q_.TIMEOUT:se(Ir,`RPC '${e}' ${s} timed out`),l(new re(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Q_.HTTP_ERROR:const m=u.getStatus();if(se(Ir,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const y=_?.error;if(y&&y.status&&y.message){const S=function(D){const T=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(T)>=0?T:Z.UNKNOWN}(y.status);l(new re(S,y.message))}else l(new re(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re(Z.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{se(Ir,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);se(Ir,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=aT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LF(),l=DF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new xF({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");se(Ir,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=o.createWebChannel(p,u);let _=!1,y=!1;const S=new fue({Io:D=>{y?se(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(_||(se(Ir,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),se(Ir,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},To:()=>m.close()}),R=(D,T,A)=>{D.listen(T,b=>{try{A(b)}catch(F){setTimeout(()=>{throw F},0)}})};return R(m,Ah.EventType.OPEN,()=>{y||(se(Ir,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(m,Ah.EventType.CLOSE,()=>{y||(y=!0,se(Ir,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(m,Ah.EventType.ERROR,D=>{y||(y=!0,gs(Ir,`RPC '${e}' stream ${i} transport errored:`,D),S.So(new re(Z.UNAVAILABLE,"The operation could not be completed")))}),R(m,Ah.EventType.MESSAGE,D=>{var T;if(!y){const A=D.data[0];Ne(!!A);const b=A,F=b.error||((T=b[0])===null||T===void 0?void 0:T.error);if(F){se(Ir,`RPC '${e}' stream ${i} received error:`,F);const B=F.status;let z=function(O){const M=Un[O];if(M!==void 0)return IU(M)}(B),x=F.message;z===void 0&&(z=Z.INTERNAL,x="Unknown error status: "+B+" with message "+F.message),y=!0,S.So(new re(z,x)),m.close()}else se(Ir,`RPC '${e}' stream ${i} received:`,A),S.bo(A)}}),R(l,OF.STAT_EVENT,D=>{D.stat===rS.PROXY?se(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===rS.NOPROXY&&se(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return typeof window<"u"?window:null}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){return new yle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pue extends o${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Tle(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Ln(o.readTime):Oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pS(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=sy(u)?{documents:OU(s,u)}:{query:DU(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=bU(s,o.resumeToken);const d=fS(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Ud(s,o.snapshotVersion.toTimestamp());const d=fS(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=Sle(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pS(this.serializer),n.removeTarget=e,this.a_(n)}}class mue extends o${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Ile(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hS(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(Z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,hS(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(Z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _ue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dn(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{vl(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=_e(u);d.L_.add(4),await uf(d),d.q_.set("Unknown"),d.L_.delete(4),await Nm(d)}(this))})}),this.q_=new _ue(r,i)}}async function Nm(t){if(vl(t))for(const e of t.B_)await e(!0)}async function uf(t){for(const e of t.B_)await e(!1)}function Rw(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),aR(n)?oR(n):df(n).r_()&&sR(n,e))}function zd(t,e){const n=_e(t),r=df(n);n.N_.delete(e),r.r_()&&a$(n,e),n.N_.size===0&&(r.r_()?r.o_():vl(n)&&n.q_.set("Unknown"))}function sR(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}df(t).A_(e)}function a$(t,e){t.Q_.xe(e),df(t).R_(e)}function oR(t){t.Q_=new mle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),df(t).start(),t.q_.v_()}function aR(t){return vl(t)&&!df(t).n_()&&t.N_.size>0}function vl(t){return _e(t).L_.size===0}function l$(t){t.Q_=void 0}async function yue(t){t.q_.set("Online")}async function wue(t){t.N_.forEach((e,n)=>{sR(t,e)})}async function Eue(t,e){l$(t),aR(t)?(t.q_.M_(e),oR(t)):t.q_.set("Unknown")}async function Tue(t,e,n){if(t.q_.set("Online"),e instanceof RU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await py(t,r)}else if(e instanceof tv?t.Q_.Ke(e):e instanceof AU?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await XU(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Rn.EMPTY_BYTE_STRING,p.snapshotVersion)),a$(s,u);const m=new Io(p.target,u,d,p.sequenceNumber);sR(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await py(t,r)}}async function py(t,e,n){if(!gl(e))throw e;t.L_.add(1),await uf(t),t.q_.set("Offline"),n||(n=()=>XU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Nm(t)})}function u$(t,e){return e().catch(n=>py(t,n,e))}async function cf(t){const e=_e(t),n=sl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Iue(e);)try{const i=await aue(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Sue(e,i)}catch(i){await py(e,i)}c$(e)&&d$(e)}function Iue(t){return vl(t)&&t.O_.length<10}function Sue(t,e){t.O_.push(e);const n=sl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function c$(t){return vl(t)&&!sl(t).n_()&&t.O_.length>0}function d$(t){sl(t).start()}async function Aue(t){sl(t).p_()}async function Rue(t){const e=sl(t);for(const n of t.O_)e.m_(n.mutations)}async function bue(t,e,n){const r=t.O_.shift(),i=qA.from(r,e,n);await u$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cf(t)}async function Pue(t,e){e&&sl(t).V_&&await async function(r,i){if(function(o){return TU(o)&&o!==Z.ABORTED}(i.code)){const s=r.O_.shift();sl(r).s_(),await u$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cf(r)}}(t,e),c$(t)&&d$(t)}async function QN(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=vl(n);n.L_.add(3),await uf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Nm(n)}async function wS(t,e){const n=_e(t);e?(n.L_.delete(2),await Nm(n)):e||(n.L_.add(2),await uf(n),n.q_.set("Unknown"))}function df(t){return t.K_||(t.K_=function(n,r,i){const s=_e(n);return s.w_(),new pue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:yue.bind(null,t),Ro:wue.bind(null,t),mo:Eue.bind(null,t),d_:Tue.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),aR(t)?oR(t):t.q_.set("Unknown")):(await t.K_.stop(),l$(t))})),t.K_}function sl(t){return t.U_||(t.U_=function(n,r,i){const s=_e(n);return s.w_(),new mue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Aue.bind(null,t),mo:Pue.bind(null,t),f_:Rue.bind(null,t),g_:bue.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cf(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new lR(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ff(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),gl(t))return new re(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Rh(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new cd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.W_=new Gt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jd{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new jd(e,n,cd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kue{constructor(){this.queries=ZN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=ZN(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new re(Z.ABORTED,"Firestore shutting down"))}}function ZN(){return new _l(t=>lU(t),Rm)}async function uR(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Cue,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=ff(o,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&dR(n)}async function cR(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xue(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&dR(n)}function Nue(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function dR(t){t.Y_.forEach(e=>{e.next()})}var ES,JN;(JN=ES||(ES={})).ea="default",JN.Cache="cache";class fR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ES.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.serializer=e}Es(e){return zs(this.serializer,e)}ds(e){return e.metadata.exists?NU(this.serializer,e.document,!1):Yt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ln(e)}}class Due{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f$(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=ft.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new XN(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||Je()).add(s);n.set(o,l)}}return n}async complete(){const e=await lue(this.localStore,new XN(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await uue(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function f$(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.key=e}}class p${constructor(e){this.key=e}}class m${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Je(),this.mutatedKeys=Je(),this.Aa=cU(e),this.Ra=new cd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new YN,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const _=i.get(p),y=bm(this.query,m)?m:null,S=!!_&&this.mutatedKeys.has(_.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;_&&y?_.data.isEqual(y.data)?S!==R&&(r.track({type:3,doc:y}),D=!0):this.ga(_,y)||(r.track({type:2,doc:y}),D=!0,(u&&this.Aa(y,u)>0||d&&this.Aa(y,d)<0)&&(l=!0)):!_&&y?(r.track({type:0,doc:y}),D=!0):_&&!y&&(r.track({type:1,doc:_}),D=!0,(u||d)&&(l=!0)),D&&(y?(o=o.add(y),s=R?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(y,S){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return R(y)-R(S)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new jd(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YN,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new p$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new h$(r))}),n}ba(e){this.Ta=e.Ts,this.da=Je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return jd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Lue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mue{constructor(e){this.key=e,this.va=!1}}class Vue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new _l(l=>lU(l),Rm),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(me.comparator),this.Na=new Map,this.La=new XA,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fue(t,e,n=!0){const r=bw(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await g$(r,e,n,!0),i}async function Uue(t,e){const n=bw(t);await g$(n,e,!0,!1)}async function g$(t,e,n,r){const i=await $d(t.localStore,Fr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await hR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rw(t.remoteStore,i),l}async function hR(t,e,n,r,i){t.Ka=(m,_,y)=>async function(R,D,T,A){let b=D.view.ma(T);b.ns&&(b=await dy(R.localStore,D.query,!1).then(({documents:x})=>D.view.ma(x,b)));const F=A&&A.targetChanges.get(D.targetId),B=A&&A.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(b,R.isPrimaryClient,F,B);return TS(R,D.targetId,z.wa),z.snapshot}(t,m,_,y);const s=await dy(t.localStore,e,!0),o=new m$(e,s.Ts),l=o.ma(s.documents),u=km.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);TS(t,n,d.wa);const p=new Lue(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function $ue(t,e,n){const r=_e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zd(r.remoteStore,i.targetId),Wd(r,i.targetId)}).catch(ml)):(Wd(r,i.targetId),await Bd(r.localStore,i.targetId,!0))}async function Bue(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zd(n.remoteStore,r.targetId))}async function zue(t,e,n){const r=_R(t);try{const i=await function(o,l){const u=_e(o),d=fn.now(),p=l.reduce((y,S)=>y.add(S.key),Je());let m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=ei(),R=Je();return u.cs.getEntries(y,p).next(D=>{S=D,S.forEach((T,A)=>{A.isValidDocument()||(R=R.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(D=>{m=D;const T=[];for(const A of l){const b=fle(A,m.get(A.key).overlayedDocument);b!=null&&T.push(new Go(A.key,b,XF(b.value.mapValue),cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,T,l)}).next(D=>{_=D;const T=D.applyToLocalDocumentSet(m,R);return u.documentOverlayCache.saveOverlays(y,D.batchId,T)})}).then(()=>({batchId:_.batchId,changes:fU(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Gt(Ke)),d=d.insert(l,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),await qo(r,i.changes),await cf(r.remoteStore)}catch(i){const s=ff(i,"Failed to persist write");n.reject(s)}}async function _$(t,e){const n=_e(t);try{const r=await oue(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),await qo(n,r,e)}catch(r){await ml(r)}}function eO(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=_e(o);u.onlineState=l;let d=!1;u.queries.forEach((p,m)=>{for(const _ of m.j_)_.Z_(l)&&(d=!0)}),d&&dR(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jue(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Gt(me.comparator);o=o.insert(s,Yt.newNoDocument(s,Oe.min()));const l=Je().add(s),u=new Cm(Oe.min(),new Map,new Gt(Ke),o,l);await _$(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gR(r)}else await Bd(r.localStore,e,!1).then(()=>Wd(r,e,n)).catch(ml)}async function Wue(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await sue(n.localStore,e);mR(n,r,null),pR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qo(n,i)}catch(i){await ml(i)}}async function Gue(t,e,n){const r=_e(t);try{const i=await function(o,l){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(Ne(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);mR(r,e,n),pR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qo(r,i)}catch(i){await ml(i)}}async function que(t,e){const n=_e(t);vl(n.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=_e(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=ff(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function pR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function mR(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Wd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||v$(t,r)})}function v$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gR(t))}function TS(t,e,n){for(const r of n)r instanceof h$?(t.La.addReference(r.key,e),Hue(t,r)):r instanceof p$?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||v$(t,r.key)):Se()}function Hue(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),gR(t))}function gR(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(ft.fromString(e)),r=t.qa.next();t.Na.set(r,new Mue(n)),t.Oa=t.Oa.insert(n,r),Rw(t.remoteStore,new Io(Fr(of(n.path)),r,"TargetPurposeLimboResolution",Jr.oe))}}async function qo(t,e,n){const r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=nR.Wi(u.targetId,d);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,d){const p=_e(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Q.forEach(d,_=>Q.forEach(_.$i,y=>p.persistence.referenceDelegate.addReference(m,_.targetId,y)).next(()=>Q.forEach(_.Ui,y=>p.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))}catch(m){if(!gl(m))throw m;se("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const y=p.os.get(_),S=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(_,R)}}}(r.localStore,s))}async function Kue(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await JU(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new re(Z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qo(n,r.hs)}}function Que(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Je().add(r.key);{let i=Je();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}async function Yue(t,e){const n=_e(t),r=await dy(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&TS(n,e.targetId,i.wa),i}async function Zue(t,e){const n=_e(t);return n$(n.localStore,e).then(r=>qo(n,r))}async function Jue(t,e,n,r){const i=_e(t),s=await function(l,u){const d=_e(l),p=_e(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",m=>p.Mn(m,u).next(_=>_?d.localDocuments.getDocuments(m,_):Q.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await cf(i.remoteStore):n==="acknowledged"||n==="rejected"?(mR(i,e,r||null),pR(i,e),function(l,u){_e(_e(l).mutationQueue).On(u)}(i.localStore,e)):Se(),await qo(i,s)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Xue(t,e){const n=_e(t);if(bw(n),_R(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await tO(n,r.toArray());n.Qa=!0,await wS(n.remoteStore,!0);for(const s of i)Rw(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Wd(n,o),Bd(n.localStore,o,!0))),zd(n.remoteStore,o)}),await i,await tO(n,r),function(o){const l=_e(o);l.Na.forEach((u,d)=>{zd(l.remoteStore,d)}),l.La.pr(),l.Na=new Map,l.Oa=new Gt(me.comparator)}(n),n.Qa=!1,await wS(n.remoteStore,!1)}}async function tO(t,e,n){const r=_e(t),i=[],s=[];for(const o of e){let l;const u=r.Ma.get(o);if(u&&u.length!==0){l=await $d(r.localStore,Fr(u[0]));for(const d of u){const p=r.Fa.get(d),m=await Yue(r,p);m.snapshot&&s.push(m.snapshot)}}else{const d=await t$(r.localStore,o);l=await $d(r.localStore,d),await hR(r,y$(d),o,!1,l.resumeToken)}i.push(l)}return r.Ca.d_(s),i}function y$(t){return aU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ece(t){return function(n){return _e(_e(n).persistence).Qi()}(_e(t).localStore)}async function tce(t,e,n,r){const i=_e(t);if(i.Qa)return void se("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await n$(i.localStore,uU(s[0])),l=Cm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Rn.EMPTY_BYTE_STRING);await qo(i,o,l);break}case"rejected":await Bd(i.localStore,e,!0),Wd(i,e,r);break;default:Se()}}async function nce(t,e,n){const r=bw(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){se("SyncEngine","Adding an already active target "+i);continue}const s=await t$(r.localStore,i),o=await $d(r.localStore,s);await hR(r,y$(s),o.targetId,!1,o.resumeToken),Rw(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Bd(r.localStore,i,!1).then(()=>{zd(r.remoteStore,i),Wd(r,i)}).catch(ml)}}function bw(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Que.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jue.bind(null,e),e.Ca.d_=xue.bind(null,e.eventManager),e.Ca.$a=Nue.bind(null,e.eventManager),e}function _R(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gue.bind(null,e),e}function rce(t,e,n){const r=_e(t);(async function(s,o,l){try{const u=await o.getMetadata();if(await function(y,S){const R=_e(y),D=Ln(S.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",T=>R.Gr.getBundleMetadata(T,S.id)).then(T=>!!T&&T.createTime.compareTo(D)>=0)}(s.localStore,u))return await o.close(),l._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(u)),Promise.resolve(new Set);l._updateProgress(f$(u));const d=new Due(u,s.localStore,o.serializer);let p=await o.Ua();for(;p;){const _=await d.la(p);_&&l._updateProgress(_),p=await o.Ua()}const m=await d.complete();return await qo(s,m.Ia,void 0),await function(y,S){const R=_e(y);return R.persistence.runTransaction("Save bundle","readwrite",D=>R.Gr.saveBundleMetadata(D,S))}(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m.Pa)}catch(u){return gs("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class IS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZU(this.persistence,new YU,e.initialUser,this.serializer)}createPersistence(e){return new QU(Aw.Zr,this.serializer)}createSharedClientState(e){return new i$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class w$ extends IS{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Wa.initialize(this,e),await _R(this.Wa.syncEngine),await cf(this.Wa.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return ZU(this.persistence,new YU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Ble(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Tae(n,this.persistence);return new Eae(e.asyncQueue,r)}createPersistence(e){const n=tR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new eR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,s$(),nv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new i$}}class ice extends w${constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Wa.syncEngine;this.sharedClientState instanceof oT&&(this.sharedClientState.syncEngine={no:Jue.bind(null,n),ro:tce.bind(null,n),io:nce.bind(null,n),Qi:ece.bind(null,n),eo:Zue.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await Xue(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=s$();if(!oT.D(n))throw new re(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oT(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class vR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kue.bind(null,this.syncEngine),await wS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kue}()}createDatastore(e){const n=xm(e.databaseInfo.databaseId),r=function(s){return new hue(s)}(e.databaseInfo);return function(s,o,l,u){return new gue(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new vue(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>eO(this.syncEngine,n,0),function(){return KN.D()?new KN:new cue}())}createSyncEngine(e,n){return function(i,s,o,l,u,d,p){const m=new Vue(i,s,o,l,u,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await uf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new rr,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.Ja()}async Ja(){const e=await this.Ya();if(e===null)return null;const n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);const i=await this.Xa(r);return new Oue(JSON.parse(i),e.length+r)}eu(){return this.buffer.findIndex(e=>e===123)}async Ya(){for(;this.eu()<0&&!await this.tu(););if(this.buffer.length===0)return null;const e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Xa(e){for(;this.buffer.length<e;)await this.tu()&&this.Za("Reached the end of bundle when more is expected.");const n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}async tu(){const e=await this.ja.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=_e(i),l={documents:s.map(m=>Yp(o.serializer,m))},u=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ft.emptyPath(),l,s.length),d=new Map;u.forEach(m=>{const _=Ele(o.serializer,m);d.set(_.key.toString(),_)});const p=[];return s.forEach(m=>{const _=d.get(m.toString());Ne(!!_),p.push(_)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=me.fromPath(r);this.mutations.push(new WA(i,this.precondition(i)))}),await async function(r,i){const s=_e(r),o={writes:i.map(l=>Zp(s.serializer,l))};await s.Mo("Commit",s.serializer.databaseId,ft.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se();n=Oe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new re(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new iR(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new oce(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!Sm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!TU(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lce{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xn.UNAUTHENTICATED,this.clientId=VF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ff(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yR(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QN(e.remoteStore,i)),t._onlineComponents=e}function E$(t){return t.name==="FirebaseError"?t.code===Z.FAILED_PRECONDITION||t.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function yR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!E$(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),await rv(t,new IS)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await rv(t,new IS);return t._offlineComponents}async function Cw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await SS(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await SS(t,new vR))),t._onlineComponents}function T$(t){return yR(t).then(e=>e.persistence)}function wR(t){return yR(t).then(e=>e.localStore)}function I$(t){return Cw(t).then(e=>e.remoteStore)}function ER(t){return Cw(t).then(e=>e.syncEngine)}function uce(t){return Cw(t).then(e=>e.datastore)}async function Gd(t){const e=await Cw(t),n=e.eventManager;return n.onListen=Fue.bind(null,e.syncEngine),n.onUnlisten=$ue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Uue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bue.bind(null,e.syncEngine),n}function cce(t){return t.asyncQueue.enqueue(async()=>{const e=await T$(t),n=await I$(t);return e.setNetworkEnabled(!0),function(i){const s=_e(i);return s.L_.delete(0),Nm(s)}(n)})}function dce(t){return t.asyncQueue.enqueue(async()=>{const e=await T$(t),n=await I$(t);return e.setNetworkEnabled(!1),async function(i){const s=_e(i);s.L_.add(0),await uf(s),s.q_.set("Offline")}(n)})}function fce(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await function(d,p){const m=_e(d);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,p))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new re(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=ff(l,`Failed to get document '${s} from cache`);o.reject(u)}}(await wR(t),e,n)),n.promise}function S$(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const p=new Pw({next:_=>{o.enqueueAndForget(()=>cR(s,m));const y=_.docs.has(l);!y&&_.fromCache?d.reject(new re(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&_.fromCache&&u&&u.source==="server"?d.reject(new re(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new fR(of(l.path),p,{includeMetadataChanges:!0,_a:!0});return uR(s,m)}(await Gd(t),t.asyncQueue,e,n,r)),r.promise}function hce(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await dy(i,s,!0),u=new m$(s,l.Ts),d=u.ma(l.documents),p=u.applyChanges(d,!1);o.resolve(p.snapshot)}catch(l){const u=ff(l,`Failed to execute query '${s} against cache`);o.reject(u)}}(await wR(t),e,n)),n.promise}function A$(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const p=new Pw({next:_=>{o.enqueueAndForget(()=>cR(s,m)),_.fromCache&&u.source==="server"?d.reject(new re(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new fR(l,p,{includeMetadataChanges:!0,_a:!0});return uR(s,m)}(await Gd(t),t.asyncQueue,e,n,r)),r.promise}function pce(t,e){const n=new Pw(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){_e(i).Y_.add(s),s.next()}(await Gd(t),n)),()=>{n.za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){_e(i).Y_.delete(s)}(await Gd(t),n))}}function mce(t,e,n,r){const i=function(o,l){let u;return u=typeof o=="string"?SU().encode(o):o,function(p,m){return new sce(p,m)}(function(p,m){if(p instanceof Uint8Array)return nO(p,m);if(p instanceof ArrayBuffer)return nO(new Uint8Array(p),m);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),l)}(n,xm(e));t.asyncQueue.enqueueAndForget(async()=>{rce(await ER(t),i,r)})}function gce(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=_e(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await wR(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e,n){if(!n)throw new re(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b$(t,e,n,r){if(e===!0&&r===!0)throw new re(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iO(t){if(!me.isDocumentKey(t))throw new re(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sO(t){if(me.isDocumentKey(t))throw new re(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kw(t);throw new re(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function P$(t,e){if(e<=0)throw new re(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cae;switch(r.type){case"firstParty":return new pae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rO.get(n);r&&(se("ComponentProvider","Removing Datastore"),rO.delete(n),r.terminate())}(this),Promise.resolve()}}function C$(t,e,n,r={}){var i;const s=(t=vt(t,Om))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Xn.MOCK_USER;else{l=kte(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new re(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xn(d)}t._authCredentials=new dae(new MF(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r=class k${constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new k$(this.firestore,e,this._query)}},vn=class x${constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new x$(this.firestore,e,this._key)}},ja=class N$ extends $r{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new me(e))}withConverter(e){return new N$(this.firestore,e,this._path)}};function O$(t,e,...n){if(t=Ve(t),TR("collection","path",e),t instanceof Om){const r=ft.fromString(e,...n);return sO(r),new ja(t,null,r)}{if(!(t instanceof vn||t instanceof ja))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return sO(r),new ja(t.firestore,null,r)}}function _ce(t,e){if(t=vt(t,Om),TR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(t,null,function(r){return new Wo(ft.emptyPath(),r)}(e))}function my(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=VF.newId()),TR("doc","path",e),t instanceof Om){const r=ft.fromString(e,...n);return iO(r),new vn(t,null,new me(r))}{if(!(t instanceof vn||t instanceof ja))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return iO(r),new vn(t.firestore,t instanceof ja?t.converter:null,new me(r))}}function D$(t,e){return t=Ve(t),e=Ve(e),(t instanceof vn||t instanceof ja)&&(e instanceof vn||e instanceof ja)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function L$(t,e){return t=Ve(t),e=Ve(e),t instanceof $r&&e instanceof $r&&t.firestore===e.firestore&&Rm(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new iR(this,"async_queue_retry"),this.Eu=()=>{const n=nv();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=nv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new rr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!gl(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Dn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=lR.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Se()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function AS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yce{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=-1;let bn=class extends Om{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vce}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||M$(this),this._firestoreClient.terminate()}};function IR(t,e){const n=typeof t=="object"?t:RV(),r=typeof t=="string"?t:"(default)",i=fA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bte("firestore");s&&C$(i,...s)}return i}function ir(t){return t._firestoreClient||M$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function M$(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,p){return new Wae(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,R$(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lce(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Ece(t,e){F$(t=vt(t,bn));const n=ir(t);if(n._uninitializedComponentsProvider)throw new re(Z.FAILED_PRECONDITION,"SDK cache is already specified.");gs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new vR;return V$(n,i,new w$(i,r.cacheSizeBytes,e?.forceOwnership))}function Tce(t){F$(t=vt(t,bn));const e=ir(t);if(e._uninitializedComponentsProvider)throw new re(Z.FAILED_PRECONDITION,"SDK cache is already specified.");gs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new vR;return V$(e,r,new ice(r,n.cacheSizeBytes))}function V$(t,e,n){const r=new rr;return t.asyncQueue.enqueue(async()=>{try{await rv(t,n),await SS(t,e),r.resolve()}catch(i){const s=i;if(!E$(s))throw s;gs("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Ice(t){if(t._initialized&&!t._terminated)throw new re(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Bs.D())return Promise.resolve();const i=r+"main";await Bs.delete(i)}(tR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Sce(t){return function(n){const r=new rr;return n.asyncQueue.enqueueAndForget(async()=>que(await ER(n),r)),r.promise}(ir(t=vt(t,bn)))}function Ace(t){return cce(ir(t=vt(t,bn)))}function Rce(t){return dce(ir(t=vt(t,bn)))}function bce(t,e){const n=ir(t=vt(t,bn)),r=new yce;return mce(n,t._databaseId,e,r),r}function Pce(t,e){return gce(ir(t=vt(t,bn)),e).then(n=>n?new $r(t,null,n.query):null)}function F$(t){if(t._initialized||t._terminated)throw new re(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(Rn.fromBase64String(e))}catch(n){throw new re(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=/^__.*__$/;class kce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new af(e,this.data,n,this.fieldTransforms)}}class U${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Nw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return gy(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if($$(this.wu)&&Cce.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class xce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xm(e)}Nu(e,n,r,i=!1){return new Nw({wu:e,methodName:n,Ou:r,path:un.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yu(t){const e=t._freezeSettings(),n=xm(t._databaseId);return new xce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ow(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);xR("Data must be an object, but it was:",o,r);const l=j$(r,o);let u,d;if(s.merge)u=new Xr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const _=RS(e,m,n);if(!o.contains(_))throw new re(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);G$(p,_)||p.push(_)}u=new Xr(p),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new kce(new fr(l),u,d)}class Dm extends Qu{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function B$(t,e,n){return new Nw({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AR extends Qu{_toFieldTransform(e){return new Pm(e.path,new Vd)}isEqual(e){return e instanceof AR}}class RR extends Qu{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=B$(this,e,!0),r=this.Lu.map(s=>Zu(s,n)),i=new Lu(r);return new Pm(e.path,i)}isEqual(e){return e instanceof RR&&Lp(this.Lu,e.Lu)}}class bR extends Qu{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=B$(this,e,!0),r=this.Lu.map(s=>Zu(s,n)),i=new Mu(r);return new Pm(e.path,i)}isEqual(e){return e instanceof bR&&Lp(this.Lu,e.Lu)}}class PR extends Qu{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){const n=new Fd(e.serializer,mU(e.serializer,this.Bu));return new Pm(e.path,n)}isEqual(e){return e instanceof PR&&this.Bu===e.Bu}}function CR(t,e,n,r){const i=t.Nu(1,e,n);xR("Data must be an object, but it was:",i,r);const s=[],o=fr.empty();Ku(r,(u,d)=>{const p=NR(e,u,n);d=Ve(d);const m=i.Cu(p);if(d instanceof Dm)s.push(p);else{const _=Zu(d,m);_!=null&&(s.push(p),o.set(p,_))}});const l=new Xr(s);return new U$(o,l,i.fieldTransforms)}function kR(t,e,n,r,i,s){const o=t.Nu(1,e,n),l=[RS(e,r,n)],u=[i];if(s.length%2!=0)throw new re(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(RS(e,s[_])),u.push(s[_+1]);const d=[],p=fr.empty();for(let _=l.length-1;_>=0;--_)if(!G$(d,l[_])){const y=l[_];let S=u[_];S=Ve(S);const R=o.Cu(y);if(S instanceof Dm)d.push(y);else{const D=Zu(S,R);D!=null&&(d.push(y),p.set(y,D))}}const m=new Xr(d);return new U$(p,m,o.fieldTransforms)}function z$(t,e,n,r=!1){return Zu(n,t.Nu(r?4:3,e))}function Zu(t,e){if(W$(t=Ve(t)))return xR("Unsupported field value:",e,t),j$(t,e);if(t instanceof Qu)return function(r,i){if(!$$(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Zu(l,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fn.fromDate(r);return{timestampValue:Ud(i.serializer,s)}}if(r instanceof fn){const s=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,s)}}if(r instanceof xw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qs)return{bytesValue:bU(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof SR)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Mu("VectorValues must only contain numeric values.");return jA(l.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${kw(r)}`)}(t,e)}function j$(t,e){const n={};return QF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ku(t,(r,i)=>{const s=Zu(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function W$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof xw||t instanceof Qs||t instanceof vn||t instanceof Qu||t instanceof SR)}function xR(t,e,n){if(!W$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kw(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function RS(t,e,n){if((e=Ve(e))instanceof ol)return e._internalPath;if(typeof e=="string")return NR(t,e);throw gy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nce=new RegExp("[~\\*/\\[\\]]");function NR(t,e,n){if(e.search(Nce)>=0)throw gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ol(...e.split("."))._internalPath}catch{throw gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new re(Z.INVALID_ARGUMENT,l+t+u)}function G$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oce extends Jp{data(){return super.data()}}function Dw(t,e){return typeof e=="string"?NR(t,e):e instanceof ol?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OR{}class Lm extends OR{}function _a(t,e,...n){let r=[];e instanceof OR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof DR).length,l=s.filter(u=>u instanceof Lw).length;if(o>1||o>0&&l>0)throw new re(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lw extends Lm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lw(e,n,r)}_apply(e){const n=this._parse(e);return K$(e._query,n),new $r(e.firestore,e.converter,dS(e._query,n))}_parse(e){const n=Yu(e.firestore);return function(s,o,l,u,d,p,m){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new re(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){lO(m,p);const y=[];for(const S of m)y.push(aO(u,s,S));_={arrayValue:{values:y}}}else _=aO(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||lO(m,p),_=z$(l,o,m,p==="in"||p==="not-in");return ht.create(d,p,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dce(t,e,n){const r=e,i=Dw("where",t);return Lw._create(i,r,n)}class DR extends OR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)K$(o,u),o=dS(o,u)}(e._query,n),new $r(e.firestore,e.converter,dS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LR extends Lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new LR(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qp(s,o)}(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Lce(t,e="asc"){const n=e,r=Dw("orderBy",t);return LR._create(r,n)}class Mw extends Lm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mw(e,n,r)}_apply(e){return new $r(e.firestore,e.converter,ay(e._query,this._limit,this._limitType))}}function Mce(t){return P$("limit",t),Mw._create("limit",t,"F")}function Vce(t){return P$("limitToLast",t),Mw._create("limitToLast",t,"L")}class Vw extends Lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vw(e,n,r)}_apply(e){const n=H$(e,this.type,this._docOrFields,this._inclusive);return new $r(e.firestore,e.converter,function(i,s){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Fce(...t){return Vw._create("startAt",t,!0)}function Uce(...t){return Vw._create("startAfter",t,!1)}class Fw extends Lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Fw(e,n,r)}_apply(e){const n=H$(e,this.type,this._docOrFields,this._inclusive);return new $r(e.firestore,e.converter,function(i,s){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function $ce(...t){return Fw._create("endBefore",t,!1)}function Bce(...t){return Fw._create("endAt",t,!0)}function H$(t,e,n,r){if(n[0]=Ve(n[0]),n[0]instanceof Jp)return function(s,o,l,u,d){if(!u)throw new re(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const p=[];for(const m of ud(s))if(m.field.isKeyField())p.push(Ou(o,u.key));else{const _=u.data.field(m.field);if(yw(_))throw new re(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const y=m.field.canonicalString();throw new re(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}p.push(_)}return new il(p,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yu(t.firestore);return function(o,l,u,d,p,m){const _=o.explicitOrderBy;if(p.length>_.length)throw new re(Z.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let S=0;S<p.length;S++){const R=p[S];if(_[S].field.isKeyField()){if(typeof R!="string")throw new re(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof R}`);if(!BA(o)&&R.indexOf("/")!==-1)throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${R}' contains a slash.`);const D=o.path.child(ft.fromString(R));if(!me.isDocumentKey(D))throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const T=new me(D);y.push(Ou(l,T))}else{const D=z$(u,d,R);y.push(D)}}return new il(y,m)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aO(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new re(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BA(e)&&n.indexOf("/")!==-1)throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!me.isDocumentKey(r))throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ou(t,new me(r))}if(n instanceof vn)return Ou(t,n._key);throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kw(n)}.`)}function lO(t,e){if(!Array.isArray(t)||t.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K$(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MR{convertValue(e,n="none"){switch(Nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ku(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>on(o.doubleValue));return new SR(s)}convertGeoPoint(e){return new xw(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=UA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qp(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Ne(FU(r));const i=new nl(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Dn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zce extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fo=class extends Jp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Xh=class extends Fo{data(e={}){return super.data(e)}},al=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Xh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new iu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Xh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new iu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:jce(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function Q$(t,e){return t instanceof Fo&&e instanceof Fo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof al&&e instanceof al&&t._firestore===e._firestore&&L$(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(t){t=vt(t,vn);const e=vt(t.firestore,bn);return S$(ir(e),t._key).then(n=>VR(e,t,n))}class Ju extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Gce(t){t=vt(t,vn);const e=vt(t.firestore,bn),n=ir(e),r=new Ju(e);return fce(n,t._key).then(i=>new Fo(e,r,t._key,i,new iu(i!==null&&i.hasLocalMutations,!0),t.converter))}function qce(t){t=vt(t,vn);const e=vt(t.firestore,bn);return S$(ir(e),t._key,{source:"server"}).then(n=>VR(e,t,n))}function Hce(t){t=vt(t,$r);const e=vt(t.firestore,bn),n=ir(e),r=new Ju(e);return q$(t._query),A$(n,t._query).then(i=>new al(e,r,t,i))}function Kce(t){t=vt(t,$r);const e=vt(t.firestore,bn),n=ir(e),r=new Ju(e);return hce(n,t._query).then(i=>new al(e,r,t,i))}function Qce(t){t=vt(t,$r);const e=vt(t.firestore,bn),n=ir(e),r=new Ju(e);return A$(n,t._query,{source:"server"}).then(i=>new al(e,r,t,i))}function uO(t,e,n){t=vt(t,vn);const r=vt(t.firestore,bn),i=Uw(t.converter,e,n);return Mm(r,[Ow(Yu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cn.none())])}function cO(t,e,n,...r){t=vt(t,vn);const i=vt(t.firestore,bn),s=Yu(i);let o;return o=typeof(e=Ve(e))=="string"||e instanceof ol?kR(s,"updateDoc",t._key,e,n,r):CR(s,"updateDoc",t._key,e),Mm(i,[o.toMutation(t._key,cn.exists(!0))])}function Yce(t){return Mm(vt(t.firestore,bn),[new lf(t._key,cn.none())])}function Zce(t,e){const n=vt(t.firestore,bn),r=my(t),i=Uw(t.converter,e);return Mm(n,[Ow(Yu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function Y$(t,...e){var n,r,i;t=Ve(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AS(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(AS(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,d,p;if(t instanceof vn)d=vt(t.firestore,bn),p=of(t._key.path),u={next:m=>{e[o]&&e[o](VR(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=vt(t,$r);d=vt(m.firestore,bn),p=m._query;const _=new Ju(d);u={next:y=>{e[o]&&e[o](new al(d,_,m,y))},error:e[o+1],complete:e[o+2]},q$(t._query)}return function(_,y,S,R){const D=new Pw(R),T=new fR(y,D,S);return _.asyncQueue.enqueueAndForget(async()=>uR(await Gd(_),T)),()=>{D.za(),_.asyncQueue.enqueueAndForget(async()=>cR(await Gd(_),T))}}(ir(d),p,l,u)}function Jce(t,e){return pce(ir(t=vt(t,bn)),AS(e)?e:{next:e})}function Mm(t,e){return function(r,i){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>zue(await ER(r),i,s)),s.promise}(ir(t),e)}function VR(t,e,n){const r=n.docs.get(e._key),i=new Ju(t);return new Fo(t,i,e._key,r,new iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ede=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yu(e)}set(e,n,r){this._verifyNotCommitted();const i=Ra(e,this._firestore),s=Uw(i.converter,n,r),o=Ow(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,cn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ra(e,this._firestore);let o;return o=typeof(n=Ve(n))=="string"||n instanceof ol?kR(this._dataReader,"WriteBatch.update",s._key,n,r,i):CR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ra(e,this._firestore);return this._mutations=this._mutations.concat(new lf(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ra(t,e){if((t=Ve(t)).firestore!==e)throw new re(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tde=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Yu(n)}get(n){const r=Ra(n,this._firestore),i=new zce(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Se();const o=s[0];if(o.isFoundDocument())return new Jp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Jp(this._firestore,i,r._key,null,r.converter);throw Se()})}set(n,r,i){const s=Ra(n,this._firestore),o=Uw(s.converter,r,i),l=Ow(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,l),this}update(n,r,i,...s){const o=Ra(n,this._firestore);let l;return l=typeof(r=Ve(r))=="string"||r instanceof ol?kR(this._dataReader,"Transaction.update",o._key,r,i,s):CR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Ra(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ra(e,this._firestore),r=new Ju(this._firestore);return super.get(e).then(i=>new Fo(this._firestore,r,n._key,i._document,new iu(!1,!1),n.converter))}};function nde(t,e,n){t=vt(t,bn);const r=Object.assign(Object.assign({},Xce),n);return function(s){if(s.maxAttempts<1)throw new re(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const u=new rr;return s.asyncQueue.enqueueAndForget(async()=>{const d=await uce(s);new ace(s.asyncQueue,d,l,o,u).ru()}),u.promise}(ir(t),i=>e(new tde(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rde(){return new Dm("deleteField")}function ide(){return new AR("serverTimestamp")}function sde(...t){return new RR("arrayUnion",t)}function ode(...t){return new bR("arrayRemove",t)}function ade(t){return new PR("increment",t)}(function(e,n=!0){(function(i){sf=i})(hl),Xa(new qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new bn(new fae(r.getProvider("auth-internal")),new gae(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new re(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Hi(tN,"4.7.1",e),Hi(tN,"4.7.1","esm2017")})();const lde="@firebase/firestore-compat",ude="0.3.36";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new re("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function fO(){if(!zae())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xp{constructor(e){this._delegate=e}static fromBase64String(e){return fO(),new Xp(Qs.fromBase64String(e))}static fromUint8Array(e){return dO(),new Xp(Qs.fromUint8Array(e))}toBase64(){return fO(),this._delegate.toBase64()}toUint8Array(){return dO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){return cde(t,["next","error","complete"])}function cde(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{enableIndexedDbPersistence(e,n){return Ece(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Tce(e._delegate)}clearIndexedDbPersistence(e){return Ice(e._delegate)}}class Z${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&gs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){C$(this._delegate,e,n,r)}enableNetwork(){return Ace(this._delegate)}disableNetwork(){return Rce(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,b$("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Sce(this._delegate)}onSnapshotsInSync(e){return Jce(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qd(this,O$(this._delegate,e))}catch(n){throw Dr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Wi(this,my(this._delegate,e))}catch(n){throw Dr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Or(this,_ce(this._delegate,e))}catch(n){throw Dr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nde(this._delegate,n=>e(new J$(this,n)))}batch(){return ir(this._delegate),new X$(new ede(this._delegate,e=>Mm(this._delegate,e)))}loadBundle(e){return bce(this._delegate,e)}namedQuery(e){return Pce(this._delegate,e).then(n=>n?new Or(this,n):null)}}class $w extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xp(new Qs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Wi.forKey(n,this.firestore,null)}}function fde(t){lae(t)}class J${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new $w(e)}get(e){const n=su(e);return this._delegate.get(n).then(r=>new em(this._firestore,new Fo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=su(e);return r?(FR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=su(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=su(e);return this._delegate.delete(n),this}}class X${constructor(e){this._delegate=e}set(e,n,r){const i=su(e);return r?(FR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=su(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=su(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class $u{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tm(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=$u.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new $u(e,new $w(e),n),i.set(n,s)),s}}$u.INSTANCES=new WeakMap;class Wi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $w(e)}static forPath(e,n,r){if(e.length%2!==0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wi(n,new vn(n._delegate,r,new me(e)))}static forKey(e,n,r){return new Wi(n,new vn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qd(this.firestore,O$(this._delegate,e))}catch(n){throw Dr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ve(e),e instanceof vn?D$(this._delegate,e):!1}set(e,n){n=FR("DocumentReference.set",n);try{return n?uO(this._delegate,e,n):uO(this._delegate,e)}catch(r){throw Dr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?cO(this._delegate,e):cO(this._delegate,e,n,...r)}catch(i){throw Dr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Yce(this._delegate)}onSnapshot(...e){const n=e4(e),r=t4(e,i=>new em(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Y$(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=Gce(this._delegate):e?.source==="server"?n=qce(this._delegate):n=Wce(this._delegate),n.then(r=>new em(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wi(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Dr(t,e,n){return t.message=t.message.replace(e,n),t}function e4(t){for(const e of t)if(typeof e=="object"&&!bS(e))return e;return{}}function t4(t,e){var n,r;let i;return bS(t[0])?i=t[0]:bS(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class em{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Wi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Q$(this._delegate,e._delegate)}}class tm extends em{data(e){const n=this._delegate.data(e);return this._delegate._converter||uae(n!==void 0),n}}class Or{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $w(e)}where(e,n,r){try{return new Or(this.firestore,_a(this._delegate,Dce(e,n,r)))}catch(i){throw Dr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Or(this.firestore,_a(this._delegate,Lce(e,n)))}catch(r){throw Dr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Or(this.firestore,_a(this._delegate,Mce(e)))}catch(n){throw Dr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Or(this.firestore,_a(this._delegate,Vce(e)))}catch(n){throw Dr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Or(this.firestore,_a(this._delegate,Fce(...e)))}catch(n){throw Dr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Or(this.firestore,_a(this._delegate,Uce(...e)))}catch(n){throw Dr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Or(this.firestore,_a(this._delegate,$ce(...e)))}catch(n){throw Dr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Or(this.firestore,_a(this._delegate,Bce(...e)))}catch(n){throw Dr(n,"endAt()","Query.endAt()")}}isEqual(e){return L$(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=Kce(this._delegate):e?.source==="server"?n=Qce(this._delegate):n=Hce(this._delegate),n.then(r=>new PS(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=e4(e),r=t4(e,i=>new PS(this.firestore,new al(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Y$(this._delegate,n,r)}withConverter(e){return new Or(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hde{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new tm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PS{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new hde(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new tm(this._firestore,r))})}isEqual(e){return Q$(this._delegate,e._delegate)}}class qd extends Or{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wi(this.firestore,e):null}doc(e){try{return e===void 0?new Wi(this.firestore,my(this._delegate)):new Wi(this.firestore,my(this._delegate,e))}catch(n){throw Dr(n,"doc()","CollectionReference.doc()")}}add(e){return Zce(this._delegate,e).then(n=>new Wi(this.firestore,n))}isEqual(e){return D$(this._delegate,e._delegate)}withConverter(e){return new qd(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function su(t){return vt(t,vn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(...e){this._delegate=new ol(...e)}static documentId(){return new UR(un.keyField().canonicalString())}isEqual(e){return e=Ve(e),e instanceof ol?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._delegate=e}static serverTimestamp(){const e=ide();return e._methodName="FieldValue.serverTimestamp",new Jl(e)}static delete(){const e=rde();return e._methodName="FieldValue.delete",new Jl(e)}static arrayUnion(...e){const n=sde(...e);return n._methodName="FieldValue.arrayUnion",new Jl(n)}static arrayRemove(...e){const n=ode(...e);return n._methodName="FieldValue.arrayRemove",new Jl(n)}static increment(e){const n=ade(e);return n._methodName="FieldValue.increment",new Jl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde={Firestore:Z$,GeoPoint:xw,Timestamp:fn,Blob:Xp,Transaction:J$,WriteBatch:X$,DocumentReference:Wi,DocumentSnapshot:em,Query:Or,QueryDocumentSnapshot:tm,QuerySnapshot:PS,CollectionReference:qd,FieldPath:UR,FieldValue:Jl,setLogLevel:fde,CACHE_SIZE_UNLIMITED:wce};function mde(t,e){t.INTERNAL.registerComponent(new qs("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pde)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gde(t){mde(t,(e,n)=>new Z$(e,n,new dde)),t.registerVersion(lde,ude)}gde(ow);const _de={apiKey:"AIzaSyDz8sjOP6FWU5CghOimZnLryKWMwqcGhGo",authDomain:"acnes-8b16a.firebaseapp.com",projectId:"acnes-8b16a",storageBucket:"acnes-8b16a.appspot.com",messagingSenderId:"811496508528",appId:"1:811496508528:web:f4d89974eafc89b973b8b5",measurementId:"G-PTFN7B9F9D"},vde=ef(_de);IR(vde);const yde={apiKey:"AIzaSyDz8sjOP6FWU5CghOimZnLryKWMwqcGhGo",authDomain:"acnes-8b16a.firebaseapp.com",projectId:"acnes-8b16a",storageBucket:"acnes-8b16a.appspot.com",messagingSenderId:"811496508528",appId:"1:811496508528:web:f4d89974eafc89b973b8b5",measurementId:"G-PTFN7B9F9D"},wde=ef(yde);IR(wde);const Ede={apiKey:"AIzaSyDz8sjOP6FWU5CghOimZnLryKWMwqcGhGo",authDomain:"acnes-8b16a.firebaseapp.com",projectId:"acnes-8b16a",storageBucket:"acnes-8b16a.appspot.com",messagingSenderId:"811496508528",appId:"1:811496508528:web:f4d89974eafc89b973b8b5",measurementId:"G-PTFN7B9F9D"},Tde=ef(Ede);IR(Tde);var _y={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_y.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",m=1,_=2,y=4,S=1,R=2,D=1,T=2,A=4,b=8,F=16,B=32,z=64,x=128,I=256,O=512,M=30,L="...",U=800,N=16,We=1,en=2,qt=3,wt=1/0,ce=9007199254740991,we=17976931348623157e292,ue=NaN,Ie=4294967295,q=Ie-1,ne=Ie>>>1,de=[["ary",x],["bind",D],["bindKey",T],["curry",b],["curryRight",F],["flip",O],["partial",B],["partialRight",z],["rearg",I]],Pe="[object Arguments]",ye="[object Array]",Be="[object AsyncFunction]",Ge="[object Boolean]",Ce="[object Date]",Et="[object DOMException]",Ct="[object Error]",st="[object Function]",Rt="[object GeneratorFunction]",Ft="[object Map]",sr="[object Number]",or="[object Null]",Ht="[object Object]",yl="[object Promise]",Xu="[object Proxy]",oi="[object RegExp]",ar="[object Set]",_s="[object String]",vs="[object Symbol]",Xs="[object Undefined]",bi="[object WeakMap]",Mn="[object WeakSet]",hn="[object ArrayBuffer]",ai="[object DataView]",Ho="[object Float32Array]",Ko="[object Float64Array]",wl="[object Int8Array]",Pi="[object Int16Array]",Qo="[object Int32Array]",Yo="[object Uint8Array]",K="[object Uint8ClampedArray]",W="[object Uint16Array]",oe="[object Uint32Array]",pe=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,De=/&(?:amp|lt|gt|quot|#39);/g,Le=/[&<>"']/g,Me=RegExp(De.source),ze=RegExp(Le.source),kt=/<%-([\s\S]+?)%>/g,kn=/<%([\s\S]+?)%>/g,tn=/<%=([\s\S]+?)%>/g,Vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gr=/^\w*$/,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ji=/[\\^$.*+?()[\]{}|]/g,li=RegExp(Ji.source),br=/^\s+/,Bw=/\s/,zw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zo=/\{\n\/\* \[wrapped with (.+)\] \*/,jw=/,? & /,Ww=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ec=/[()=,{}\[\]\/\s]/,Vm=/\\(\\)?/g,hf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,El=/\w*$/,ys=/^[-+]0x[0-9a-f]+$/i,Fm=/^0b[01]+$/i,Um=/^\[object .+?Constructor\]$/,pf=/^0o[0-7]+$/i,mf=/^(?:0|[1-9]\d*)$/,$m=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tl=/($^)/,Gw=/['\n\r\u2028\u2029\\]/g,eo="\\ud800-\\udfff",Bm="\\u0300-\\u036f",gf="\\ufe20-\\ufe2f",Il="\\u20d0-\\u20ff",ws=Bm+gf+Il,tc="\\u2700-\\u27bf",zm="a-z\\xdf-\\xf6\\xf8-\\xff",jm="\\xac\\xb1\\xd7\\xf7",Wm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gm="\\u2000-\\u206f",_f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nc="A-Z\\xc0-\\xd6\\xd8-\\xde",vf="\\ufe0e\\ufe0f",yf=jm+Wm+Gm+_f,wf="[']",qw="["+eo+"]",Ef="["+yf+"]",Sl="["+ws+"]",qm="\\d+",to="["+tc+"]",Ci="["+zm+"]",Al="[^"+eo+yf+qm+tc+zm+nc+"]",Jo="\\ud83c[\\udffb-\\udfff]",Hm="(?:"+Sl+"|"+Jo+")",Dt="[^"+eo+"]",Xo="(?:\\ud83c[\\udde6-\\uddff]){2}",no="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+nc+"]",Km="\\u200d",Tf="(?:"+Ci+"|"+Al+")",Hw="(?:"+ki+"|"+Al+")",Qm="(?:"+wf+"(?:d|ll|m|re|s|t|ve))?",Ym="(?:"+wf+"(?:D|LL|M|RE|S|T|VE))?",Zm=Hm+"?",ea="["+vf+"]?",Es="(?:"+Km+"(?:"+[Dt,Xo,no].join("|")+")"+ea+Zm+")*",Jm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",If=ea+Zm+Es,ta="(?:"+[to,Xo,no].join("|")+")"+If,Kw="(?:"+[Dt+Sl+"?",Sl,Xo,no,qw].join("|")+")",Qw=RegExp(wf,"g"),Yw=RegExp(Sl,"g"),xi=RegExp(Jo+"(?="+Jo+")|"+Kw+If,"g"),Zw=RegExp([ki+"?"+Ci+"+"+Qm+"(?="+[Ef,ki,"$"].join("|")+")",Hw+"+"+Ym+"(?="+[Ef,ki+Tf,"$"].join("|")+")",ki+"?"+Tf+"+"+Qm,ki+"+"+Ym,Xm,Jm,qm,ta].join("|"),"g"),Jw=RegExp("["+Km+eo+ws+vf+"]"),Rl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eg=-1,Tt={};Tt[Ho]=Tt[Ko]=Tt[wl]=Tt[Pi]=Tt[Qo]=Tt[Yo]=Tt[K]=Tt[W]=Tt[oe]=!0,Tt[Pe]=Tt[ye]=Tt[hn]=Tt[Ge]=Tt[ai]=Tt[Ce]=Tt[Ct]=Tt[st]=Tt[Ft]=Tt[sr]=Tt[Ht]=Tt[oi]=Tt[ar]=Tt[_s]=Tt[bi]=!1;var yt={};yt[Pe]=yt[ye]=yt[hn]=yt[ai]=yt[Ge]=yt[Ce]=yt[Ho]=yt[Ko]=yt[wl]=yt[Pi]=yt[Qo]=yt[Ft]=yt[sr]=yt[Ht]=yt[oi]=yt[ar]=yt[_s]=yt[vs]=yt[Yo]=yt[K]=yt[W]=yt[oe]=!0,yt[Ct]=yt[st]=yt[bi]=!1;var tg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Sf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e0=parseFloat,ng=parseInt,Af=typeof Gf=="object"&&Gf&&Gf.Object===Object&&Gf,rg=typeof self=="object"&&self&&self.Object===Object&&self,En=Af||rg||Function("return this")(),ic=e&&!e.nodeType&&e,lr=ic&&!0&&t&&!t.nodeType&&t,Rf=lr&&lr.exports===ic,bf=Rf&&Af.process,Qn=function(){try{var j=lr&&lr.require&&lr.require("util").types;return j||bf&&bf.binding&&bf.binding("util")}catch{}}(),Pf=Qn&&Qn.isArrayBuffer,sc=Qn&&Qn.isDate,bl=Qn&&Qn.isMap,Cf=Qn&&Qn.isRegExp,Pl=Qn&&Qn.isSet,ig=Qn&&Qn.isTypedArray;function _r(j,X,Y){switch(Y.length){case 0:return j.call(X);case 1:return j.call(X,Y[0]);case 2:return j.call(X,Y[0],Y[1]);case 3:return j.call(X,Y[0],Y[1],Y[2])}return j.apply(X,Y)}function Cl(j,X,Y,Ae){for(var He=-1,St=j==null?0:j.length;++He<St;){var jn=j[He];X(Ae,jn,Y(jn),j)}return Ae}function Pr(j,X){for(var Y=-1,Ae=j==null?0:j.length;++Y<Ae&&X(j[Y],Y,j)!==!1;);return j}function sg(j,X){for(var Y=j==null?0:j.length;Y--&&X(j[Y],Y,j)!==!1;);return j}function oc(j,X){for(var Y=-1,Ae=j==null?0:j.length;++Y<Ae;)if(!X(j[Y],Y,j))return!1;return!0}function Ni(j,X){for(var Y=-1,Ae=j==null?0:j.length,He=0,St=[];++Y<Ae;){var jn=j[Y];X(jn,Y,j)&&(St[He++]=jn)}return St}function kl(j,X){var Y=j==null?0:j.length;return!!Y&&ro(j,X,0)>-1}function na(j,X,Y){for(var Ae=-1,He=j==null?0:j.length;++Ae<He;)if(Y(X,j[Ae]))return!0;return!1}function Ut(j,X){for(var Y=-1,Ae=j==null?0:j.length,He=Array(Ae);++Y<Ae;)He[Y]=X(j[Y],Y,j);return He}function Xi(j,X){for(var Y=-1,Ae=X.length,He=j.length;++Y<Ae;)j[He+Y]=X[Y];return j}function es(j,X,Y,Ae){var He=-1,St=j==null?0:j.length;for(Ae&&St&&(Y=j[++He]);++He<St;)Y=X(Y,j[He],He,j);return Y}function og(j,X,Y,Ae){var He=j==null?0:j.length;for(Ae&&He&&(Y=j[--He]);He--;)Y=X(Y,j[He],He,j);return Y}function ac(j,X){for(var Y=-1,Ae=j==null?0:j.length;++Y<Ae;)if(X(j[Y],Y,j))return!0;return!1}var ag=w("length");function lg(j){return j.split("")}function lc(j){return j.match(Ww)||[]}function vr(j,X,Y){var Ae;return Y(j,function(He,St,jn){if(X(He,St,jn))return Ae=St,!1}),Ae}function xl(j,X,Y,Ae){for(var He=j.length,St=Y+(Ae?1:-1);Ae?St--:++St<He;)if(X(j[St],St,j))return St;return-1}function ro(j,X,Y){return X===X?u4(j,X,Y):xl(j,f,Y)}function ra(j,X,Y,Ae){for(var He=Y-1,St=j.length;++He<St;)if(Ae(j[He],X))return He;return-1}function f(j){return j!==j}function g(j,X){var Y=j==null?0:j.length;return Y?fe(j,X)/Y:ue}function w(j){return function(X){return X==null?n:X[j]}}function C(j){return function(X){return j==null?n:j[X]}}function H(j,X,Y,Ae,He){return He(j,function(St,jn,$t){Y=Ae?(Ae=!1,St):X(Y,St,jn,$t)}),Y}function J(j,X){var Y=j.length;for(j.sort(X);Y--;)j[Y]=j[Y].value;return j}function fe(j,X){for(var Y,Ae=-1,He=j.length;++Ae<He;){var St=X(j[Ae]);St!==n&&(Y=Y===n?St:Y+St)}return Y}function It(j,X){for(var Y=-1,Ae=Array(j);++Y<j;)Ae[Y]=X(Y);return Ae}function zn(j,X){return Ut(X,function(Y){return[Y,j[Y]]})}function pt(j){return j&&j.slice(0,BR(j)+1).replace(br,"")}function bt(j){return function(X){return j(X)}}function Fn(j,X){return Ut(X,function(Y){return j[Y]})}function Oi(j,X){return j.has(X)}function jr(j,X){for(var Y=-1,Ae=j.length;++Y<Ae&&ro(X,j[Y],0)>-1;);return Y}function Nl(j,X){for(var Y=j.length;Y--&&ro(X,j[Y],0)>-1;);return Y}function kf(j,X){for(var Y=j.length,Ae=0;Y--;)j[Y]===X&&++Ae;return Ae}var n4=C(tg),r4=C(Sf);function i4(j){return"\\"+Xw[j]}function s4(j,X){return j==null?n:j[X]}function uc(j){return Jw.test(j)}function o4(j){return Rl.test(j)}function a4(j){for(var X,Y=[];!(X=j.next()).done;)Y.push(X.value);return Y}function t0(j){var X=-1,Y=Array(j.size);return j.forEach(function(Ae,He){Y[++X]=[He,Ae]}),Y}function $R(j,X){return function(Y){return j(X(Y))}}function ia(j,X){for(var Y=-1,Ae=j.length,He=0,St=[];++Y<Ae;){var jn=j[Y];(jn===X||jn===p)&&(j[Y]=p,St[He++]=Y)}return St}function ug(j){var X=-1,Y=Array(j.size);return j.forEach(function(Ae){Y[++X]=Ae}),Y}function l4(j){var X=-1,Y=Array(j.size);return j.forEach(function(Ae){Y[++X]=[Ae,Ae]}),Y}function u4(j,X,Y){for(var Ae=Y-1,He=j.length;++Ae<He;)if(j[Ae]===X)return Ae;return-1}function c4(j,X,Y){for(var Ae=Y+1;Ae--;)if(j[Ae]===X)return Ae;return Ae}function cc(j){return uc(j)?f4(j):ag(j)}function ts(j){return uc(j)?h4(j):lg(j)}function BR(j){for(var X=j.length;X--&&Bw.test(j.charAt(X)););return X}var d4=C(rn);function f4(j){for(var X=xi.lastIndex=0;xi.test(j);)++X;return X}function h4(j){return j.match(xi)||[]}function p4(j){return j.match(Zw)||[]}var m4=function j(X){X=X==null?En:dc.defaults(En.Object(),X,dc.pick(En,rc));var Y=X.Array,Ae=X.Date,He=X.Error,St=X.Function,jn=X.Math,$t=X.Object,n0=X.RegExp,g4=X.String,Di=X.TypeError,cg=Y.prototype,_4=St.prototype,fc=$t.prototype,dg=X["__core-js_shared__"],fg=_4.toString,xt=fc.hasOwnProperty,v4=0,zR=function(){var a=/[^.]+$/.exec(dg&&dg.keys&&dg.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),hg=fc.toString,y4=fg.call($t),w4=En._,E4=n0("^"+fg.call(xt).replace(Ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pg=Rf?X.Buffer:n,sa=X.Symbol,mg=X.Uint8Array,jR=pg?pg.allocUnsafe:n,gg=$R($t.getPrototypeOf,$t),WR=$t.create,GR=fc.propertyIsEnumerable,_g=cg.splice,qR=sa?sa.isConcatSpreadable:n,xf=sa?sa.iterator:n,Ol=sa?sa.toStringTag:n,vg=function(){try{var a=Fl($t,"defineProperty");return a({},"",{}),a}catch{}}(),T4=X.clearTimeout!==En.clearTimeout&&X.clearTimeout,I4=Ae&&Ae.now!==En.Date.now&&Ae.now,S4=X.setTimeout!==En.setTimeout&&X.setTimeout,yg=jn.ceil,wg=jn.floor,r0=$t.getOwnPropertySymbols,A4=pg?pg.isBuffer:n,HR=X.isFinite,R4=cg.join,b4=$R($t.keys,$t),Wn=jn.max,yr=jn.min,P4=Ae.now,C4=X.parseInt,KR=jn.random,k4=cg.reverse,i0=Fl(X,"DataView"),Nf=Fl(X,"Map"),s0=Fl(X,"Promise"),hc=Fl(X,"Set"),Of=Fl(X,"WeakMap"),Df=Fl($t,"create"),Eg=Of&&new Of,pc={},x4=Ul(i0),N4=Ul(Nf),O4=Ul(s0),D4=Ul(hc),L4=Ul(Of),Tg=sa?sa.prototype:n,Lf=Tg?Tg.valueOf:n,QR=Tg?Tg.toString:n;function P(a){if(Tn(a)&&!Ye(a)&&!(a instanceof ct)){if(a instanceof Li)return a;if(xt.call(a,"__wrapped__"))return Yb(a)}return new Li(a)}var mc=function(){function a(){}return function(c){if(!pn(c))return{};if(WR)return WR(c);a.prototype=c;var h=new a;return a.prototype=n,h}}();function Ig(){}function Li(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}P.templateSettings={escape:kt,evaluate:kn,interpolate:tn,variable:"",imports:{_:P}},P.prototype=Ig.prototype,P.prototype.constructor=P,Li.prototype=mc(Ig.prototype),Li.prototype.constructor=Li;function ct(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ie,this.__views__=[]}function M4(){var a=new ct(this.__wrapped__);return a.__actions__=Wr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Wr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Wr(this.__views__),a}function V4(){if(this.__filtered__){var a=new ct(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function F4(){var a=this.__wrapped__.value(),c=this.__dir__,h=Ye(a),v=c<0,E=h?a.length:0,k=YB(0,E,this.__views__),V=k.start,$=k.end,G=$-V,ee=v?$:V-1,te=this.__iteratees__,ie=te.length,ve=0,ke=yr(G,this.__takeCount__);if(!h||!v&&E==G&&ke==G)return yb(a,this.__actions__);var Ue=[];e:for(;G--&&ve<ke;){ee+=c;for(var tt=-1,$e=a[ee];++tt<ie;){var ot=te[tt],mt=ot.iteratee,di=ot.type,xr=mt($e);if(di==en)$e=xr;else if(!xr){if(di==We)continue e;break e}}Ue[ve++]=$e}return Ue}ct.prototype=mc(Ig.prototype),ct.prototype.constructor=ct;function Dl(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function U4(){this.__data__=Df?Df(null):{},this.size=0}function $4(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function B4(a){var c=this.__data__;if(Df){var h=c[a];return h===u?n:h}return xt.call(c,a)?c[a]:n}function z4(a){var c=this.__data__;return Df?c[a]!==n:xt.call(c,a)}function j4(a,c){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=Df&&c===n?u:c,this}Dl.prototype.clear=U4,Dl.prototype.delete=$4,Dl.prototype.get=B4,Dl.prototype.has=z4,Dl.prototype.set=j4;function io(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function W4(){this.__data__=[],this.size=0}function G4(a){var c=this.__data__,h=Sg(c,a);if(h<0)return!1;var v=c.length-1;return h==v?c.pop():_g.call(c,h,1),--this.size,!0}function q4(a){var c=this.__data__,h=Sg(c,a);return h<0?n:c[h][1]}function H4(a){return Sg(this.__data__,a)>-1}function K4(a,c){var h=this.__data__,v=Sg(h,a);return v<0?(++this.size,h.push([a,c])):h[v][1]=c,this}io.prototype.clear=W4,io.prototype.delete=G4,io.prototype.get=q4,io.prototype.has=H4,io.prototype.set=K4;function so(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function Q4(){this.size=0,this.__data__={hash:new Dl,map:new(Nf||io),string:new Dl}}function Y4(a){var c=Mg(this,a).delete(a);return this.size-=c?1:0,c}function Z4(a){return Mg(this,a).get(a)}function J4(a){return Mg(this,a).has(a)}function X4(a,c){var h=Mg(this,a),v=h.size;return h.set(a,c),this.size+=h.size==v?0:1,this}so.prototype.clear=Q4,so.prototype.delete=Y4,so.prototype.get=Z4,so.prototype.has=J4,so.prototype.set=X4;function Ll(a){var c=-1,h=a==null?0:a.length;for(this.__data__=new so;++c<h;)this.add(a[c])}function eB(a){return this.__data__.set(a,u),this}function tB(a){return this.__data__.has(a)}Ll.prototype.add=Ll.prototype.push=eB,Ll.prototype.has=tB;function ns(a){var c=this.__data__=new io(a);this.size=c.size}function nB(){this.__data__=new io,this.size=0}function rB(a){var c=this.__data__,h=c.delete(a);return this.size=c.size,h}function iB(a){return this.__data__.get(a)}function sB(a){return this.__data__.has(a)}function oB(a,c){var h=this.__data__;if(h instanceof io){var v=h.__data__;if(!Nf||v.length<i-1)return v.push([a,c]),this.size=++h.size,this;h=this.__data__=new so(v)}return h.set(a,c),this.size=h.size,this}ns.prototype.clear=nB,ns.prototype.delete=rB,ns.prototype.get=iB,ns.prototype.has=sB,ns.prototype.set=oB;function YR(a,c){var h=Ye(a),v=!h&&$l(a),E=!h&&!v&&ca(a),k=!h&&!v&&!E&&yc(a),V=h||v||E||k,$=V?It(a.length,g4):[],G=$.length;for(var ee in a)(c||xt.call(a,ee))&&!(V&&(ee=="length"||E&&(ee=="offset"||ee=="parent")||k&&(ee=="buffer"||ee=="byteLength"||ee=="byteOffset")||uo(ee,G)))&&$.push(ee);return $}function ZR(a){var c=a.length;return c?a[g0(0,c-1)]:n}function aB(a,c){return Vg(Wr(a),Ml(c,0,a.length))}function lB(a){return Vg(Wr(a))}function o0(a,c,h){(h!==n&&!rs(a[c],h)||h===n&&!(c in a))&&oo(a,c,h)}function Mf(a,c,h){var v=a[c];(!(xt.call(a,c)&&rs(v,h))||h===n&&!(c in a))&&oo(a,c,h)}function Sg(a,c){for(var h=a.length;h--;)if(rs(a[h][0],c))return h;return-1}function uB(a,c,h,v){return oa(a,function(E,k,V){c(v,E,h(E),V)}),v}function JR(a,c){return a&&Is(c,Yn(c),a)}function cB(a,c){return a&&Is(c,qr(c),a)}function oo(a,c,h){c=="__proto__"&&vg?vg(a,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[c]=h}function a0(a,c){for(var h=-1,v=c.length,E=Y(v),k=a==null;++h<v;)E[h]=k?n:B0(a,c[h]);return E}function Ml(a,c,h){return a===a&&(h!==n&&(a=a<=h?a:h),c!==n&&(a=a>=c?a:c)),a}function Mi(a,c,h,v,E,k){var V,$=c&m,G=c&_,ee=c&y;if(h&&(V=E?h(a,v,E,k):h(a)),V!==n)return V;if(!pn(a))return a;var te=Ye(a);if(te){if(V=JB(a),!$)return Wr(a,V)}else{var ie=wr(a),ve=ie==st||ie==Rt;if(ca(a))return Tb(a,$);if(ie==Ht||ie==Pe||ve&&!E){if(V=G||ve?{}:Bb(a),!$)return G?BB(a,cB(V,a)):$B(a,JR(V,a))}else{if(!yt[ie])return E?a:{};V=XB(a,ie,$)}}k||(k=new ns);var ke=k.get(a);if(ke)return ke;k.set(a,V),gP(a)?a.forEach(function($e){V.add(Mi($e,c,h,$e,a,k))}):pP(a)&&a.forEach(function($e,ot){V.set(ot,Mi($e,c,h,ot,a,k))});var Ue=ee?G?b0:R0:G?qr:Yn,tt=te?n:Ue(a);return Pr(tt||a,function($e,ot){tt&&(ot=$e,$e=a[ot]),Mf(V,ot,Mi($e,c,h,ot,a,k))}),V}function dB(a){var c=Yn(a);return function(h){return XR(h,a,c)}}function XR(a,c,h){var v=h.length;if(a==null)return!v;for(a=$t(a);v--;){var E=h[v],k=c[E],V=a[E];if(V===n&&!(E in a)||!k(V))return!1}return!0}function eb(a,c,h){if(typeof a!="function")throw new Di(o);return jf(function(){a.apply(n,h)},c)}function Vf(a,c,h,v){var E=-1,k=kl,V=!0,$=a.length,G=[],ee=c.length;if(!$)return G;h&&(c=Ut(c,bt(h))),v?(k=na,V=!1):c.length>=i&&(k=Oi,V=!1,c=new Ll(c));e:for(;++E<$;){var te=a[E],ie=h==null?te:h(te);if(te=v||te!==0?te:0,V&&ie===ie){for(var ve=ee;ve--;)if(c[ve]===ie)continue e;G.push(te)}else k(c,ie,v)||G.push(te)}return G}var oa=bb(Ts),tb=bb(u0,!0);function fB(a,c){var h=!0;return oa(a,function(v,E,k){return h=!!c(v,E,k),h}),h}function Ag(a,c,h){for(var v=-1,E=a.length;++v<E;){var k=a[v],V=c(k);if(V!=null&&($===n?V===V&&!ci(V):h(V,$)))var $=V,G=k}return G}function hB(a,c,h,v){var E=a.length;for(h=Xe(h),h<0&&(h=-h>E?0:E+h),v=v===n||v>E?E:Xe(v),v<0&&(v+=E),v=h>v?0:vP(v);h<v;)a[h++]=c;return a}function nb(a,c){var h=[];return oa(a,function(v,E,k){c(v,E,k)&&h.push(v)}),h}function ur(a,c,h,v,E){var k=-1,V=a.length;for(h||(h=tz),E||(E=[]);++k<V;){var $=a[k];c>0&&h($)?c>1?ur($,c-1,h,v,E):Xi(E,$):v||(E[E.length]=$)}return E}var l0=Pb(),rb=Pb(!0);function Ts(a,c){return a&&l0(a,c,Yn)}function u0(a,c){return a&&rb(a,c,Yn)}function Rg(a,c){return Ni(c,function(h){return co(a[h])})}function Vl(a,c){c=la(c,a);for(var h=0,v=c.length;a!=null&&h<v;)a=a[Ss(c[h++])];return h&&h==v?a:n}function ib(a,c,h){var v=c(a);return Ye(a)?v:Xi(v,h(a))}function Cr(a){return a==null?a===n?Xs:or:Ol&&Ol in $t(a)?QB(a):lz(a)}function c0(a,c){return a>c}function pB(a,c){return a!=null&&xt.call(a,c)}function mB(a,c){return a!=null&&c in $t(a)}function gB(a,c,h){return a>=yr(c,h)&&a<Wn(c,h)}function d0(a,c,h){for(var v=h?na:kl,E=a[0].length,k=a.length,V=k,$=Y(k),G=1/0,ee=[];V--;){var te=a[V];V&&c&&(te=Ut(te,bt(c))),G=yr(te.length,G),$[V]=!h&&(c||E>=120&&te.length>=120)?new Ll(V&&te):n}te=a[0];var ie=-1,ve=$[0];e:for(;++ie<E&&ee.length<G;){var ke=te[ie],Ue=c?c(ke):ke;if(ke=h||ke!==0?ke:0,!(ve?Oi(ve,Ue):v(ee,Ue,h))){for(V=k;--V;){var tt=$[V];if(!(tt?Oi(tt,Ue):v(a[V],Ue,h)))continue e}ve&&ve.push(Ue),ee.push(ke)}}return ee}function _B(a,c,h,v){return Ts(a,function(E,k,V){c(v,h(E),k,V)}),v}function Ff(a,c,h){c=la(c,a),a=Gb(a,c);var v=a==null?a:a[Ss(Fi(c))];return v==null?n:_r(v,a,h)}function sb(a){return Tn(a)&&Cr(a)==Pe}function vB(a){return Tn(a)&&Cr(a)==hn}function yB(a){return Tn(a)&&Cr(a)==Ce}function Uf(a,c,h,v,E){return a===c?!0:a==null||c==null||!Tn(a)&&!Tn(c)?a!==a&&c!==c:wB(a,c,h,v,Uf,E)}function wB(a,c,h,v,E,k){var V=Ye(a),$=Ye(c),G=V?ye:wr(a),ee=$?ye:wr(c);G=G==Pe?Ht:G,ee=ee==Pe?Ht:ee;var te=G==Ht,ie=ee==Ht,ve=G==ee;if(ve&&ca(a)){if(!ca(c))return!1;V=!0,te=!1}if(ve&&!te)return k||(k=new ns),V||yc(a)?Fb(a,c,h,v,E,k):HB(a,c,G,h,v,E,k);if(!(h&S)){var ke=te&&xt.call(a,"__wrapped__"),Ue=ie&&xt.call(c,"__wrapped__");if(ke||Ue){var tt=ke?a.value():a,$e=Ue?c.value():c;return k||(k=new ns),E(tt,$e,h,v,k)}}return ve?(k||(k=new ns),KB(a,c,h,v,E,k)):!1}function EB(a){return Tn(a)&&wr(a)==Ft}function f0(a,c,h,v){var E=h.length,k=E,V=!v;if(a==null)return!k;for(a=$t(a);E--;){var $=h[E];if(V&&$[2]?$[1]!==a[$[0]]:!($[0]in a))return!1}for(;++E<k;){$=h[E];var G=$[0],ee=a[G],te=$[1];if(V&&$[2]){if(ee===n&&!(G in a))return!1}else{var ie=new ns;if(v)var ve=v(ee,te,G,a,c,ie);if(!(ve===n?Uf(te,ee,S|R,v,ie):ve))return!1}}return!0}function ob(a){if(!pn(a)||rz(a))return!1;var c=co(a)?E4:Um;return c.test(Ul(a))}function TB(a){return Tn(a)&&Cr(a)==oi}function IB(a){return Tn(a)&&wr(a)==ar}function SB(a){return Tn(a)&&jg(a.length)&&!!Tt[Cr(a)]}function ab(a){return typeof a=="function"?a:a==null?Hr:typeof a=="object"?Ye(a)?cb(a[0],a[1]):ub(a):CP(a)}function h0(a){if(!zf(a))return b4(a);var c=[];for(var h in $t(a))xt.call(a,h)&&h!="constructor"&&c.push(h);return c}function AB(a){if(!pn(a))return az(a);var c=zf(a),h=[];for(var v in a)v=="constructor"&&(c||!xt.call(a,v))||h.push(v);return h}function p0(a,c){return a<c}function lb(a,c){var h=-1,v=Gr(a)?Y(a.length):[];return oa(a,function(E,k,V){v[++h]=c(E,k,V)}),v}function ub(a){var c=C0(a);return c.length==1&&c[0][2]?jb(c[0][0],c[0][1]):function(h){return h===a||f0(h,a,c)}}function cb(a,c){return x0(a)&&zb(c)?jb(Ss(a),c):function(h){var v=B0(h,a);return v===n&&v===c?z0(h,a):Uf(c,v,S|R)}}function bg(a,c,h,v,E){a!==c&&l0(c,function(k,V){if(E||(E=new ns),pn(k))RB(a,c,V,h,bg,v,E);else{var $=v?v(O0(a,V),k,V+"",a,c,E):n;$===n&&($=k),o0(a,V,$)}},qr)}function RB(a,c,h,v,E,k,V){var $=O0(a,h),G=O0(c,h),ee=V.get(G);if(ee){o0(a,h,ee);return}var te=k?k($,G,h+"",a,c,V):n,ie=te===n;if(ie){var ve=Ye(G),ke=!ve&&ca(G),Ue=!ve&&!ke&&yc(G);te=G,ve||ke||Ue?Ye($)?te=$:xn($)?te=Wr($):ke?(ie=!1,te=Tb(G,!0)):Ue?(ie=!1,te=Ib(G,!0)):te=[]:Wf(G)||$l(G)?(te=$,$l($)?te=yP($):(!pn($)||co($))&&(te=Bb(G))):ie=!1}ie&&(V.set(G,te),E(te,G,v,k,V),V.delete(G)),o0(a,h,te)}function db(a,c){var h=a.length;if(h)return c+=c<0?h:0,uo(c,h)?a[c]:n}function fb(a,c,h){c.length?c=Ut(c,function(k){return Ye(k)?function(V){return Vl(V,k.length===1?k[0]:k)}:k}):c=[Hr];var v=-1;c=Ut(c,bt(Fe()));var E=lb(a,function(k,V,$){var G=Ut(c,function(ee){return ee(k)});return{criteria:G,index:++v,value:k}});return J(E,function(k,V){return UB(k,V,h)})}function bB(a,c){return hb(a,c,function(h,v){return z0(a,v)})}function hb(a,c,h){for(var v=-1,E=c.length,k={};++v<E;){var V=c[v],$=Vl(a,V);h($,V)&&$f(k,la(V,a),$)}return k}function PB(a){return function(c){return Vl(c,a)}}function m0(a,c,h,v){var E=v?ra:ro,k=-1,V=c.length,$=a;for(a===c&&(c=Wr(c)),h&&($=Ut(a,bt(h)));++k<V;)for(var G=0,ee=c[k],te=h?h(ee):ee;(G=E($,te,G,v))>-1;)$!==a&&_g.call($,G,1),_g.call(a,G,1);return a}function pb(a,c){for(var h=a?c.length:0,v=h-1;h--;){var E=c[h];if(h==v||E!==k){var k=E;uo(E)?_g.call(a,E,1):y0(a,E)}}return a}function g0(a,c){return a+wg(KR()*(c-a+1))}function CB(a,c,h,v){for(var E=-1,k=Wn(yg((c-a)/(h||1)),0),V=Y(k);k--;)V[v?k:++E]=a,a+=h;return V}function _0(a,c){var h="";if(!a||c<1||c>ce)return h;do c%2&&(h+=a),c=wg(c/2),c&&(a+=a);while(c);return h}function rt(a,c){return D0(Wb(a,c,Hr),a+"")}function kB(a){return ZR(wc(a))}function xB(a,c){var h=wc(a);return Vg(h,Ml(c,0,h.length))}function $f(a,c,h,v){if(!pn(a))return a;c=la(c,a);for(var E=-1,k=c.length,V=k-1,$=a;$!=null&&++E<k;){var G=Ss(c[E]),ee=h;if(G==="__proto__"||G==="constructor"||G==="prototype")return a;if(E!=V){var te=$[G];ee=v?v(te,G,$):n,ee===n&&(ee=pn(te)?te:uo(c[E+1])?[]:{})}Mf($,G,ee),$=$[G]}return a}var mb=Eg?function(a,c){return Eg.set(a,c),a}:Hr,NB=vg?function(a,c){return vg(a,"toString",{configurable:!0,enumerable:!1,value:W0(c),writable:!0})}:Hr;function OB(a){return Vg(wc(a))}function Vi(a,c,h){var v=-1,E=a.length;c<0&&(c=-c>E?0:E+c),h=h>E?E:h,h<0&&(h+=E),E=c>h?0:h-c>>>0,c>>>=0;for(var k=Y(E);++v<E;)k[v]=a[v+c];return k}function DB(a,c){var h;return oa(a,function(v,E,k){return h=c(v,E,k),!h}),!!h}function Pg(a,c,h){var v=0,E=a==null?v:a.length;if(typeof c=="number"&&c===c&&E<=ne){for(;v<E;){var k=v+E>>>1,V=a[k];V!==null&&!ci(V)&&(h?V<=c:V<c)?v=k+1:E=k}return E}return v0(a,c,Hr,h)}function v0(a,c,h,v){var E=0,k=a==null?0:a.length;if(k===0)return 0;c=h(c);for(var V=c!==c,$=c===null,G=ci(c),ee=c===n;E<k;){var te=wg((E+k)/2),ie=h(a[te]),ve=ie!==n,ke=ie===null,Ue=ie===ie,tt=ci(ie);if(V)var $e=v||Ue;else ee?$e=Ue&&(v||ve):$?$e=Ue&&ve&&(v||!ke):G?$e=Ue&&ve&&!ke&&(v||!tt):ke||tt?$e=!1:$e=v?ie<=c:ie<c;$e?E=te+1:k=te}return yr(k,q)}function gb(a,c){for(var h=-1,v=a.length,E=0,k=[];++h<v;){var V=a[h],$=c?c(V):V;if(!h||!rs($,G)){var G=$;k[E++]=V===0?0:V}}return k}function _b(a){return typeof a=="number"?a:ci(a)?ue:+a}function ui(a){if(typeof a=="string")return a;if(Ye(a))return Ut(a,ui)+"";if(ci(a))return QR?QR.call(a):"";var c=a+"";return c=="0"&&1/a==-wt?"-0":c}function aa(a,c,h){var v=-1,E=kl,k=a.length,V=!0,$=[],G=$;if(h)V=!1,E=na;else if(k>=i){var ee=c?null:GB(a);if(ee)return ug(ee);V=!1,E=Oi,G=new Ll}else G=c?[]:$;e:for(;++v<k;){var te=a[v],ie=c?c(te):te;if(te=h||te!==0?te:0,V&&ie===ie){for(var ve=G.length;ve--;)if(G[ve]===ie)continue e;c&&G.push(ie),$.push(te)}else E(G,ie,h)||(G!==$&&G.push(ie),$.push(te))}return $}function y0(a,c){return c=la(c,a),a=Gb(a,c),a==null||delete a[Ss(Fi(c))]}function vb(a,c,h,v){return $f(a,c,h(Vl(a,c)),v)}function Cg(a,c,h,v){for(var E=a.length,k=v?E:-1;(v?k--:++k<E)&&c(a[k],k,a););return h?Vi(a,v?0:k,v?k+1:E):Vi(a,v?k+1:0,v?E:k)}function yb(a,c){var h=a;return h instanceof ct&&(h=h.value()),es(c,function(v,E){return E.func.apply(E.thisArg,Xi([v],E.args))},h)}function w0(a,c,h){var v=a.length;if(v<2)return v?aa(a[0]):[];for(var E=-1,k=Y(v);++E<v;)for(var V=a[E],$=-1;++$<v;)$!=E&&(k[E]=Vf(k[E]||V,a[$],c,h));return aa(ur(k,1),c,h)}function wb(a,c,h){for(var v=-1,E=a.length,k=c.length,V={};++v<E;){var $=v<k?c[v]:n;h(V,a[v],$)}return V}function E0(a){return xn(a)?a:[]}function T0(a){return typeof a=="function"?a:Hr}function la(a,c){return Ye(a)?a:x0(a,c)?[a]:Qb(Pt(a))}var LB=rt;function ua(a,c,h){var v=a.length;return h=h===n?v:h,!c&&h>=v?a:Vi(a,c,h)}var Eb=T4||function(a){return En.clearTimeout(a)};function Tb(a,c){if(c)return a.slice();var h=a.length,v=jR?jR(h):new a.constructor(h);return a.copy(v),v}function I0(a){var c=new a.constructor(a.byteLength);return new mg(c).set(new mg(a)),c}function MB(a,c){var h=c?I0(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function VB(a){var c=new a.constructor(a.source,El.exec(a));return c.lastIndex=a.lastIndex,c}function FB(a){return Lf?$t(Lf.call(a)):{}}function Ib(a,c){var h=c?I0(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function Sb(a,c){if(a!==c){var h=a!==n,v=a===null,E=a===a,k=ci(a),V=c!==n,$=c===null,G=c===c,ee=ci(c);if(!$&&!ee&&!k&&a>c||k&&V&&G&&!$&&!ee||v&&V&&G||!h&&G||!E)return 1;if(!v&&!k&&!ee&&a<c||ee&&h&&E&&!v&&!k||$&&h&&E||!V&&E||!G)return-1}return 0}function UB(a,c,h){for(var v=-1,E=a.criteria,k=c.criteria,V=E.length,$=h.length;++v<V;){var G=Sb(E[v],k[v]);if(G){if(v>=$)return G;var ee=h[v];return G*(ee=="desc"?-1:1)}}return a.index-c.index}function Ab(a,c,h,v){for(var E=-1,k=a.length,V=h.length,$=-1,G=c.length,ee=Wn(k-V,0),te=Y(G+ee),ie=!v;++$<G;)te[$]=c[$];for(;++E<V;)(ie||E<k)&&(te[h[E]]=a[E]);for(;ee--;)te[$++]=a[E++];return te}function Rb(a,c,h,v){for(var E=-1,k=a.length,V=-1,$=h.length,G=-1,ee=c.length,te=Wn(k-$,0),ie=Y(te+ee),ve=!v;++E<te;)ie[E]=a[E];for(var ke=E;++G<ee;)ie[ke+G]=c[G];for(;++V<$;)(ve||E<k)&&(ie[ke+h[V]]=a[E++]);return ie}function Wr(a,c){var h=-1,v=a.length;for(c||(c=Y(v));++h<v;)c[h]=a[h];return c}function Is(a,c,h,v){var E=!h;h||(h={});for(var k=-1,V=c.length;++k<V;){var $=c[k],G=v?v(h[$],a[$],$,h,a):n;G===n&&(G=a[$]),E?oo(h,$,G):Mf(h,$,G)}return h}function $B(a,c){return Is(a,k0(a),c)}function BB(a,c){return Is(a,Ub(a),c)}function kg(a,c){return function(h,v){var E=Ye(h)?Cl:uB,k=c?c():{};return E(h,a,Fe(v,2),k)}}function gc(a){return rt(function(c,h){var v=-1,E=h.length,k=E>1?h[E-1]:n,V=E>2?h[2]:n;for(k=a.length>3&&typeof k=="function"?(E--,k):n,V&&kr(h[0],h[1],V)&&(k=E<3?n:k,E=1),c=$t(c);++v<E;){var $=h[v];$&&a(c,$,v,k)}return c})}function bb(a,c){return function(h,v){if(h==null)return h;if(!Gr(h))return a(h,v);for(var E=h.length,k=c?E:-1,V=$t(h);(c?k--:++k<E)&&v(V[k],k,V)!==!1;);return h}}function Pb(a){return function(c,h,v){for(var E=-1,k=$t(c),V=v(c),$=V.length;$--;){var G=V[a?$:++E];if(h(k[G],G,k)===!1)break}return c}}function zB(a,c,h){var v=c&D,E=Bf(a);function k(){var V=this&&this!==En&&this instanceof k?E:a;return V.apply(v?h:this,arguments)}return k}function Cb(a){return function(c){c=Pt(c);var h=uc(c)?ts(c):n,v=h?h[0]:c.charAt(0),E=h?ua(h,1).join(""):c.slice(1);return v[a]()+E}}function _c(a){return function(c){return es(bP(RP(c).replace(Qw,"")),a,"")}}function Bf(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=mc(a.prototype),v=a.apply(h,c);return pn(v)?v:h}}function jB(a,c,h){var v=Bf(a);function E(){for(var k=arguments.length,V=Y(k),$=k,G=vc(E);$--;)V[$]=arguments[$];var ee=k<3&&V[0]!==G&&V[k-1]!==G?[]:ia(V,G);if(k-=ee.length,k<h)return Db(a,c,xg,E.placeholder,n,V,ee,n,n,h-k);var te=this&&this!==En&&this instanceof E?v:a;return _r(te,this,V)}return E}function kb(a){return function(c,h,v){var E=$t(c);if(!Gr(c)){var k=Fe(h,3);c=Yn(c),h=function($){return k(E[$],$,E)}}var V=a(c,h,v);return V>-1?E[k?c[V]:V]:n}}function xb(a){return lo(function(c){var h=c.length,v=h,E=Li.prototype.thru;for(a&&c.reverse();v--;){var k=c[v];if(typeof k!="function")throw new Di(o);if(E&&!V&&Lg(k)=="wrapper")var V=new Li([],!0)}for(v=V?v:h;++v<h;){k=c[v];var $=Lg(k),G=$=="wrapper"?P0(k):n;G&&N0(G[0])&&G[1]==(x|b|B|I)&&!G[4].length&&G[9]==1?V=V[Lg(G[0])].apply(V,G[3]):V=k.length==1&&N0(k)?V[$]():V.thru(k)}return function(){var ee=arguments,te=ee[0];if(V&&ee.length==1&&Ye(te))return V.plant(te).value();for(var ie=0,ve=h?c[ie].apply(this,ee):te;++ie<h;)ve=c[ie].call(this,ve);return ve}})}function xg(a,c,h,v,E,k,V,$,G,ee){var te=c&x,ie=c&D,ve=c&T,ke=c&(b|F),Ue=c&O,tt=ve?n:Bf(a);function $e(){for(var ot=arguments.length,mt=Y(ot),di=ot;di--;)mt[di]=arguments[di];if(ke)var xr=vc($e),fi=kf(mt,xr);if(v&&(mt=Ab(mt,v,E,ke)),k&&(mt=Rb(mt,k,V,ke)),ot-=fi,ke&&ot<ee){var Nn=ia(mt,xr);return Db(a,c,xg,$e.placeholder,h,mt,Nn,$,G,ee-ot)}var is=ie?h:this,ho=ve?is[a]:a;return ot=mt.length,$?mt=uz(mt,$):Ue&&ot>1&&mt.reverse(),te&&G<ot&&(mt.length=G),this&&this!==En&&this instanceof $e&&(ho=tt||Bf(ho)),ho.apply(is,mt)}return $e}function Nb(a,c){return function(h,v){return _B(h,a,c(v),{})}}function Ng(a,c){return function(h,v){var E;if(h===n&&v===n)return c;if(h!==n&&(E=h),v!==n){if(E===n)return v;typeof h=="string"||typeof v=="string"?(h=ui(h),v=ui(v)):(h=_b(h),v=_b(v)),E=a(h,v)}return E}}function S0(a){return lo(function(c){return c=Ut(c,bt(Fe())),rt(function(h){var v=this;return a(c,function(E){return _r(E,v,h)})})})}function Og(a,c){c=c===n?" ":ui(c);var h=c.length;if(h<2)return h?_0(c,a):c;var v=_0(c,yg(a/cc(c)));return uc(c)?ua(ts(v),0,a).join(""):v.slice(0,a)}function WB(a,c,h,v){var E=c&D,k=Bf(a);function V(){for(var $=-1,G=arguments.length,ee=-1,te=v.length,ie=Y(te+G),ve=this&&this!==En&&this instanceof V?k:a;++ee<te;)ie[ee]=v[ee];for(;G--;)ie[ee++]=arguments[++$];return _r(ve,E?h:this,ie)}return V}function Ob(a){return function(c,h,v){return v&&typeof v!="number"&&kr(c,h,v)&&(h=v=n),c=fo(c),h===n?(h=c,c=0):h=fo(h),v=v===n?c<h?1:-1:fo(v),CB(c,h,v,a)}}function Dg(a){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=Ui(c),h=Ui(h)),a(c,h)}}function Db(a,c,h,v,E,k,V,$,G,ee){var te=c&b,ie=te?V:n,ve=te?n:V,ke=te?k:n,Ue=te?n:k;c|=te?B:z,c&=~(te?z:B),c&A||(c&=~(D|T));var tt=[a,c,E,ke,ie,Ue,ve,$,G,ee],$e=h.apply(n,tt);return N0(a)&&qb($e,tt),$e.placeholder=v,Hb($e,a,c)}function A0(a){var c=jn[a];return function(h,v){if(h=Ui(h),v=v==null?0:yr(Xe(v),292),v&&HR(h)){var E=(Pt(h)+"e").split("e"),k=c(E[0]+"e"+(+E[1]+v));return E=(Pt(k)+"e").split("e"),+(E[0]+"e"+(+E[1]-v))}return c(h)}}var GB=hc&&1/ug(new hc([,-0]))[1]==wt?function(a){return new hc(a)}:H0;function Lb(a){return function(c){var h=wr(c);return h==Ft?t0(c):h==ar?l4(c):zn(c,a(c))}}function ao(a,c,h,v,E,k,V,$){var G=c&T;if(!G&&typeof a!="function")throw new Di(o);var ee=v?v.length:0;if(ee||(c&=~(B|z),v=E=n),V=V===n?V:Wn(Xe(V),0),$=$===n?$:Xe($),ee-=E?E.length:0,c&z){var te=v,ie=E;v=E=n}var ve=G?n:P0(a),ke=[a,c,h,v,E,te,ie,k,V,$];if(ve&&oz(ke,ve),a=ke[0],c=ke[1],h=ke[2],v=ke[3],E=ke[4],$=ke[9]=ke[9]===n?G?0:a.length:Wn(ke[9]-ee,0),!$&&c&(b|F)&&(c&=~(b|F)),!c||c==D)var Ue=zB(a,c,h);else c==b||c==F?Ue=jB(a,c,$):(c==B||c==(D|B))&&!E.length?Ue=WB(a,c,h,v):Ue=xg.apply(n,ke);var tt=ve?mb:qb;return Hb(tt(Ue,ke),a,c)}function Mb(a,c,h,v){return a===n||rs(a,fc[h])&&!xt.call(v,h)?c:a}function Vb(a,c,h,v,E,k){return pn(a)&&pn(c)&&(k.set(c,a),bg(a,c,n,Vb,k),k.delete(c)),a}function qB(a){return Wf(a)?n:a}function Fb(a,c,h,v,E,k){var V=h&S,$=a.length,G=c.length;if($!=G&&!(V&&G>$))return!1;var ee=k.get(a),te=k.get(c);if(ee&&te)return ee==c&&te==a;var ie=-1,ve=!0,ke=h&R?new Ll:n;for(k.set(a,c),k.set(c,a);++ie<$;){var Ue=a[ie],tt=c[ie];if(v)var $e=V?v(tt,Ue,ie,c,a,k):v(Ue,tt,ie,a,c,k);if($e!==n){if($e)continue;ve=!1;break}if(ke){if(!ac(c,function(ot,mt){if(!Oi(ke,mt)&&(Ue===ot||E(Ue,ot,h,v,k)))return ke.push(mt)})){ve=!1;break}}else if(!(Ue===tt||E(Ue,tt,h,v,k))){ve=!1;break}}return k.delete(a),k.delete(c),ve}function HB(a,c,h,v,E,k,V){switch(h){case ai:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case hn:return!(a.byteLength!=c.byteLength||!k(new mg(a),new mg(c)));case Ge:case Ce:case sr:return rs(+a,+c);case Ct:return a.name==c.name&&a.message==c.message;case oi:case _s:return a==c+"";case Ft:var $=t0;case ar:var G=v&S;if($||($=ug),a.size!=c.size&&!G)return!1;var ee=V.get(a);if(ee)return ee==c;v|=R,V.set(a,c);var te=Fb($(a),$(c),v,E,k,V);return V.delete(a),te;case vs:if(Lf)return Lf.call(a)==Lf.call(c)}return!1}function KB(a,c,h,v,E,k){var V=h&S,$=R0(a),G=$.length,ee=R0(c),te=ee.length;if(G!=te&&!V)return!1;for(var ie=G;ie--;){var ve=$[ie];if(!(V?ve in c:xt.call(c,ve)))return!1}var ke=k.get(a),Ue=k.get(c);if(ke&&Ue)return ke==c&&Ue==a;var tt=!0;k.set(a,c),k.set(c,a);for(var $e=V;++ie<G;){ve=$[ie];var ot=a[ve],mt=c[ve];if(v)var di=V?v(mt,ot,ve,c,a,k):v(ot,mt,ve,a,c,k);if(!(di===n?ot===mt||E(ot,mt,h,v,k):di)){tt=!1;break}$e||($e=ve=="constructor")}if(tt&&!$e){var xr=a.constructor,fi=c.constructor;xr!=fi&&"constructor"in a&&"constructor"in c&&!(typeof xr=="function"&&xr instanceof xr&&typeof fi=="function"&&fi instanceof fi)&&(tt=!1)}return k.delete(a),k.delete(c),tt}function lo(a){return D0(Wb(a,n,Xb),a+"")}function R0(a){return ib(a,Yn,k0)}function b0(a){return ib(a,qr,Ub)}var P0=Eg?function(a){return Eg.get(a)}:H0;function Lg(a){for(var c=a.name+"",h=pc[c],v=xt.call(pc,c)?h.length:0;v--;){var E=h[v],k=E.func;if(k==null||k==a)return E.name}return c}function vc(a){var c=xt.call(P,"placeholder")?P:a;return c.placeholder}function Fe(){var a=P.iteratee||G0;return a=a===G0?ab:a,arguments.length?a(arguments[0],arguments[1]):a}function Mg(a,c){var h=a.__data__;return nz(c)?h[typeof c=="string"?"string":"hash"]:h.map}function C0(a){for(var c=Yn(a),h=c.length;h--;){var v=c[h],E=a[v];c[h]=[v,E,zb(E)]}return c}function Fl(a,c){var h=s4(a,c);return ob(h)?h:n}function QB(a){var c=xt.call(a,Ol),h=a[Ol];try{a[Ol]=n;var v=!0}catch{}var E=hg.call(a);return v&&(c?a[Ol]=h:delete a[Ol]),E}var k0=r0?function(a){return a==null?[]:(a=$t(a),Ni(r0(a),function(c){return GR.call(a,c)}))}:K0,Ub=r0?function(a){for(var c=[];a;)Xi(c,k0(a)),a=gg(a);return c}:K0,wr=Cr;(i0&&wr(new i0(new ArrayBuffer(1)))!=ai||Nf&&wr(new Nf)!=Ft||s0&&wr(s0.resolve())!=yl||hc&&wr(new hc)!=ar||Of&&wr(new Of)!=bi)&&(wr=function(a){var c=Cr(a),h=c==Ht?a.constructor:n,v=h?Ul(h):"";if(v)switch(v){case x4:return ai;case N4:return Ft;case O4:return yl;case D4:return ar;case L4:return bi}return c});function YB(a,c,h){for(var v=-1,E=h.length;++v<E;){var k=h[v],V=k.size;switch(k.type){case"drop":a+=V;break;case"dropRight":c-=V;break;case"take":c=yr(c,a+V);break;case"takeRight":a=Wn(a,c-V);break}}return{start:a,end:c}}function ZB(a){var c=a.match(Zo);return c?c[1].split(jw):[]}function $b(a,c,h){c=la(c,a);for(var v=-1,E=c.length,k=!1;++v<E;){var V=Ss(c[v]);if(!(k=a!=null&&h(a,V)))break;a=a[V]}return k||++v!=E?k:(E=a==null?0:a.length,!!E&&jg(E)&&uo(V,E)&&(Ye(a)||$l(a)))}function JB(a){var c=a.length,h=new a.constructor(c);return c&&typeof a[0]=="string"&&xt.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function Bb(a){return typeof a.constructor=="function"&&!zf(a)?mc(gg(a)):{}}function XB(a,c,h){var v=a.constructor;switch(c){case hn:return I0(a);case Ge:case Ce:return new v(+a);case ai:return MB(a,h);case Ho:case Ko:case wl:case Pi:case Qo:case Yo:case K:case W:case oe:return Ib(a,h);case Ft:return new v;case sr:case _s:return new v(a);case oi:return VB(a);case ar:return new v;case vs:return FB(a)}}function ez(a,c){var h=c.length;if(!h)return a;var v=h-1;return c[v]=(h>1?"& ":"")+c[v],c=c.join(h>2?", ":" "),a.replace(zw,`{
/* [wrapped with `+c+`] */
`)}function tz(a){return Ye(a)||$l(a)||!!(qR&&a&&a[qR])}function uo(a,c){var h=typeof a;return c=c??ce,!!c&&(h=="number"||h!="symbol"&&mf.test(a))&&a>-1&&a%1==0&&a<c}function kr(a,c,h){if(!pn(h))return!1;var v=typeof c;return(v=="number"?Gr(h)&&uo(c,h.length):v=="string"&&c in h)?rs(h[c],a):!1}function x0(a,c){if(Ye(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||ci(a)?!0:gr.test(a)||!Vn.test(a)||c!=null&&a in $t(c)}function nz(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function N0(a){var c=Lg(a),h=P[c];if(typeof h!="function"||!(c in ct.prototype))return!1;if(a===h)return!0;var v=P0(h);return!!v&&a===v[0]}function rz(a){return!!zR&&zR in a}var iz=dg?co:Q0;function zf(a){var c=a&&a.constructor,h=typeof c=="function"&&c.prototype||fc;return a===h}function zb(a){return a===a&&!pn(a)}function jb(a,c){return function(h){return h==null?!1:h[a]===c&&(c!==n||a in $t(h))}}function sz(a){var c=Bg(a,function(v){return h.size===d&&h.clear(),v}),h=c.cache;return c}function oz(a,c){var h=a[1],v=c[1],E=h|v,k=E<(D|T|x),V=v==x&&h==b||v==x&&h==I&&a[7].length<=c[8]||v==(x|I)&&c[7].length<=c[8]&&h==b;if(!(k||V))return a;v&D&&(a[2]=c[2],E|=h&D?0:A);var $=c[3];if($){var G=a[3];a[3]=G?Ab(G,$,c[4]):$,a[4]=G?ia(a[3],p):c[4]}return $=c[5],$&&(G=a[5],a[5]=G?Rb(G,$,c[6]):$,a[6]=G?ia(a[5],p):c[6]),$=c[7],$&&(a[7]=$),v&x&&(a[8]=a[8]==null?c[8]:yr(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=E,a}function az(a){var c=[];if(a!=null)for(var h in $t(a))c.push(h);return c}function lz(a){return hg.call(a)}function Wb(a,c,h){return c=Wn(c===n?a.length-1:c,0),function(){for(var v=arguments,E=-1,k=Wn(v.length-c,0),V=Y(k);++E<k;)V[E]=v[c+E];E=-1;for(var $=Y(c+1);++E<c;)$[E]=v[E];return $[c]=h(V),_r(a,this,$)}}function Gb(a,c){return c.length<2?a:Vl(a,Vi(c,0,-1))}function uz(a,c){for(var h=a.length,v=yr(c.length,h),E=Wr(a);v--;){var k=c[v];a[v]=uo(k,h)?E[k]:n}return a}function O0(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var qb=Kb(mb),jf=S4||function(a,c){return En.setTimeout(a,c)},D0=Kb(NB);function Hb(a,c,h){var v=c+"";return D0(a,ez(v,cz(ZB(v),h)))}function Kb(a){var c=0,h=0;return function(){var v=P4(),E=N-(v-h);if(h=v,E>0){if(++c>=U)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Vg(a,c){var h=-1,v=a.length,E=v-1;for(c=c===n?v:c;++h<c;){var k=g0(h,E),V=a[k];a[k]=a[h],a[h]=V}return a.length=c,a}var Qb=sz(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(nn,function(h,v,E,k){c.push(E?k.replace(Vm,"$1"):v||h)}),c});function Ss(a){if(typeof a=="string"||ci(a))return a;var c=a+"";return c=="0"&&1/a==-wt?"-0":c}function Ul(a){if(a!=null){try{return fg.call(a)}catch{}try{return a+""}catch{}}return""}function cz(a,c){return Pr(de,function(h){var v="_."+h[0];c&h[1]&&!kl(a,v)&&a.push(v)}),a.sort()}function Yb(a){if(a instanceof ct)return a.clone();var c=new Li(a.__wrapped__,a.__chain__);return c.__actions__=Wr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function dz(a,c,h){(h?kr(a,c,h):c===n)?c=1:c=Wn(Xe(c),0);var v=a==null?0:a.length;if(!v||c<1)return[];for(var E=0,k=0,V=Y(yg(v/c));E<v;)V[k++]=Vi(a,E,E+=c);return V}function fz(a){for(var c=-1,h=a==null?0:a.length,v=0,E=[];++c<h;){var k=a[c];k&&(E[v++]=k)}return E}function hz(){var a=arguments.length;if(!a)return[];for(var c=Y(a-1),h=arguments[0],v=a;v--;)c[v-1]=arguments[v];return Xi(Ye(h)?Wr(h):[h],ur(c,1))}var pz=rt(function(a,c){return xn(a)?Vf(a,ur(c,1,xn,!0)):[]}),mz=rt(function(a,c){var h=Fi(c);return xn(h)&&(h=n),xn(a)?Vf(a,ur(c,1,xn,!0),Fe(h,2)):[]}),gz=rt(function(a,c){var h=Fi(c);return xn(h)&&(h=n),xn(a)?Vf(a,ur(c,1,xn,!0),n,h):[]});function _z(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Xe(c),Vi(a,c<0?0:c,v)):[]}function vz(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Xe(c),c=v-c,Vi(a,0,c<0?0:c)):[]}function yz(a,c){return a&&a.length?Cg(a,Fe(c,3),!0,!0):[]}function wz(a,c){return a&&a.length?Cg(a,Fe(c,3),!0):[]}function Ez(a,c,h,v){var E=a==null?0:a.length;return E?(h&&typeof h!="number"&&kr(a,c,h)&&(h=0,v=E),hB(a,c,h,v)):[]}function Zb(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var E=h==null?0:Xe(h);return E<0&&(E=Wn(v+E,0)),xl(a,Fe(c,3),E)}function Jb(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var E=v-1;return h!==n&&(E=Xe(h),E=h<0?Wn(v+E,0):yr(E,v-1)),xl(a,Fe(c,3),E,!0)}function Xb(a){var c=a==null?0:a.length;return c?ur(a,1):[]}function Tz(a){var c=a==null?0:a.length;return c?ur(a,wt):[]}function Iz(a,c){var h=a==null?0:a.length;return h?(c=c===n?1:Xe(c),ur(a,c)):[]}function Sz(a){for(var c=-1,h=a==null?0:a.length,v={};++c<h;){var E=a[c];v[E[0]]=E[1]}return v}function eP(a){return a&&a.length?a[0]:n}function Az(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var E=h==null?0:Xe(h);return E<0&&(E=Wn(v+E,0)),ro(a,c,E)}function Rz(a){var c=a==null?0:a.length;return c?Vi(a,0,-1):[]}var bz=rt(function(a){var c=Ut(a,E0);return c.length&&c[0]===a[0]?d0(c):[]}),Pz=rt(function(a){var c=Fi(a),h=Ut(a,E0);return c===Fi(h)?c=n:h.pop(),h.length&&h[0]===a[0]?d0(h,Fe(c,2)):[]}),Cz=rt(function(a){var c=Fi(a),h=Ut(a,E0);return c=typeof c=="function"?c:n,c&&h.pop(),h.length&&h[0]===a[0]?d0(h,n,c):[]});function kz(a,c){return a==null?"":R4.call(a,c)}function Fi(a){var c=a==null?0:a.length;return c?a[c-1]:n}function xz(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var E=v;return h!==n&&(E=Xe(h),E=E<0?Wn(v+E,0):yr(E,v-1)),c===c?c4(a,c,E):xl(a,f,E,!0)}function Nz(a,c){return a&&a.length?db(a,Xe(c)):n}var Oz=rt(tP);function tP(a,c){return a&&a.length&&c&&c.length?m0(a,c):a}function Dz(a,c,h){return a&&a.length&&c&&c.length?m0(a,c,Fe(h,2)):a}function Lz(a,c,h){return a&&a.length&&c&&c.length?m0(a,c,n,h):a}var Mz=lo(function(a,c){var h=a==null?0:a.length,v=a0(a,c);return pb(a,Ut(c,function(E){return uo(E,h)?+E:E}).sort(Sb)),v});function Vz(a,c){var h=[];if(!(a&&a.length))return h;var v=-1,E=[],k=a.length;for(c=Fe(c,3);++v<k;){var V=a[v];c(V,v,a)&&(h.push(V),E.push(v))}return pb(a,E),h}function L0(a){return a==null?a:k4.call(a)}function Fz(a,c,h){var v=a==null?0:a.length;return v?(h&&typeof h!="number"&&kr(a,c,h)?(c=0,h=v):(c=c==null?0:Xe(c),h=h===n?v:Xe(h)),Vi(a,c,h)):[]}function Uz(a,c){return Pg(a,c)}function $z(a,c,h){return v0(a,c,Fe(h,2))}function Bz(a,c){var h=a==null?0:a.length;if(h){var v=Pg(a,c);if(v<h&&rs(a[v],c))return v}return-1}function zz(a,c){return Pg(a,c,!0)}function jz(a,c,h){return v0(a,c,Fe(h,2),!0)}function Wz(a,c){var h=a==null?0:a.length;if(h){var v=Pg(a,c,!0)-1;if(rs(a[v],c))return v}return-1}function Gz(a){return a&&a.length?gb(a):[]}function qz(a,c){return a&&a.length?gb(a,Fe(c,2)):[]}function Hz(a){var c=a==null?0:a.length;return c?Vi(a,1,c):[]}function Kz(a,c,h){return a&&a.length?(c=h||c===n?1:Xe(c),Vi(a,0,c<0?0:c)):[]}function Qz(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Xe(c),c=v-c,Vi(a,c<0?0:c,v)):[]}function Yz(a,c){return a&&a.length?Cg(a,Fe(c,3),!1,!0):[]}function Zz(a,c){return a&&a.length?Cg(a,Fe(c,3)):[]}var Jz=rt(function(a){return aa(ur(a,1,xn,!0))}),Xz=rt(function(a){var c=Fi(a);return xn(c)&&(c=n),aa(ur(a,1,xn,!0),Fe(c,2))}),e3=rt(function(a){var c=Fi(a);return c=typeof c=="function"?c:n,aa(ur(a,1,xn,!0),n,c)});function t3(a){return a&&a.length?aa(a):[]}function n3(a,c){return a&&a.length?aa(a,Fe(c,2)):[]}function r3(a,c){return c=typeof c=="function"?c:n,a&&a.length?aa(a,n,c):[]}function M0(a){if(!(a&&a.length))return[];var c=0;return a=Ni(a,function(h){if(xn(h))return c=Wn(h.length,c),!0}),It(c,function(h){return Ut(a,w(h))})}function nP(a,c){if(!(a&&a.length))return[];var h=M0(a);return c==null?h:Ut(h,function(v){return _r(c,n,v)})}var i3=rt(function(a,c){return xn(a)?Vf(a,c):[]}),s3=rt(function(a){return w0(Ni(a,xn))}),o3=rt(function(a){var c=Fi(a);return xn(c)&&(c=n),w0(Ni(a,xn),Fe(c,2))}),a3=rt(function(a){var c=Fi(a);return c=typeof c=="function"?c:n,w0(Ni(a,xn),n,c)}),l3=rt(M0);function u3(a,c){return wb(a||[],c||[],Mf)}function c3(a,c){return wb(a||[],c||[],$f)}var d3=rt(function(a){var c=a.length,h=c>1?a[c-1]:n;return h=typeof h=="function"?(a.pop(),h):n,nP(a,h)});function rP(a){var c=P(a);return c.__chain__=!0,c}function f3(a,c){return c(a),a}function Fg(a,c){return c(a)}var h3=lo(function(a){var c=a.length,h=c?a[0]:0,v=this.__wrapped__,E=function(k){return a0(k,a)};return c>1||this.__actions__.length||!(v instanceof ct)||!uo(h)?this.thru(E):(v=v.slice(h,+h+(c?1:0)),v.__actions__.push({func:Fg,args:[E],thisArg:n}),new Li(v,this.__chain__).thru(function(k){return c&&!k.length&&k.push(n),k}))});function p3(){return rP(this)}function m3(){return new Li(this.value(),this.__chain__)}function g3(){this.__values__===n&&(this.__values__=_P(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function _3(){return this}function v3(a){for(var c,h=this;h instanceof Ig;){var v=Yb(h);v.__index__=0,v.__values__=n,c?E.__wrapped__=v:c=v;var E=v;h=h.__wrapped__}return E.__wrapped__=a,c}function y3(){var a=this.__wrapped__;if(a instanceof ct){var c=a;return this.__actions__.length&&(c=new ct(this)),c=c.reverse(),c.__actions__.push({func:Fg,args:[L0],thisArg:n}),new Li(c,this.__chain__)}return this.thru(L0)}function w3(){return yb(this.__wrapped__,this.__actions__)}var E3=kg(function(a,c,h){xt.call(a,h)?++a[h]:oo(a,h,1)});function T3(a,c,h){var v=Ye(a)?oc:fB;return h&&kr(a,c,h)&&(c=n),v(a,Fe(c,3))}function I3(a,c){var h=Ye(a)?Ni:nb;return h(a,Fe(c,3))}var S3=kb(Zb),A3=kb(Jb);function R3(a,c){return ur(Ug(a,c),1)}function b3(a,c){return ur(Ug(a,c),wt)}function P3(a,c,h){return h=h===n?1:Xe(h),ur(Ug(a,c),h)}function iP(a,c){var h=Ye(a)?Pr:oa;return h(a,Fe(c,3))}function sP(a,c){var h=Ye(a)?sg:tb;return h(a,Fe(c,3))}var C3=kg(function(a,c,h){xt.call(a,h)?a[h].push(c):oo(a,h,[c])});function k3(a,c,h,v){a=Gr(a)?a:wc(a),h=h&&!v?Xe(h):0;var E=a.length;return h<0&&(h=Wn(E+h,0)),Wg(a)?h<=E&&a.indexOf(c,h)>-1:!!E&&ro(a,c,h)>-1}var x3=rt(function(a,c,h){var v=-1,E=typeof c=="function",k=Gr(a)?Y(a.length):[];return oa(a,function(V){k[++v]=E?_r(c,V,h):Ff(V,c,h)}),k}),N3=kg(function(a,c,h){oo(a,h,c)});function Ug(a,c){var h=Ye(a)?Ut:lb;return h(a,Fe(c,3))}function O3(a,c,h,v){return a==null?[]:(Ye(c)||(c=c==null?[]:[c]),h=v?n:h,Ye(h)||(h=h==null?[]:[h]),fb(a,c,h))}var D3=kg(function(a,c,h){a[h?0:1].push(c)},function(){return[[],[]]});function L3(a,c,h){var v=Ye(a)?es:H,E=arguments.length<3;return v(a,Fe(c,4),h,E,oa)}function M3(a,c,h){var v=Ye(a)?og:H,E=arguments.length<3;return v(a,Fe(c,4),h,E,tb)}function V3(a,c){var h=Ye(a)?Ni:nb;return h(a,zg(Fe(c,3)))}function F3(a){var c=Ye(a)?ZR:kB;return c(a)}function U3(a,c,h){(h?kr(a,c,h):c===n)?c=1:c=Xe(c);var v=Ye(a)?aB:xB;return v(a,c)}function $3(a){var c=Ye(a)?lB:OB;return c(a)}function B3(a){if(a==null)return 0;if(Gr(a))return Wg(a)?cc(a):a.length;var c=wr(a);return c==Ft||c==ar?a.size:h0(a).length}function z3(a,c,h){var v=Ye(a)?ac:DB;return h&&kr(a,c,h)&&(c=n),v(a,Fe(c,3))}var j3=rt(function(a,c){if(a==null)return[];var h=c.length;return h>1&&kr(a,c[0],c[1])?c=[]:h>2&&kr(c[0],c[1],c[2])&&(c=[c[0]]),fb(a,ur(c,1),[])}),$g=I4||function(){return En.Date.now()};function W3(a,c){if(typeof c!="function")throw new Di(o);return a=Xe(a),function(){if(--a<1)return c.apply(this,arguments)}}function oP(a,c,h){return c=h?n:c,c=a&&c==null?a.length:c,ao(a,x,n,n,n,n,c)}function aP(a,c){var h;if(typeof c!="function")throw new Di(o);return a=Xe(a),function(){return--a>0&&(h=c.apply(this,arguments)),a<=1&&(c=n),h}}var V0=rt(function(a,c,h){var v=D;if(h.length){var E=ia(h,vc(V0));v|=B}return ao(a,v,c,h,E)}),lP=rt(function(a,c,h){var v=D|T;if(h.length){var E=ia(h,vc(lP));v|=B}return ao(c,v,a,h,E)});function uP(a,c,h){c=h?n:c;var v=ao(a,b,n,n,n,n,n,c);return v.placeholder=uP.placeholder,v}function cP(a,c,h){c=h?n:c;var v=ao(a,F,n,n,n,n,n,c);return v.placeholder=cP.placeholder,v}function dP(a,c,h){var v,E,k,V,$,G,ee=0,te=!1,ie=!1,ve=!0;if(typeof a!="function")throw new Di(o);c=Ui(c)||0,pn(h)&&(te=!!h.leading,ie="maxWait"in h,k=ie?Wn(Ui(h.maxWait)||0,c):k,ve="trailing"in h?!!h.trailing:ve);function ke(Nn){var is=v,ho=E;return v=E=n,ee=Nn,V=a.apply(ho,is),V}function Ue(Nn){return ee=Nn,$=jf(ot,c),te?ke(Nn):V}function tt(Nn){var is=Nn-G,ho=Nn-ee,kP=c-is;return ie?yr(kP,k-ho):kP}function $e(Nn){var is=Nn-G,ho=Nn-ee;return G===n||is>=c||is<0||ie&&ho>=k}function ot(){var Nn=$g();if($e(Nn))return mt(Nn);$=jf(ot,tt(Nn))}function mt(Nn){return $=n,ve&&v?ke(Nn):(v=E=n,V)}function di(){$!==n&&Eb($),ee=0,v=G=E=$=n}function xr(){return $===n?V:mt($g())}function fi(){var Nn=$g(),is=$e(Nn);if(v=arguments,E=this,G=Nn,is){if($===n)return Ue(G);if(ie)return Eb($),$=jf(ot,c),ke(G)}return $===n&&($=jf(ot,c)),V}return fi.cancel=di,fi.flush=xr,fi}var G3=rt(function(a,c){return eb(a,1,c)}),q3=rt(function(a,c,h){return eb(a,Ui(c)||0,h)});function H3(a){return ao(a,O)}function Bg(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Di(o);var h=function(){var v=arguments,E=c?c.apply(this,v):v[0],k=h.cache;if(k.has(E))return k.get(E);var V=a.apply(this,v);return h.cache=k.set(E,V)||k,V};return h.cache=new(Bg.Cache||so),h}Bg.Cache=so;function zg(a){if(typeof a!="function")throw new Di(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function K3(a){return aP(2,a)}var Q3=LB(function(a,c){c=c.length==1&&Ye(c[0])?Ut(c[0],bt(Fe())):Ut(ur(c,1),bt(Fe()));var h=c.length;return rt(function(v){for(var E=-1,k=yr(v.length,h);++E<k;)v[E]=c[E].call(this,v[E]);return _r(a,this,v)})}),F0=rt(function(a,c){var h=ia(c,vc(F0));return ao(a,B,n,c,h)}),fP=rt(function(a,c){var h=ia(c,vc(fP));return ao(a,z,n,c,h)}),Y3=lo(function(a,c){return ao(a,I,n,n,n,c)});function Z3(a,c){if(typeof a!="function")throw new Di(o);return c=c===n?c:Xe(c),rt(a,c)}function J3(a,c){if(typeof a!="function")throw new Di(o);return c=c==null?0:Wn(Xe(c),0),rt(function(h){var v=h[c],E=ua(h,0,c);return v&&Xi(E,v),_r(a,this,E)})}function X3(a,c,h){var v=!0,E=!0;if(typeof a!="function")throw new Di(o);return pn(h)&&(v="leading"in h?!!h.leading:v,E="trailing"in h?!!h.trailing:E),dP(a,c,{leading:v,maxWait:c,trailing:E})}function e5(a){return oP(a,1)}function t5(a,c){return F0(T0(c),a)}function n5(){if(!arguments.length)return[];var a=arguments[0];return Ye(a)?a:[a]}function r5(a){return Mi(a,y)}function i5(a,c){return c=typeof c=="function"?c:n,Mi(a,y,c)}function s5(a){return Mi(a,m|y)}function o5(a,c){return c=typeof c=="function"?c:n,Mi(a,m|y,c)}function a5(a,c){return c==null||XR(a,c,Yn(c))}function rs(a,c){return a===c||a!==a&&c!==c}var l5=Dg(c0),u5=Dg(function(a,c){return a>=c}),$l=sb(function(){return arguments}())?sb:function(a){return Tn(a)&&xt.call(a,"callee")&&!GR.call(a,"callee")},Ye=Y.isArray,c5=Pf?bt(Pf):vB;function Gr(a){return a!=null&&jg(a.length)&&!co(a)}function xn(a){return Tn(a)&&Gr(a)}function d5(a){return a===!0||a===!1||Tn(a)&&Cr(a)==Ge}var ca=A4||Q0,f5=sc?bt(sc):yB;function h5(a){return Tn(a)&&a.nodeType===1&&!Wf(a)}function p5(a){if(a==null)return!0;if(Gr(a)&&(Ye(a)||typeof a=="string"||typeof a.splice=="function"||ca(a)||yc(a)||$l(a)))return!a.length;var c=wr(a);if(c==Ft||c==ar)return!a.size;if(zf(a))return!h0(a).length;for(var h in a)if(xt.call(a,h))return!1;return!0}function m5(a,c){return Uf(a,c)}function g5(a,c,h){h=typeof h=="function"?h:n;var v=h?h(a,c):n;return v===n?Uf(a,c,n,h):!!v}function U0(a){if(!Tn(a))return!1;var c=Cr(a);return c==Ct||c==Et||typeof a.message=="string"&&typeof a.name=="string"&&!Wf(a)}function _5(a){return typeof a=="number"&&HR(a)}function co(a){if(!pn(a))return!1;var c=Cr(a);return c==st||c==Rt||c==Be||c==Xu}function hP(a){return typeof a=="number"&&a==Xe(a)}function jg(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ce}function pn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Tn(a){return a!=null&&typeof a=="object"}var pP=bl?bt(bl):EB;function v5(a,c){return a===c||f0(a,c,C0(c))}function y5(a,c,h){return h=typeof h=="function"?h:n,f0(a,c,C0(c),h)}function w5(a){return mP(a)&&a!=+a}function E5(a){if(iz(a))throw new He(s);return ob(a)}function T5(a){return a===null}function I5(a){return a==null}function mP(a){return typeof a=="number"||Tn(a)&&Cr(a)==sr}function Wf(a){if(!Tn(a)||Cr(a)!=Ht)return!1;var c=gg(a);if(c===null)return!0;var h=xt.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&fg.call(h)==y4}var $0=Cf?bt(Cf):TB;function S5(a){return hP(a)&&a>=-ce&&a<=ce}var gP=Pl?bt(Pl):IB;function Wg(a){return typeof a=="string"||!Ye(a)&&Tn(a)&&Cr(a)==_s}function ci(a){return typeof a=="symbol"||Tn(a)&&Cr(a)==vs}var yc=ig?bt(ig):SB;function A5(a){return a===n}function R5(a){return Tn(a)&&wr(a)==bi}function b5(a){return Tn(a)&&Cr(a)==Mn}var P5=Dg(p0),C5=Dg(function(a,c){return a<=c});function _P(a){if(!a)return[];if(Gr(a))return Wg(a)?ts(a):Wr(a);if(xf&&a[xf])return a4(a[xf]());var c=wr(a),h=c==Ft?t0:c==ar?ug:wc;return h(a)}function fo(a){if(!a)return a===0?a:0;if(a=Ui(a),a===wt||a===-wt){var c=a<0?-1:1;return c*we}return a===a?a:0}function Xe(a){var c=fo(a),h=c%1;return c===c?h?c-h:c:0}function vP(a){return a?Ml(Xe(a),0,Ie):0}function Ui(a){if(typeof a=="number")return a;if(ci(a))return ue;if(pn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=pn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=pt(a);var h=Fm.test(a);return h||pf.test(a)?ng(a.slice(2),h?2:8):ys.test(a)?ue:+a}function yP(a){return Is(a,qr(a))}function k5(a){return a?Ml(Xe(a),-ce,ce):a===0?a:0}function Pt(a){return a==null?"":ui(a)}var x5=gc(function(a,c){if(zf(c)||Gr(c)){Is(c,Yn(c),a);return}for(var h in c)xt.call(c,h)&&Mf(a,h,c[h])}),wP=gc(function(a,c){Is(c,qr(c),a)}),Gg=gc(function(a,c,h,v){Is(c,qr(c),a,v)}),N5=gc(function(a,c,h,v){Is(c,Yn(c),a,v)}),O5=lo(a0);function D5(a,c){var h=mc(a);return c==null?h:JR(h,c)}var L5=rt(function(a,c){a=$t(a);var h=-1,v=c.length,E=v>2?c[2]:n;for(E&&kr(c[0],c[1],E)&&(v=1);++h<v;)for(var k=c[h],V=qr(k),$=-1,G=V.length;++$<G;){var ee=V[$],te=a[ee];(te===n||rs(te,fc[ee])&&!xt.call(a,ee))&&(a[ee]=k[ee])}return a}),M5=rt(function(a){return a.push(n,Vb),_r(EP,n,a)});function V5(a,c){return vr(a,Fe(c,3),Ts)}function F5(a,c){return vr(a,Fe(c,3),u0)}function U5(a,c){return a==null?a:l0(a,Fe(c,3),qr)}function $5(a,c){return a==null?a:rb(a,Fe(c,3),qr)}function B5(a,c){return a&&Ts(a,Fe(c,3))}function z5(a,c){return a&&u0(a,Fe(c,3))}function j5(a){return a==null?[]:Rg(a,Yn(a))}function W5(a){return a==null?[]:Rg(a,qr(a))}function B0(a,c,h){var v=a==null?n:Vl(a,c);return v===n?h:v}function G5(a,c){return a!=null&&$b(a,c,pB)}function z0(a,c){return a!=null&&$b(a,c,mB)}var q5=Nb(function(a,c,h){c!=null&&typeof c.toString!="function"&&(c=hg.call(c)),a[c]=h},W0(Hr)),H5=Nb(function(a,c,h){c!=null&&typeof c.toString!="function"&&(c=hg.call(c)),xt.call(a,c)?a[c].push(h):a[c]=[h]},Fe),K5=rt(Ff);function Yn(a){return Gr(a)?YR(a):h0(a)}function qr(a){return Gr(a)?YR(a,!0):AB(a)}function Q5(a,c){var h={};return c=Fe(c,3),Ts(a,function(v,E,k){oo(h,c(v,E,k),v)}),h}function Y5(a,c){var h={};return c=Fe(c,3),Ts(a,function(v,E,k){oo(h,E,c(v,E,k))}),h}var Z5=gc(function(a,c,h){bg(a,c,h)}),EP=gc(function(a,c,h,v){bg(a,c,h,v)}),J5=lo(function(a,c){var h={};if(a==null)return h;var v=!1;c=Ut(c,function(k){return k=la(k,a),v||(v=k.length>1),k}),Is(a,b0(a),h),v&&(h=Mi(h,m|_|y,qB));for(var E=c.length;E--;)y0(h,c[E]);return h});function X5(a,c){return TP(a,zg(Fe(c)))}var e6=lo(function(a,c){return a==null?{}:bB(a,c)});function TP(a,c){if(a==null)return{};var h=Ut(b0(a),function(v){return[v]});return c=Fe(c),hb(a,h,function(v,E){return c(v,E[0])})}function t6(a,c,h){c=la(c,a);var v=-1,E=c.length;for(E||(E=1,a=n);++v<E;){var k=a==null?n:a[Ss(c[v])];k===n&&(v=E,k=h),a=co(k)?k.call(a):k}return a}function n6(a,c,h){return a==null?a:$f(a,c,h)}function r6(a,c,h,v){return v=typeof v=="function"?v:n,a==null?a:$f(a,c,h,v)}var IP=Lb(Yn),SP=Lb(qr);function i6(a,c,h){var v=Ye(a),E=v||ca(a)||yc(a);if(c=Fe(c,4),h==null){var k=a&&a.constructor;E?h=v?new k:[]:pn(a)?h=co(k)?mc(gg(a)):{}:h={}}return(E?Pr:Ts)(a,function(V,$,G){return c(h,V,$,G)}),h}function s6(a,c){return a==null?!0:y0(a,c)}function o6(a,c,h){return a==null?a:vb(a,c,T0(h))}function a6(a,c,h,v){return v=typeof v=="function"?v:n,a==null?a:vb(a,c,T0(h),v)}function wc(a){return a==null?[]:Fn(a,Yn(a))}function l6(a){return a==null?[]:Fn(a,qr(a))}function u6(a,c,h){return h===n&&(h=c,c=n),h!==n&&(h=Ui(h),h=h===h?h:0),c!==n&&(c=Ui(c),c=c===c?c:0),Ml(Ui(a),c,h)}function c6(a,c,h){return c=fo(c),h===n?(h=c,c=0):h=fo(h),a=Ui(a),gB(a,c,h)}function d6(a,c,h){if(h&&typeof h!="boolean"&&kr(a,c,h)&&(c=h=n),h===n&&(typeof c=="boolean"?(h=c,c=n):typeof a=="boolean"&&(h=a,a=n)),a===n&&c===n?(a=0,c=1):(a=fo(a),c===n?(c=a,a=0):c=fo(c)),a>c){var v=a;a=c,c=v}if(h||a%1||c%1){var E=KR();return yr(a+E*(c-a+e0("1e-"+((E+"").length-1))),c)}return g0(a,c)}var f6=_c(function(a,c,h){return c=c.toLowerCase(),a+(h?AP(c):c)});function AP(a){return j0(Pt(a).toLowerCase())}function RP(a){return a=Pt(a),a&&a.replace($m,n4).replace(Yw,"")}function h6(a,c,h){a=Pt(a),c=ui(c);var v=a.length;h=h===n?v:Ml(Xe(h),0,v);var E=h;return h-=c.length,h>=0&&a.slice(h,E)==c}function p6(a){return a=Pt(a),a&&ze.test(a)?a.replace(Le,r4):a}function m6(a){return a=Pt(a),a&&li.test(a)?a.replace(Ji,"\\$&"):a}var g6=_c(function(a,c,h){return a+(h?"-":"")+c.toLowerCase()}),_6=_c(function(a,c,h){return a+(h?" ":"")+c.toLowerCase()}),v6=Cb("toLowerCase");function y6(a,c,h){a=Pt(a),c=Xe(c);var v=c?cc(a):0;if(!c||v>=c)return a;var E=(c-v)/2;return Og(wg(E),h)+a+Og(yg(E),h)}function w6(a,c,h){a=Pt(a),c=Xe(c);var v=c?cc(a):0;return c&&v<c?a+Og(c-v,h):a}function E6(a,c,h){a=Pt(a),c=Xe(c);var v=c?cc(a):0;return c&&v<c?Og(c-v,h)+a:a}function T6(a,c,h){return h||c==null?c=0:c&&(c=+c),C4(Pt(a).replace(br,""),c||0)}function I6(a,c,h){return(h?kr(a,c,h):c===n)?c=1:c=Xe(c),_0(Pt(a),c)}function S6(){var a=arguments,c=Pt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var A6=_c(function(a,c,h){return a+(h?"_":"")+c.toLowerCase()});function R6(a,c,h){return h&&typeof h!="number"&&kr(a,c,h)&&(c=h=n),h=h===n?Ie:h>>>0,h?(a=Pt(a),a&&(typeof c=="string"||c!=null&&!$0(c))&&(c=ui(c),!c&&uc(a))?ua(ts(a),0,h):a.split(c,h)):[]}var b6=_c(function(a,c,h){return a+(h?" ":"")+j0(c)});function P6(a,c,h){return a=Pt(a),h=h==null?0:Ml(Xe(h),0,a.length),c=ui(c),a.slice(h,h+c.length)==c}function C6(a,c,h){var v=P.templateSettings;h&&kr(a,c,h)&&(c=n),a=Pt(a),c=Gg({},c,v,Mb);var E=Gg({},c.imports,v.imports,Mb),k=Yn(E),V=Fn(E,k),$,G,ee=0,te=c.interpolate||Tl,ie="__p += '",ve=n0((c.escape||Tl).source+"|"+te.source+"|"+(te===tn?hf:Tl).source+"|"+(c.evaluate||Tl).source+"|$","g"),ke="//# sourceURL="+(xt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eg+"]")+`
`;a.replace(ve,function($e,ot,mt,di,xr,fi){return mt||(mt=di),ie+=a.slice(ee,fi).replace(Gw,i4),ot&&($=!0,ie+=`' +
__e(`+ot+`) +
'`),xr&&(G=!0,ie+=`';
`+xr+`;
__p += '`),mt&&(ie+=`' +
((__t = (`+mt+`)) == null ? '' : __t) +
'`),ee=fi+$e.length,$e}),ie+=`';
`;var Ue=xt.call(c,"variable")&&c.variable;if(!Ue)ie=`with (obj) {
`+ie+`
}
`;else if(ec.test(Ue))throw new He(l);ie=(G?ie.replace(pe,""):ie).replace(ge,"$1").replace(Ee,"$1;"),ie="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var tt=PP(function(){return St(k,ke+"return "+ie).apply(n,V)});if(tt.source=ie,U0(tt))throw tt;return tt}function k6(a){return Pt(a).toLowerCase()}function x6(a){return Pt(a).toUpperCase()}function N6(a,c,h){if(a=Pt(a),a&&(h||c===n))return pt(a);if(!a||!(c=ui(c)))return a;var v=ts(a),E=ts(c),k=jr(v,E),V=Nl(v,E)+1;return ua(v,k,V).join("")}function O6(a,c,h){if(a=Pt(a),a&&(h||c===n))return a.slice(0,BR(a)+1);if(!a||!(c=ui(c)))return a;var v=ts(a),E=Nl(v,ts(c))+1;return ua(v,0,E).join("")}function D6(a,c,h){if(a=Pt(a),a&&(h||c===n))return a.replace(br,"");if(!a||!(c=ui(c)))return a;var v=ts(a),E=jr(v,ts(c));return ua(v,E).join("")}function L6(a,c){var h=M,v=L;if(pn(c)){var E="separator"in c?c.separator:E;h="length"in c?Xe(c.length):h,v="omission"in c?ui(c.omission):v}a=Pt(a);var k=a.length;if(uc(a)){var V=ts(a);k=V.length}if(h>=k)return a;var $=h-cc(v);if($<1)return v;var G=V?ua(V,0,$).join(""):a.slice(0,$);if(E===n)return G+v;if(V&&($+=G.length-$),$0(E)){if(a.slice($).search(E)){var ee,te=G;for(E.global||(E=n0(E.source,Pt(El.exec(E))+"g")),E.lastIndex=0;ee=E.exec(te);)var ie=ee.index;G=G.slice(0,ie===n?$:ie)}}else if(a.indexOf(ui(E),$)!=$){var ve=G.lastIndexOf(E);ve>-1&&(G=G.slice(0,ve))}return G+v}function M6(a){return a=Pt(a),a&&Me.test(a)?a.replace(De,d4):a}var V6=_c(function(a,c,h){return a+(h?" ":"")+c.toUpperCase()}),j0=Cb("toUpperCase");function bP(a,c,h){return a=Pt(a),c=h?n:c,c===n?o4(a)?p4(a):lc(a):a.match(c)||[]}var PP=rt(function(a,c){try{return _r(a,n,c)}catch(h){return U0(h)?h:new He(h)}}),F6=lo(function(a,c){return Pr(c,function(h){h=Ss(h),oo(a,h,V0(a[h],a))}),a});function U6(a){var c=a==null?0:a.length,h=Fe();return a=c?Ut(a,function(v){if(typeof v[1]!="function")throw new Di(o);return[h(v[0]),v[1]]}):[],rt(function(v){for(var E=-1;++E<c;){var k=a[E];if(_r(k[0],this,v))return _r(k[1],this,v)}})}function $6(a){return dB(Mi(a,m))}function W0(a){return function(){return a}}function B6(a,c){return a==null||a!==a?c:a}var z6=xb(),j6=xb(!0);function Hr(a){return a}function G0(a){return ab(typeof a=="function"?a:Mi(a,m))}function W6(a){return ub(Mi(a,m))}function G6(a,c){return cb(a,Mi(c,m))}var q6=rt(function(a,c){return function(h){return Ff(h,a,c)}}),H6=rt(function(a,c){return function(h){return Ff(a,h,c)}});function q0(a,c,h){var v=Yn(c),E=Rg(c,v);h==null&&!(pn(c)&&(E.length||!v.length))&&(h=c,c=a,a=this,E=Rg(c,Yn(c)));var k=!(pn(h)&&"chain"in h)||!!h.chain,V=co(a);return Pr(E,function($){var G=c[$];a[$]=G,V&&(a.prototype[$]=function(){var ee=this.__chain__;if(k||ee){var te=a(this.__wrapped__),ie=te.__actions__=Wr(this.__actions__);return ie.push({func:G,args:arguments,thisArg:a}),te.__chain__=ee,te}return G.apply(a,Xi([this.value()],arguments))})}),a}function K6(){return En._===this&&(En._=w4),this}function H0(){}function Q6(a){return a=Xe(a),rt(function(c){return db(c,a)})}var Y6=S0(Ut),Z6=S0(oc),J6=S0(ac);function CP(a){return x0(a)?w(Ss(a)):PB(a)}function X6(a){return function(c){return a==null?n:Vl(a,c)}}var e9=Ob(),t9=Ob(!0);function K0(){return[]}function Q0(){return!1}function n9(){return{}}function r9(){return""}function i9(){return!0}function s9(a,c){if(a=Xe(a),a<1||a>ce)return[];var h=Ie,v=yr(a,Ie);c=Fe(c),a-=Ie;for(var E=It(v,c);++h<a;)c(h);return E}function o9(a){return Ye(a)?Ut(a,Ss):ci(a)?[a]:Wr(Qb(Pt(a)))}function a9(a){var c=++v4;return Pt(a)+c}var l9=Ng(function(a,c){return a+c},0),u9=A0("ceil"),c9=Ng(function(a,c){return a/c},1),d9=A0("floor");function f9(a){return a&&a.length?Ag(a,Hr,c0):n}function h9(a,c){return a&&a.length?Ag(a,Fe(c,2),c0):n}function p9(a){return g(a,Hr)}function m9(a,c){return g(a,Fe(c,2))}function g9(a){return a&&a.length?Ag(a,Hr,p0):n}function _9(a,c){return a&&a.length?Ag(a,Fe(c,2),p0):n}var v9=Ng(function(a,c){return a*c},1),y9=A0("round"),w9=Ng(function(a,c){return a-c},0);function E9(a){return a&&a.length?fe(a,Hr):0}function T9(a,c){return a&&a.length?fe(a,Fe(c,2)):0}return P.after=W3,P.ary=oP,P.assign=x5,P.assignIn=wP,P.assignInWith=Gg,P.assignWith=N5,P.at=O5,P.before=aP,P.bind=V0,P.bindAll=F6,P.bindKey=lP,P.castArray=n5,P.chain=rP,P.chunk=dz,P.compact=fz,P.concat=hz,P.cond=U6,P.conforms=$6,P.constant=W0,P.countBy=E3,P.create=D5,P.curry=uP,P.curryRight=cP,P.debounce=dP,P.defaults=L5,P.defaultsDeep=M5,P.defer=G3,P.delay=q3,P.difference=pz,P.differenceBy=mz,P.differenceWith=gz,P.drop=_z,P.dropRight=vz,P.dropRightWhile=yz,P.dropWhile=wz,P.fill=Ez,P.filter=I3,P.flatMap=R3,P.flatMapDeep=b3,P.flatMapDepth=P3,P.flatten=Xb,P.flattenDeep=Tz,P.flattenDepth=Iz,P.flip=H3,P.flow=z6,P.flowRight=j6,P.fromPairs=Sz,P.functions=j5,P.functionsIn=W5,P.groupBy=C3,P.initial=Rz,P.intersection=bz,P.intersectionBy=Pz,P.intersectionWith=Cz,P.invert=q5,P.invertBy=H5,P.invokeMap=x3,P.iteratee=G0,P.keyBy=N3,P.keys=Yn,P.keysIn=qr,P.map=Ug,P.mapKeys=Q5,P.mapValues=Y5,P.matches=W6,P.matchesProperty=G6,P.memoize=Bg,P.merge=Z5,P.mergeWith=EP,P.method=q6,P.methodOf=H6,P.mixin=q0,P.negate=zg,P.nthArg=Q6,P.omit=J5,P.omitBy=X5,P.once=K3,P.orderBy=O3,P.over=Y6,P.overArgs=Q3,P.overEvery=Z6,P.overSome=J6,P.partial=F0,P.partialRight=fP,P.partition=D3,P.pick=e6,P.pickBy=TP,P.property=CP,P.propertyOf=X6,P.pull=Oz,P.pullAll=tP,P.pullAllBy=Dz,P.pullAllWith=Lz,P.pullAt=Mz,P.range=e9,P.rangeRight=t9,P.rearg=Y3,P.reject=V3,P.remove=Vz,P.rest=Z3,P.reverse=L0,P.sampleSize=U3,P.set=n6,P.setWith=r6,P.shuffle=$3,P.slice=Fz,P.sortBy=j3,P.sortedUniq=Gz,P.sortedUniqBy=qz,P.split=R6,P.spread=J3,P.tail=Hz,P.take=Kz,P.takeRight=Qz,P.takeRightWhile=Yz,P.takeWhile=Zz,P.tap=f3,P.throttle=X3,P.thru=Fg,P.toArray=_P,P.toPairs=IP,P.toPairsIn=SP,P.toPath=o9,P.toPlainObject=yP,P.transform=i6,P.unary=e5,P.union=Jz,P.unionBy=Xz,P.unionWith=e3,P.uniq=t3,P.uniqBy=n3,P.uniqWith=r3,P.unset=s6,P.unzip=M0,P.unzipWith=nP,P.update=o6,P.updateWith=a6,P.values=wc,P.valuesIn=l6,P.without=i3,P.words=bP,P.wrap=t5,P.xor=s3,P.xorBy=o3,P.xorWith=a3,P.zip=l3,P.zipObject=u3,P.zipObjectDeep=c3,P.zipWith=d3,P.entries=IP,P.entriesIn=SP,P.extend=wP,P.extendWith=Gg,q0(P,P),P.add=l9,P.attempt=PP,P.camelCase=f6,P.capitalize=AP,P.ceil=u9,P.clamp=u6,P.clone=r5,P.cloneDeep=s5,P.cloneDeepWith=o5,P.cloneWith=i5,P.conformsTo=a5,P.deburr=RP,P.defaultTo=B6,P.divide=c9,P.endsWith=h6,P.eq=rs,P.escape=p6,P.escapeRegExp=m6,P.every=T3,P.find=S3,P.findIndex=Zb,P.findKey=V5,P.findLast=A3,P.findLastIndex=Jb,P.findLastKey=F5,P.floor=d9,P.forEach=iP,P.forEachRight=sP,P.forIn=U5,P.forInRight=$5,P.forOwn=B5,P.forOwnRight=z5,P.get=B0,P.gt=l5,P.gte=u5,P.has=G5,P.hasIn=z0,P.head=eP,P.identity=Hr,P.includes=k3,P.indexOf=Az,P.inRange=c6,P.invoke=K5,P.isArguments=$l,P.isArray=Ye,P.isArrayBuffer=c5,P.isArrayLike=Gr,P.isArrayLikeObject=xn,P.isBoolean=d5,P.isBuffer=ca,P.isDate=f5,P.isElement=h5,P.isEmpty=p5,P.isEqual=m5,P.isEqualWith=g5,P.isError=U0,P.isFinite=_5,P.isFunction=co,P.isInteger=hP,P.isLength=jg,P.isMap=pP,P.isMatch=v5,P.isMatchWith=y5,P.isNaN=w5,P.isNative=E5,P.isNil=I5,P.isNull=T5,P.isNumber=mP,P.isObject=pn,P.isObjectLike=Tn,P.isPlainObject=Wf,P.isRegExp=$0,P.isSafeInteger=S5,P.isSet=gP,P.isString=Wg,P.isSymbol=ci,P.isTypedArray=yc,P.isUndefined=A5,P.isWeakMap=R5,P.isWeakSet=b5,P.join=kz,P.kebabCase=g6,P.last=Fi,P.lastIndexOf=xz,P.lowerCase=_6,P.lowerFirst=v6,P.lt=P5,P.lte=C5,P.max=f9,P.maxBy=h9,P.mean=p9,P.meanBy=m9,P.min=g9,P.minBy=_9,P.stubArray=K0,P.stubFalse=Q0,P.stubObject=n9,P.stubString=r9,P.stubTrue=i9,P.multiply=v9,P.nth=Nz,P.noConflict=K6,P.noop=H0,P.now=$g,P.pad=y6,P.padEnd=w6,P.padStart=E6,P.parseInt=T6,P.random=d6,P.reduce=L3,P.reduceRight=M3,P.repeat=I6,P.replace=S6,P.result=t6,P.round=y9,P.runInContext=j,P.sample=F3,P.size=B3,P.snakeCase=A6,P.some=z3,P.sortedIndex=Uz,P.sortedIndexBy=$z,P.sortedIndexOf=Bz,P.sortedLastIndex=zz,P.sortedLastIndexBy=jz,P.sortedLastIndexOf=Wz,P.startCase=b6,P.startsWith=P6,P.subtract=w9,P.sum=E9,P.sumBy=T9,P.template=C6,P.times=s9,P.toFinite=fo,P.toInteger=Xe,P.toLength=vP,P.toLower=k6,P.toNumber=Ui,P.toSafeInteger=k5,P.toString=Pt,P.toUpper=x6,P.trim=N6,P.trimEnd=O6,P.trimStart=D6,P.truncate=L6,P.unescape=M6,P.uniqueId=a9,P.upperCase=V6,P.upperFirst=j0,P.each=iP,P.eachRight=sP,P.first=eP,q0(P,function(){var a={};return Ts(P,function(c,h){xt.call(P.prototype,h)||(a[h]=c)}),a}(),{chain:!1}),P.VERSION=r,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){P[a].placeholder=P}),Pr(["drop","take"],function(a,c){ct.prototype[a]=function(h){h=h===n?1:Wn(Xe(h),0);var v=this.__filtered__&&!c?new ct(this):this.clone();return v.__filtered__?v.__takeCount__=yr(h,v.__takeCount__):v.__views__.push({size:yr(h,Ie),type:a+(v.__dir__<0?"Right":"")}),v},ct.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),Pr(["filter","map","takeWhile"],function(a,c){var h=c+1,v=h==We||h==qt;ct.prototype[a]=function(E){var k=this.clone();return k.__iteratees__.push({iteratee:Fe(E,3),type:h}),k.__filtered__=k.__filtered__||v,k}}),Pr(["head","last"],function(a,c){var h="take"+(c?"Right":"");ct.prototype[a]=function(){return this[h](1).value()[0]}}),Pr(["initial","tail"],function(a,c){var h="drop"+(c?"":"Right");ct.prototype[a]=function(){return this.__filtered__?new ct(this):this[h](1)}}),ct.prototype.compact=function(){return this.filter(Hr)},ct.prototype.find=function(a){return this.filter(a).head()},ct.prototype.findLast=function(a){return this.reverse().find(a)},ct.prototype.invokeMap=rt(function(a,c){return typeof a=="function"?new ct(this):this.map(function(h){return Ff(h,a,c)})}),ct.prototype.reject=function(a){return this.filter(zg(Fe(a)))},ct.prototype.slice=function(a,c){a=Xe(a);var h=this;return h.__filtered__&&(a>0||c<0)?new ct(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),c!==n&&(c=Xe(c),h=c<0?h.dropRight(-c):h.take(c-a)),h)},ct.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ct.prototype.toArray=function(){return this.take(Ie)},Ts(ct.prototype,function(a,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),E=P[v?"take"+(c=="last"?"Right":""):c],k=v||/^find/.test(c);E&&(P.prototype[c]=function(){var V=this.__wrapped__,$=v?[1]:arguments,G=V instanceof ct,ee=$[0],te=G||Ye(V),ie=function(ot){var mt=E.apply(P,Xi([ot],$));return v&&ve?mt[0]:mt};te&&h&&typeof ee=="function"&&ee.length!=1&&(G=te=!1);var ve=this.__chain__,ke=!!this.__actions__.length,Ue=k&&!ve,tt=G&&!ke;if(!k&&te){V=tt?V:new ct(this);var $e=a.apply(V,$);return $e.__actions__.push({func:Fg,args:[ie],thisArg:n}),new Li($e,ve)}return Ue&&tt?a.apply(this,$):($e=this.thru(ie),Ue?v?$e.value()[0]:$e.value():$e)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(a){var c=cg[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",v=/^(?:pop|shift)$/.test(a);P.prototype[a]=function(){var E=arguments;if(v&&!this.__chain__){var k=this.value();return c.apply(Ye(k)?k:[],E)}return this[h](function(V){return c.apply(Ye(V)?V:[],E)})}}),Ts(ct.prototype,function(a,c){var h=P[c];if(h){var v=h.name+"";xt.call(pc,v)||(pc[v]=[]),pc[v].push({name:c,func:h})}}),pc[xg(n,T).name]=[{name:"wrapper",func:n}],ct.prototype.clone=M4,ct.prototype.reverse=V4,ct.prototype.value=F4,P.prototype.at=h3,P.prototype.chain=p3,P.prototype.commit=m3,P.prototype.next=g3,P.prototype.plant=v3,P.prototype.reverse=y3,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=w3,P.prototype.first=P.prototype.head,xf&&(P.prototype[xf]=_3),P},dc=m4();lr?((lr.exports=dc)._=dc,ic._=dc):En._=dc}).call(Gf)})(_y,_y.exports);_y.exports;if(OY().platform==="android"){const t=Math.round(window.ZaloJavaScriptInterface.getStatusBarHeight()/window.devicePixelRatio);document.body.style.setProperty("--zaui-safe-area-inset-top",`${t}px`)}
